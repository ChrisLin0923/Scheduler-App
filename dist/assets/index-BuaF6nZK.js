var NT=Object.defineProperty;var OT=(t,e,n)=>e in t?NT(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var H=(t,e,n)=>OT(t,typeof e!="symbol"?e+"":e,n);function LT(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var Qa=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Sf(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var y_={exports:{}},Qu={},v_={exports:{}},le={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ga=Symbol.for("react.element"),VT=Symbol.for("react.portal"),FT=Symbol.for("react.fragment"),BT=Symbol.for("react.strict_mode"),UT=Symbol.for("react.profiler"),jT=Symbol.for("react.provider"),zT=Symbol.for("react.context"),$T=Symbol.for("react.forward_ref"),YT=Symbol.for("react.suspense"),WT=Symbol.for("react.memo"),HT=Symbol.for("react.lazy"),hg=Symbol.iterator;function qT(t){return t===null||typeof t!="object"?null:(t=hg&&t[hg]||t["@@iterator"],typeof t=="function"?t:null)}var __={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w_=Object.assign,E_={};function Oo(t,e,n){this.props=t,this.context=e,this.refs=E_,this.updater=n||__}Oo.prototype.isReactComponent={};Oo.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Oo.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function T_(){}T_.prototype=Oo.prototype;function Df(t,e,n){this.props=t,this.context=e,this.refs=E_,this.updater=n||__}var kf=Df.prototype=new T_;kf.constructor=Df;w_(kf,Oo.prototype);kf.isPureReactComponent=!0;var fg=Array.isArray,S_=Object.prototype.hasOwnProperty,Cf={current:null},D_={key:!0,ref:!0,__self:!0,__source:!0};function k_(t,e,n){var r,i={},o=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)S_.call(e,r)&&!D_.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var u=Array(a),c=0;c<a;c++)u[c]=arguments[c+2];i.children=u}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:ga,type:t,key:o,ref:s,props:i,_owner:Cf.current}}function QT(t,e){return{$$typeof:ga,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function If(t){return typeof t=="object"&&t!==null&&t.$$typeof===ga}function KT(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var pg=/\/+/g;function od(t,e){return typeof t=="object"&&t!==null&&t.key!=null?KT(""+t.key):e.toString(36)}function Cl(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case ga:case VT:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+od(s,0):r,fg(i)?(n="",t!=null&&(n=t.replace(pg,"$&/")+"/"),Cl(i,e,n,"",function(c){return c})):i!=null&&(If(i)&&(i=QT(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(pg,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",fg(t))for(var a=0;a<t.length;a++){o=t[a];var u=r+od(o,a);s+=Cl(o,e,n,u,i)}else if(u=qT(t),typeof u=="function")for(t=u.call(t),a=0;!(o=t.next()).done;)o=o.value,u=r+od(o,a++),s+=Cl(o,e,n,u,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function Ka(t,e,n){if(t==null)return t;var r=[],i=0;return Cl(t,r,"","",function(o){return e.call(n,o,i++)}),r}function GT(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Rt={current:null},Il={transition:null},XT={ReactCurrentDispatcher:Rt,ReactCurrentBatchConfig:Il,ReactCurrentOwner:Cf};function C_(){throw Error("act(...) is not supported in production builds of React.")}le.Children={map:Ka,forEach:function(t,e,n){Ka(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Ka(t,function(){e++}),e},toArray:function(t){return Ka(t,function(e){return e})||[]},only:function(t){if(!If(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};le.Component=Oo;le.Fragment=FT;le.Profiler=UT;le.PureComponent=Df;le.StrictMode=BT;le.Suspense=YT;le.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=XT;le.act=C_;le.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=w_({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=Cf.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(u in e)S_.call(e,u)&&!D_.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&a!==void 0?a[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){a=Array(u);for(var c=0;c<u;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:ga,type:t.type,key:i,ref:o,props:r,_owner:s}};le.createContext=function(t){return t={$$typeof:zT,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:jT,_context:t},t.Consumer=t};le.createElement=k_;le.createFactory=function(t){var e=k_.bind(null,t);return e.type=t,e};le.createRef=function(){return{current:null}};le.forwardRef=function(t){return{$$typeof:$T,render:t}};le.isValidElement=If;le.lazy=function(t){return{$$typeof:HT,_payload:{_status:-1,_result:t},_init:GT}};le.memo=function(t,e){return{$$typeof:WT,type:t,compare:e===void 0?null:e}};le.startTransition=function(t){var e=Il.transition;Il.transition={};try{t()}finally{Il.transition=e}};le.unstable_act=C_;le.useCallback=function(t,e){return Rt.current.useCallback(t,e)};le.useContext=function(t){return Rt.current.useContext(t)};le.useDebugValue=function(){};le.useDeferredValue=function(t){return Rt.current.useDeferredValue(t)};le.useEffect=function(t,e){return Rt.current.useEffect(t,e)};le.useId=function(){return Rt.current.useId()};le.useImperativeHandle=function(t,e,n){return Rt.current.useImperativeHandle(t,e,n)};le.useInsertionEffect=function(t,e){return Rt.current.useInsertionEffect(t,e)};le.useLayoutEffect=function(t,e){return Rt.current.useLayoutEffect(t,e)};le.useMemo=function(t,e){return Rt.current.useMemo(t,e)};le.useReducer=function(t,e,n){return Rt.current.useReducer(t,e,n)};le.useRef=function(t){return Rt.current.useRef(t)};le.useState=function(t){return Rt.current.useState(t)};le.useSyncExternalStore=function(t,e,n){return Rt.current.useSyncExternalStore(t,e,n)};le.useTransition=function(){return Rt.current.useTransition()};le.version="18.3.1";v_.exports=le;var M=v_.exports;const V=Sf(M),I_=LT({__proto__:null,default:V},[M]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JT=M,ZT=Symbol.for("react.element"),eS=Symbol.for("react.fragment"),tS=Object.prototype.hasOwnProperty,nS=JT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,rS={key:!0,ref:!0,__self:!0,__source:!0};function P_(t,e,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)tS.call(e,r)&&!rS.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:ZT,type:t,key:o,ref:s,props:i,_owner:nS.current}}Qu.Fragment=eS;Qu.jsx=P_;Qu.jsxs=P_;y_.exports=Qu;var z=y_.exports,Xd={},R_={exports:{}},Qt={},x_={exports:{}},A_={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(F,q){var J=F.length;F.push(q);e:for(;0<J;){var se=J-1>>>1,ve=F[se];if(0<i(ve,q))F[se]=q,F[J]=ve,J=se;else break e}}function n(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var q=F[0],J=F.pop();if(J!==q){F[0]=J;e:for(var se=0,ve=F.length,be=ve>>>1;se<be;){var Vn=2*(se+1)-1,Fn=F[Vn],Bn=Vn+1,Un=F[Bn];if(0>i(Fn,J))Bn<ve&&0>i(Un,Fn)?(F[se]=Un,F[Bn]=J,se=Bn):(F[se]=Fn,F[Vn]=J,se=Vn);else if(Bn<ve&&0>i(Un,J))F[se]=Un,F[Bn]=J,se=Bn;else break e}}return q}function i(F,q){var J=F.sortIndex-q.sortIndex;return J!==0?J:F.id-q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var u=[],c=[],d=1,f=null,m=3,g=!1,D=!1,E=!1,C=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function k(F){for(var q=n(c);q!==null;){if(q.callback===null)r(c);else if(q.startTime<=F)r(c),q.sortIndex=q.expirationTime,e(u,q);else break;q=n(c)}}function A(F){if(E=!1,k(F),!D)if(n(u)!==null)D=!0,X(N);else{var q=n(c);q!==null&&te(A,q.startTime-F)}}function N(F,q){D=!1,E&&(E=!1,v(y),y=-1),g=!0;var J=m;try{for(k(q),f=n(u);f!==null&&(!(f.expirationTime>q)||F&&!x());){var se=f.callback;if(typeof se=="function"){f.callback=null,m=f.priorityLevel;var ve=se(f.expirationTime<=q);q=t.unstable_now(),typeof ve=="function"?f.callback=ve:f===n(u)&&r(u),k(q)}else r(u);f=n(u)}if(f!==null)var be=!0;else{var Vn=n(c);Vn!==null&&te(A,Vn.startTime-q),be=!1}return be}finally{f=null,m=J,g=!1}}var O=!1,T=null,y=-1,S=5,P=-1;function x(){return!(t.unstable_now()-P<S)}function R(){if(T!==null){var F=t.unstable_now();P=F;var q=!0;try{q=T(!0,F)}finally{q?I():(O=!1,T=null)}}else O=!1}var I;if(typeof _=="function")I=function(){_(R)};else if(typeof MessageChannel<"u"){var Z=new MessageChannel,ne=Z.port2;Z.port1.onmessage=R,I=function(){ne.postMessage(null)}}else I=function(){C(R,0)};function X(F){T=F,O||(O=!0,I())}function te(F,q){y=C(function(){F(t.unstable_now())},q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(F){F.callback=null},t.unstable_continueExecution=function(){D||g||(D=!0,X(N))},t.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<F?Math.floor(1e3/F):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(F){switch(m){case 1:case 2:case 3:var q=3;break;default:q=m}var J=m;m=q;try{return F()}finally{m=J}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(F,q){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var J=m;m=F;try{return q()}finally{m=J}},t.unstable_scheduleCallback=function(F,q,J){var se=t.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?se+J:se):J=se,F){case 1:var ve=-1;break;case 2:ve=250;break;case 5:ve=1073741823;break;case 4:ve=1e4;break;default:ve=5e3}return ve=J+ve,F={id:d++,callback:q,priorityLevel:F,startTime:J,expirationTime:ve,sortIndex:-1},J>se?(F.sortIndex=J,e(c,F),n(u)===null&&F===n(c)&&(E?(v(y),y=-1):E=!0,te(A,J-se))):(F.sortIndex=ve,e(u,F),D||g||(D=!0,X(N))),F},t.unstable_shouldYield=x,t.unstable_wrapCallback=function(F){var q=m;return function(){var J=m;m=q;try{return F.apply(this,arguments)}finally{m=J}}}})(A_);x_.exports=A_;var iS=x_.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oS=M,qt=iS;function j(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var b_=new Set,js={};function Ei(t,e){co(t,e),co(t+"Capture",e)}function co(t,e){for(js[t]=e,t=0;t<e.length;t++)b_.add(e[t])}var Zn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Jd=Object.prototype.hasOwnProperty,sS=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,mg={},gg={};function aS(t){return Jd.call(gg,t)?!0:Jd.call(mg,t)?!1:sS.test(t)?gg[t]=!0:(mg[t]=!0,!1)}function lS(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function uS(t,e,n,r){if(e===null||typeof e>"u"||lS(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function xt(t,e,n,r,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var ct={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ct[t]=new xt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];ct[e]=new xt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){ct[t]=new xt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ct[t]=new xt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ct[t]=new xt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){ct[t]=new xt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){ct[t]=new xt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){ct[t]=new xt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){ct[t]=new xt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Pf=/[\-:]([a-z])/g;function Rf(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Pf,Rf);ct[e]=new xt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Pf,Rf);ct[e]=new xt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Pf,Rf);ct[e]=new xt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){ct[t]=new xt(t,1,!1,t.toLowerCase(),null,!1,!1)});ct.xlinkHref=new xt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){ct[t]=new xt(t,1,!1,t.toLowerCase(),null,!0,!0)});function xf(t,e,n,r){var i=ct.hasOwnProperty(e)?ct[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(uS(e,n,i,r)&&(n=null),r||i===null?aS(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var ar=oS.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ga=Symbol.for("react.element"),Bi=Symbol.for("react.portal"),Ui=Symbol.for("react.fragment"),Af=Symbol.for("react.strict_mode"),Zd=Symbol.for("react.profiler"),M_=Symbol.for("react.provider"),N_=Symbol.for("react.context"),bf=Symbol.for("react.forward_ref"),eh=Symbol.for("react.suspense"),th=Symbol.for("react.suspense_list"),Mf=Symbol.for("react.memo"),fr=Symbol.for("react.lazy"),O_=Symbol.for("react.offscreen"),yg=Symbol.iterator;function is(t){return t===null||typeof t!="object"?null:(t=yg&&t[yg]||t["@@iterator"],typeof t=="function"?t:null)}var Le=Object.assign,sd;function vs(t){if(sd===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);sd=e&&e[1]||""}return`
`+sd+t}var ad=!1;function ld(t,e){if(!t||ad)return"";ad=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var u=`
`+i[s].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=s&&0<=a);break}}}finally{ad=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?vs(t):""}function cS(t){switch(t.tag){case 5:return vs(t.type);case 16:return vs("Lazy");case 13:return vs("Suspense");case 19:return vs("SuspenseList");case 0:case 2:case 15:return t=ld(t.type,!1),t;case 11:return t=ld(t.type.render,!1),t;case 1:return t=ld(t.type,!0),t;default:return""}}function nh(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ui:return"Fragment";case Bi:return"Portal";case Zd:return"Profiler";case Af:return"StrictMode";case eh:return"Suspense";case th:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case N_:return(t.displayName||"Context")+".Consumer";case M_:return(t._context.displayName||"Context")+".Provider";case bf:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Mf:return e=t.displayName||null,e!==null?e:nh(t.type)||"Memo";case fr:e=t._payload,t=t._init;try{return nh(t(e))}catch{}}return null}function dS(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return nh(e);case 8:return e===Af?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Or(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function L_(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function hS(t){var e=L_(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Xa(t){t._valueTracker||(t._valueTracker=hS(t))}function V_(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=L_(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Gl(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function rh(t,e){var n=e.checked;return Le({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function vg(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Or(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function F_(t,e){e=e.checked,e!=null&&xf(t,"checked",e,!1)}function ih(t,e){F_(t,e);var n=Or(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?oh(t,e.type,n):e.hasOwnProperty("defaultValue")&&oh(t,e.type,Or(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function _g(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function oh(t,e,n){(e!=="number"||Gl(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var _s=Array.isArray;function Xi(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Or(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function sh(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(j(91));return Le({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function wg(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(j(92));if(_s(n)){if(1<n.length)throw Error(j(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Or(n)}}function B_(t,e){var n=Or(e.value),r=Or(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Eg(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function U_(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ah(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?U_(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Ja,j_=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Ja=Ja||document.createElement("div"),Ja.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ja.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function zs(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Is={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fS=["Webkit","ms","Moz","O"];Object.keys(Is).forEach(function(t){fS.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Is[e]=Is[t]})});function z_(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Is.hasOwnProperty(t)&&Is[t]?(""+e).trim():e+"px"}function $_(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=z_(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var pS=Le({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function lh(t,e){if(e){if(pS[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(j(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(j(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(j(61))}if(e.style!=null&&typeof e.style!="object")throw Error(j(62))}}function uh(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ch=null;function Nf(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var dh=null,Ji=null,Zi=null;function Tg(t){if(t=_a(t)){if(typeof dh!="function")throw Error(j(280));var e=t.stateNode;e&&(e=Zu(e),dh(t.stateNode,t.type,e))}}function Y_(t){Ji?Zi?Zi.push(t):Zi=[t]:Ji=t}function W_(){if(Ji){var t=Ji,e=Zi;if(Zi=Ji=null,Tg(t),e)for(t=0;t<e.length;t++)Tg(e[t])}}function H_(t,e){return t(e)}function q_(){}var ud=!1;function Q_(t,e,n){if(ud)return t(e,n);ud=!0;try{return H_(t,e,n)}finally{ud=!1,(Ji!==null||Zi!==null)&&(q_(),W_())}}function $s(t,e){var n=t.stateNode;if(n===null)return null;var r=Zu(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(j(231,e,typeof n));return n}var hh=!1;if(Zn)try{var os={};Object.defineProperty(os,"passive",{get:function(){hh=!0}}),window.addEventListener("test",os,os),window.removeEventListener("test",os,os)}catch{hh=!1}function mS(t,e,n,r,i,o,s,a,u){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(d){this.onError(d)}}var Ps=!1,Xl=null,Jl=!1,fh=null,gS={onError:function(t){Ps=!0,Xl=t}};function yS(t,e,n,r,i,o,s,a,u){Ps=!1,Xl=null,mS.apply(gS,arguments)}function vS(t,e,n,r,i,o,s,a,u){if(yS.apply(this,arguments),Ps){if(Ps){var c=Xl;Ps=!1,Xl=null}else throw Error(j(198));Jl||(Jl=!0,fh=c)}}function Ti(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function K_(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Sg(t){if(Ti(t)!==t)throw Error(j(188))}function _S(t){var e=t.alternate;if(!e){if(e=Ti(t),e===null)throw Error(j(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Sg(i),t;if(o===r)return Sg(i),e;o=o.sibling}throw Error(j(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(j(189))}}if(n.alternate!==r)throw Error(j(190))}if(n.tag!==3)throw Error(j(188));return n.stateNode.current===n?t:e}function G_(t){return t=_S(t),t!==null?X_(t):null}function X_(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=X_(t);if(e!==null)return e;t=t.sibling}return null}var J_=qt.unstable_scheduleCallback,Dg=qt.unstable_cancelCallback,wS=qt.unstable_shouldYield,ES=qt.unstable_requestPaint,$e=qt.unstable_now,TS=qt.unstable_getCurrentPriorityLevel,Of=qt.unstable_ImmediatePriority,Z_=qt.unstable_UserBlockingPriority,Zl=qt.unstable_NormalPriority,SS=qt.unstable_LowPriority,e0=qt.unstable_IdlePriority,Ku=null,Cn=null;function DS(t){if(Cn&&typeof Cn.onCommitFiberRoot=="function")try{Cn.onCommitFiberRoot(Ku,t,void 0,(t.current.flags&128)===128)}catch{}}var fn=Math.clz32?Math.clz32:IS,kS=Math.log,CS=Math.LN2;function IS(t){return t>>>=0,t===0?32:31-(kS(t)/CS|0)|0}var Za=64,el=4194304;function ws(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function eu(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=ws(a):(o&=s,o!==0&&(r=ws(o)))}else s=n&~i,s!==0?r=ws(s):o!==0&&(r=ws(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-fn(e),i=1<<n,r|=t[n],e&=~i;return r}function PS(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function RS(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-fn(o),a=1<<s,u=i[s];u===-1?(!(a&n)||a&r)&&(i[s]=PS(a,e)):u<=e&&(t.expiredLanes|=a),o&=~a}}function ph(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function t0(){var t=Za;return Za<<=1,!(Za&4194240)&&(Za=64),t}function cd(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ya(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-fn(e),t[e]=n}function xS(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-fn(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function Lf(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-fn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Se=0;function n0(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var r0,Vf,i0,o0,s0,mh=!1,tl=[],Tr=null,Sr=null,Dr=null,Ys=new Map,Ws=new Map,mr=[],AS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function kg(t,e){switch(t){case"focusin":case"focusout":Tr=null;break;case"dragenter":case"dragleave":Sr=null;break;case"mouseover":case"mouseout":Dr=null;break;case"pointerover":case"pointerout":Ys.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ws.delete(e.pointerId)}}function ss(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=_a(e),e!==null&&Vf(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function bS(t,e,n,r,i){switch(e){case"focusin":return Tr=ss(Tr,t,e,n,r,i),!0;case"dragenter":return Sr=ss(Sr,t,e,n,r,i),!0;case"mouseover":return Dr=ss(Dr,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return Ys.set(o,ss(Ys.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Ws.set(o,ss(Ws.get(o)||null,t,e,n,r,i)),!0}return!1}function a0(t){var e=ti(t.target);if(e!==null){var n=Ti(e);if(n!==null){if(e=n.tag,e===13){if(e=K_(n),e!==null){t.blockedOn=e,s0(t.priority,function(){i0(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Pl(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=gh(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);ch=r,n.target.dispatchEvent(r),ch=null}else return e=_a(n),e!==null&&Vf(e),t.blockedOn=n,!1;e.shift()}return!0}function Cg(t,e,n){Pl(t)&&n.delete(e)}function MS(){mh=!1,Tr!==null&&Pl(Tr)&&(Tr=null),Sr!==null&&Pl(Sr)&&(Sr=null),Dr!==null&&Pl(Dr)&&(Dr=null),Ys.forEach(Cg),Ws.forEach(Cg)}function as(t,e){t.blockedOn===e&&(t.blockedOn=null,mh||(mh=!0,qt.unstable_scheduleCallback(qt.unstable_NormalPriority,MS)))}function Hs(t){function e(i){return as(i,t)}if(0<tl.length){as(tl[0],t);for(var n=1;n<tl.length;n++){var r=tl[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Tr!==null&&as(Tr,t),Sr!==null&&as(Sr,t),Dr!==null&&as(Dr,t),Ys.forEach(e),Ws.forEach(e),n=0;n<mr.length;n++)r=mr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<mr.length&&(n=mr[0],n.blockedOn===null);)a0(n),n.blockedOn===null&&mr.shift()}var eo=ar.ReactCurrentBatchConfig,tu=!0;function NS(t,e,n,r){var i=Se,o=eo.transition;eo.transition=null;try{Se=1,Ff(t,e,n,r)}finally{Se=i,eo.transition=o}}function OS(t,e,n,r){var i=Se,o=eo.transition;eo.transition=null;try{Se=4,Ff(t,e,n,r)}finally{Se=i,eo.transition=o}}function Ff(t,e,n,r){if(tu){var i=gh(t,e,n,r);if(i===null)wd(t,e,r,nu,n),kg(t,r);else if(bS(i,t,e,n,r))r.stopPropagation();else if(kg(t,r),e&4&&-1<AS.indexOf(t)){for(;i!==null;){var o=_a(i);if(o!==null&&r0(o),o=gh(t,e,n,r),o===null&&wd(t,e,r,nu,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else wd(t,e,r,null,n)}}var nu=null;function gh(t,e,n,r){if(nu=null,t=Nf(r),t=ti(t),t!==null)if(e=Ti(t),e===null)t=null;else if(n=e.tag,n===13){if(t=K_(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return nu=t,null}function l0(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(TS()){case Of:return 1;case Z_:return 4;case Zl:case SS:return 16;case e0:return 536870912;default:return 16}default:return 16}}var yr=null,Bf=null,Rl=null;function u0(){if(Rl)return Rl;var t,e=Bf,n=e.length,r,i="value"in yr?yr.value:yr.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[o-r];r++);return Rl=i.slice(t,1<r?1-r:void 0)}function xl(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function nl(){return!0}function Ig(){return!1}function Kt(t){function e(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?nl:Ig,this.isPropagationStopped=Ig,this}return Le(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=nl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=nl)},persist:function(){},isPersistent:nl}),e}var Lo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Uf=Kt(Lo),va=Le({},Lo,{view:0,detail:0}),LS=Kt(va),dd,hd,ls,Gu=Le({},va,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:jf,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ls&&(ls&&t.type==="mousemove"?(dd=t.screenX-ls.screenX,hd=t.screenY-ls.screenY):hd=dd=0,ls=t),dd)},movementY:function(t){return"movementY"in t?t.movementY:hd}}),Pg=Kt(Gu),VS=Le({},Gu,{dataTransfer:0}),FS=Kt(VS),BS=Le({},va,{relatedTarget:0}),fd=Kt(BS),US=Le({},Lo,{animationName:0,elapsedTime:0,pseudoElement:0}),jS=Kt(US),zS=Le({},Lo,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),$S=Kt(zS),YS=Le({},Lo,{data:0}),Rg=Kt(YS),WS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},HS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},qS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function QS(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=qS[t])?!!e[t]:!1}function jf(){return QS}var KS=Le({},va,{key:function(t){if(t.key){var e=WS[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=xl(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?HS[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:jf,charCode:function(t){return t.type==="keypress"?xl(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?xl(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),GS=Kt(KS),XS=Le({},Gu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),xg=Kt(XS),JS=Le({},va,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:jf}),ZS=Kt(JS),eD=Le({},Lo,{propertyName:0,elapsedTime:0,pseudoElement:0}),tD=Kt(eD),nD=Le({},Gu,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),rD=Kt(nD),iD=[9,13,27,32],zf=Zn&&"CompositionEvent"in window,Rs=null;Zn&&"documentMode"in document&&(Rs=document.documentMode);var oD=Zn&&"TextEvent"in window&&!Rs,c0=Zn&&(!zf||Rs&&8<Rs&&11>=Rs),Ag=" ",bg=!1;function d0(t,e){switch(t){case"keyup":return iD.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function h0(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ji=!1;function sD(t,e){switch(t){case"compositionend":return h0(e);case"keypress":return e.which!==32?null:(bg=!0,Ag);case"textInput":return t=e.data,t===Ag&&bg?null:t;default:return null}}function aD(t,e){if(ji)return t==="compositionend"||!zf&&d0(t,e)?(t=u0(),Rl=Bf=yr=null,ji=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return c0&&e.locale!=="ko"?null:e.data;default:return null}}var lD={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Mg(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!lD[t.type]:e==="textarea"}function f0(t,e,n,r){Y_(r),e=ru(e,"onChange"),0<e.length&&(n=new Uf("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var xs=null,qs=null;function uD(t){D0(t,0)}function Xu(t){var e=Yi(t);if(V_(e))return t}function cD(t,e){if(t==="change")return e}var p0=!1;if(Zn){var pd;if(Zn){var md="oninput"in document;if(!md){var Ng=document.createElement("div");Ng.setAttribute("oninput","return;"),md=typeof Ng.oninput=="function"}pd=md}else pd=!1;p0=pd&&(!document.documentMode||9<document.documentMode)}function Og(){xs&&(xs.detachEvent("onpropertychange",m0),qs=xs=null)}function m0(t){if(t.propertyName==="value"&&Xu(qs)){var e=[];f0(e,qs,t,Nf(t)),Q_(uD,e)}}function dD(t,e,n){t==="focusin"?(Og(),xs=e,qs=n,xs.attachEvent("onpropertychange",m0)):t==="focusout"&&Og()}function hD(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Xu(qs)}function fD(t,e){if(t==="click")return Xu(e)}function pD(t,e){if(t==="input"||t==="change")return Xu(e)}function mD(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var mn=typeof Object.is=="function"?Object.is:mD;function Qs(t,e){if(mn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Jd.call(e,i)||!mn(t[i],e[i]))return!1}return!0}function Lg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Vg(t,e){var n=Lg(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Lg(n)}}function g0(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?g0(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function y0(){for(var t=window,e=Gl();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Gl(t.document)}return e}function $f(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function gD(t){var e=y0(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&g0(n.ownerDocument.documentElement,n)){if(r!==null&&$f(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=Vg(n,o);var s=Vg(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var yD=Zn&&"documentMode"in document&&11>=document.documentMode,zi=null,yh=null,As=null,vh=!1;function Fg(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;vh||zi==null||zi!==Gl(r)||(r=zi,"selectionStart"in r&&$f(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),As&&Qs(As,r)||(As=r,r=ru(yh,"onSelect"),0<r.length&&(e=new Uf("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=zi)))}function rl(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var $i={animationend:rl("Animation","AnimationEnd"),animationiteration:rl("Animation","AnimationIteration"),animationstart:rl("Animation","AnimationStart"),transitionend:rl("Transition","TransitionEnd")},gd={},v0={};Zn&&(v0=document.createElement("div").style,"AnimationEvent"in window||(delete $i.animationend.animation,delete $i.animationiteration.animation,delete $i.animationstart.animation),"TransitionEvent"in window||delete $i.transitionend.transition);function Ju(t){if(gd[t])return gd[t];if(!$i[t])return t;var e=$i[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in v0)return gd[t]=e[n];return t}var _0=Ju("animationend"),w0=Ju("animationiteration"),E0=Ju("animationstart"),T0=Ju("transitionend"),S0=new Map,Bg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Yr(t,e){S0.set(t,e),Ei(e,[t])}for(var yd=0;yd<Bg.length;yd++){var vd=Bg[yd],vD=vd.toLowerCase(),_D=vd[0].toUpperCase()+vd.slice(1);Yr(vD,"on"+_D)}Yr(_0,"onAnimationEnd");Yr(w0,"onAnimationIteration");Yr(E0,"onAnimationStart");Yr("dblclick","onDoubleClick");Yr("focusin","onFocus");Yr("focusout","onBlur");Yr(T0,"onTransitionEnd");co("onMouseEnter",["mouseout","mouseover"]);co("onMouseLeave",["mouseout","mouseover"]);co("onPointerEnter",["pointerout","pointerover"]);co("onPointerLeave",["pointerout","pointerover"]);Ei("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ei("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ei("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ei("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ei("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ei("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Es="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),wD=new Set("cancel close invalid load scroll toggle".split(" ").concat(Es));function Ug(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,vS(r,e,void 0,t),t.currentTarget=null}function D0(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var a=r[s],u=a.instance,c=a.currentTarget;if(a=a.listener,u!==o&&i.isPropagationStopped())break e;Ug(i,a,c),o=u}else for(s=0;s<r.length;s++){if(a=r[s],u=a.instance,c=a.currentTarget,a=a.listener,u!==o&&i.isPropagationStopped())break e;Ug(i,a,c),o=u}}}if(Jl)throw t=fh,Jl=!1,fh=null,t}function Ie(t,e){var n=e[Sh];n===void 0&&(n=e[Sh]=new Set);var r=t+"__bubble";n.has(r)||(k0(e,t,2,!1),n.add(r))}function _d(t,e,n){var r=0;e&&(r|=4),k0(n,t,r,e)}var il="_reactListening"+Math.random().toString(36).slice(2);function Ks(t){if(!t[il]){t[il]=!0,b_.forEach(function(n){n!=="selectionchange"&&(wD.has(n)||_d(n,!1,t),_d(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[il]||(e[il]=!0,_d("selectionchange",!1,e))}}function k0(t,e,n,r){switch(l0(e)){case 1:var i=NS;break;case 4:i=OS;break;default:i=Ff}n=i.bind(null,e,n,t),i=void 0,!hh||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function wd(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var u=s.tag;if((u===3||u===4)&&(u=s.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;s=s.return}for(;a!==null;){if(s=ti(a),s===null)return;if(u=s.tag,u===5||u===6){r=o=s;continue e}a=a.parentNode}}r=r.return}Q_(function(){var c=o,d=Nf(n),f=[];e:{var m=S0.get(t);if(m!==void 0){var g=Uf,D=t;switch(t){case"keypress":if(xl(n)===0)break e;case"keydown":case"keyup":g=GS;break;case"focusin":D="focus",g=fd;break;case"focusout":D="blur",g=fd;break;case"beforeblur":case"afterblur":g=fd;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=Pg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=FS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=ZS;break;case _0:case w0:case E0:g=jS;break;case T0:g=tD;break;case"scroll":g=LS;break;case"wheel":g=rD;break;case"copy":case"cut":case"paste":g=$S;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=xg}var E=(e&4)!==0,C=!E&&t==="scroll",v=E?m!==null?m+"Capture":null:m;E=[];for(var _=c,k;_!==null;){k=_;var A=k.stateNode;if(k.tag===5&&A!==null&&(k=A,v!==null&&(A=$s(_,v),A!=null&&E.push(Gs(_,A,k)))),C)break;_=_.return}0<E.length&&(m=new g(m,D,null,n,d),f.push({event:m,listeners:E}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",m&&n!==ch&&(D=n.relatedTarget||n.fromElement)&&(ti(D)||D[er]))break e;if((g||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,g?(D=n.relatedTarget||n.toElement,g=c,D=D?ti(D):null,D!==null&&(C=Ti(D),D!==C||D.tag!==5&&D.tag!==6)&&(D=null)):(g=null,D=c),g!==D)){if(E=Pg,A="onMouseLeave",v="onMouseEnter",_="mouse",(t==="pointerout"||t==="pointerover")&&(E=xg,A="onPointerLeave",v="onPointerEnter",_="pointer"),C=g==null?m:Yi(g),k=D==null?m:Yi(D),m=new E(A,_+"leave",g,n,d),m.target=C,m.relatedTarget=k,A=null,ti(d)===c&&(E=new E(v,_+"enter",D,n,d),E.target=k,E.relatedTarget=C,A=E),C=A,g&&D)t:{for(E=g,v=D,_=0,k=E;k;k=bi(k))_++;for(k=0,A=v;A;A=bi(A))k++;for(;0<_-k;)E=bi(E),_--;for(;0<k-_;)v=bi(v),k--;for(;_--;){if(E===v||v!==null&&E===v.alternate)break t;E=bi(E),v=bi(v)}E=null}else E=null;g!==null&&jg(f,m,g,E,!1),D!==null&&C!==null&&jg(f,C,D,E,!0)}}e:{if(m=c?Yi(c):window,g=m.nodeName&&m.nodeName.toLowerCase(),g==="select"||g==="input"&&m.type==="file")var N=cD;else if(Mg(m))if(p0)N=pD;else{N=hD;var O=dD}else(g=m.nodeName)&&g.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(N=fD);if(N&&(N=N(t,c))){f0(f,N,n,d);break e}O&&O(t,m,c),t==="focusout"&&(O=m._wrapperState)&&O.controlled&&m.type==="number"&&oh(m,"number",m.value)}switch(O=c?Yi(c):window,t){case"focusin":(Mg(O)||O.contentEditable==="true")&&(zi=O,yh=c,As=null);break;case"focusout":As=yh=zi=null;break;case"mousedown":vh=!0;break;case"contextmenu":case"mouseup":case"dragend":vh=!1,Fg(f,n,d);break;case"selectionchange":if(yD)break;case"keydown":case"keyup":Fg(f,n,d)}var T;if(zf)e:{switch(t){case"compositionstart":var y="onCompositionStart";break e;case"compositionend":y="onCompositionEnd";break e;case"compositionupdate":y="onCompositionUpdate";break e}y=void 0}else ji?d0(t,n)&&(y="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(y="onCompositionStart");y&&(c0&&n.locale!=="ko"&&(ji||y!=="onCompositionStart"?y==="onCompositionEnd"&&ji&&(T=u0()):(yr=d,Bf="value"in yr?yr.value:yr.textContent,ji=!0)),O=ru(c,y),0<O.length&&(y=new Rg(y,t,null,n,d),f.push({event:y,listeners:O}),T?y.data=T:(T=h0(n),T!==null&&(y.data=T)))),(T=oD?sD(t,n):aD(t,n))&&(c=ru(c,"onBeforeInput"),0<c.length&&(d=new Rg("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:c}),d.data=T))}D0(f,e)})}function Gs(t,e,n){return{instance:t,listener:e,currentTarget:n}}function ru(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=$s(t,n),o!=null&&r.unshift(Gs(t,o,i)),o=$s(t,e),o!=null&&r.push(Gs(t,o,i))),t=t.return}return r}function bi(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function jg(t,e,n,r,i){for(var o=e._reactName,s=[];n!==null&&n!==r;){var a=n,u=a.alternate,c=a.stateNode;if(u!==null&&u===r)break;a.tag===5&&c!==null&&(a=c,i?(u=$s(n,o),u!=null&&s.unshift(Gs(n,u,a))):i||(u=$s(n,o),u!=null&&s.push(Gs(n,u,a)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var ED=/\r\n?/g,TD=/\u0000|\uFFFD/g;function zg(t){return(typeof t=="string"?t:""+t).replace(ED,`
`).replace(TD,"")}function ol(t,e,n){if(e=zg(e),zg(t)!==e&&n)throw Error(j(425))}function iu(){}var _h=null,wh=null;function Eh(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Th=typeof setTimeout=="function"?setTimeout:void 0,SD=typeof clearTimeout=="function"?clearTimeout:void 0,$g=typeof Promise=="function"?Promise:void 0,DD=typeof queueMicrotask=="function"?queueMicrotask:typeof $g<"u"?function(t){return $g.resolve(null).then(t).catch(kD)}:Th;function kD(t){setTimeout(function(){throw t})}function Ed(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Hs(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Hs(e)}function kr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Yg(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Vo=Math.random().toString(36).slice(2),Tn="__reactFiber$"+Vo,Xs="__reactProps$"+Vo,er="__reactContainer$"+Vo,Sh="__reactEvents$"+Vo,CD="__reactListeners$"+Vo,ID="__reactHandles$"+Vo;function ti(t){var e=t[Tn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[er]||n[Tn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Yg(t);t!==null;){if(n=t[Tn])return n;t=Yg(t)}return e}t=n,n=t.parentNode}return null}function _a(t){return t=t[Tn]||t[er],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Yi(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(j(33))}function Zu(t){return t[Xs]||null}var Dh=[],Wi=-1;function Wr(t){return{current:t}}function Re(t){0>Wi||(t.current=Dh[Wi],Dh[Wi]=null,Wi--)}function ke(t,e){Wi++,Dh[Wi]=t.current,t.current=e}var Lr={},Et=Wr(Lr),Nt=Wr(!1),hi=Lr;function ho(t,e){var n=t.type.contextTypes;if(!n)return Lr;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Ot(t){return t=t.childContextTypes,t!=null}function ou(){Re(Nt),Re(Et)}function Wg(t,e,n){if(Et.current!==Lr)throw Error(j(168));ke(Et,e),ke(Nt,n)}function C0(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(j(108,dS(t)||"Unknown",i));return Le({},n,r)}function su(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Lr,hi=Et.current,ke(Et,t),ke(Nt,Nt.current),!0}function Hg(t,e,n){var r=t.stateNode;if(!r)throw Error(j(169));n?(t=C0(t,e,hi),r.__reactInternalMemoizedMergedChildContext=t,Re(Nt),Re(Et),ke(Et,t)):Re(Nt),ke(Nt,n)}var Yn=null,ec=!1,Td=!1;function I0(t){Yn===null?Yn=[t]:Yn.push(t)}function PD(t){ec=!0,I0(t)}function Hr(){if(!Td&&Yn!==null){Td=!0;var t=0,e=Se;try{var n=Yn;for(Se=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Yn=null,ec=!1}catch(i){throw Yn!==null&&(Yn=Yn.slice(t+1)),J_(Of,Hr),i}finally{Se=e,Td=!1}}return null}var Hi=[],qi=0,au=null,lu=0,Xt=[],Jt=0,fi=null,Hn=1,qn="";function Xr(t,e){Hi[qi++]=lu,Hi[qi++]=au,au=t,lu=e}function P0(t,e,n){Xt[Jt++]=Hn,Xt[Jt++]=qn,Xt[Jt++]=fi,fi=t;var r=Hn;t=qn;var i=32-fn(r)-1;r&=~(1<<i),n+=1;var o=32-fn(e)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Hn=1<<32-fn(e)+i|n<<i|r,qn=o+t}else Hn=1<<o|n<<i|r,qn=t}function Yf(t){t.return!==null&&(Xr(t,1),P0(t,1,0))}function Wf(t){for(;t===au;)au=Hi[--qi],Hi[qi]=null,lu=Hi[--qi],Hi[qi]=null;for(;t===fi;)fi=Xt[--Jt],Xt[Jt]=null,qn=Xt[--Jt],Xt[Jt]=null,Hn=Xt[--Jt],Xt[Jt]=null}var Yt=null,zt=null,Ae=!1,dn=null;function R0(t,e){var n=tn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function qg(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Yt=t,zt=kr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Yt=t,zt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=fi!==null?{id:Hn,overflow:qn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=tn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Yt=t,zt=null,!0):!1;default:return!1}}function kh(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Ch(t){if(Ae){var e=zt;if(e){var n=e;if(!qg(t,e)){if(kh(t))throw Error(j(418));e=kr(n.nextSibling);var r=Yt;e&&qg(t,e)?R0(r,n):(t.flags=t.flags&-4097|2,Ae=!1,Yt=t)}}else{if(kh(t))throw Error(j(418));t.flags=t.flags&-4097|2,Ae=!1,Yt=t}}}function Qg(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Yt=t}function sl(t){if(t!==Yt)return!1;if(!Ae)return Qg(t),Ae=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Eh(t.type,t.memoizedProps)),e&&(e=zt)){if(kh(t))throw x0(),Error(j(418));for(;e;)R0(t,e),e=kr(e.nextSibling)}if(Qg(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(j(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){zt=kr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}zt=null}}else zt=Yt?kr(t.stateNode.nextSibling):null;return!0}function x0(){for(var t=zt;t;)t=kr(t.nextSibling)}function fo(){zt=Yt=null,Ae=!1}function Hf(t){dn===null?dn=[t]:dn.push(t)}var RD=ar.ReactCurrentBatchConfig;function us(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(j(309));var r=n.stateNode}if(!r)throw Error(j(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var a=i.refs;s===null?delete a[o]:a[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(j(284));if(!n._owner)throw Error(j(290,t))}return t}function al(t,e){throw t=Object.prototype.toString.call(e),Error(j(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Kg(t){var e=t._init;return e(t._payload)}function A0(t){function e(v,_){if(t){var k=v.deletions;k===null?(v.deletions=[_],v.flags|=16):k.push(_)}}function n(v,_){if(!t)return null;for(;_!==null;)e(v,_),_=_.sibling;return null}function r(v,_){for(v=new Map;_!==null;)_.key!==null?v.set(_.key,_):v.set(_.index,_),_=_.sibling;return v}function i(v,_){return v=Rr(v,_),v.index=0,v.sibling=null,v}function o(v,_,k){return v.index=k,t?(k=v.alternate,k!==null?(k=k.index,k<_?(v.flags|=2,_):k):(v.flags|=2,_)):(v.flags|=1048576,_)}function s(v){return t&&v.alternate===null&&(v.flags|=2),v}function a(v,_,k,A){return _===null||_.tag!==6?(_=Rd(k,v.mode,A),_.return=v,_):(_=i(_,k),_.return=v,_)}function u(v,_,k,A){var N=k.type;return N===Ui?d(v,_,k.props.children,A,k.key):_!==null&&(_.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===fr&&Kg(N)===_.type)?(A=i(_,k.props),A.ref=us(v,_,k),A.return=v,A):(A=Vl(k.type,k.key,k.props,null,v.mode,A),A.ref=us(v,_,k),A.return=v,A)}function c(v,_,k,A){return _===null||_.tag!==4||_.stateNode.containerInfo!==k.containerInfo||_.stateNode.implementation!==k.implementation?(_=xd(k,v.mode,A),_.return=v,_):(_=i(_,k.children||[]),_.return=v,_)}function d(v,_,k,A,N){return _===null||_.tag!==7?(_=ai(k,v.mode,A,N),_.return=v,_):(_=i(_,k),_.return=v,_)}function f(v,_,k){if(typeof _=="string"&&_!==""||typeof _=="number")return _=Rd(""+_,v.mode,k),_.return=v,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Ga:return k=Vl(_.type,_.key,_.props,null,v.mode,k),k.ref=us(v,null,_),k.return=v,k;case Bi:return _=xd(_,v.mode,k),_.return=v,_;case fr:var A=_._init;return f(v,A(_._payload),k)}if(_s(_)||is(_))return _=ai(_,v.mode,k,null),_.return=v,_;al(v,_)}return null}function m(v,_,k,A){var N=_!==null?_.key:null;if(typeof k=="string"&&k!==""||typeof k=="number")return N!==null?null:a(v,_,""+k,A);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Ga:return k.key===N?u(v,_,k,A):null;case Bi:return k.key===N?c(v,_,k,A):null;case fr:return N=k._init,m(v,_,N(k._payload),A)}if(_s(k)||is(k))return N!==null?null:d(v,_,k,A,null);al(v,k)}return null}function g(v,_,k,A,N){if(typeof A=="string"&&A!==""||typeof A=="number")return v=v.get(k)||null,a(_,v,""+A,N);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case Ga:return v=v.get(A.key===null?k:A.key)||null,u(_,v,A,N);case Bi:return v=v.get(A.key===null?k:A.key)||null,c(_,v,A,N);case fr:var O=A._init;return g(v,_,k,O(A._payload),N)}if(_s(A)||is(A))return v=v.get(k)||null,d(_,v,A,N,null);al(_,A)}return null}function D(v,_,k,A){for(var N=null,O=null,T=_,y=_=0,S=null;T!==null&&y<k.length;y++){T.index>y?(S=T,T=null):S=T.sibling;var P=m(v,T,k[y],A);if(P===null){T===null&&(T=S);break}t&&T&&P.alternate===null&&e(v,T),_=o(P,_,y),O===null?N=P:O.sibling=P,O=P,T=S}if(y===k.length)return n(v,T),Ae&&Xr(v,y),N;if(T===null){for(;y<k.length;y++)T=f(v,k[y],A),T!==null&&(_=o(T,_,y),O===null?N=T:O.sibling=T,O=T);return Ae&&Xr(v,y),N}for(T=r(v,T);y<k.length;y++)S=g(T,v,y,k[y],A),S!==null&&(t&&S.alternate!==null&&T.delete(S.key===null?y:S.key),_=o(S,_,y),O===null?N=S:O.sibling=S,O=S);return t&&T.forEach(function(x){return e(v,x)}),Ae&&Xr(v,y),N}function E(v,_,k,A){var N=is(k);if(typeof N!="function")throw Error(j(150));if(k=N.call(k),k==null)throw Error(j(151));for(var O=N=null,T=_,y=_=0,S=null,P=k.next();T!==null&&!P.done;y++,P=k.next()){T.index>y?(S=T,T=null):S=T.sibling;var x=m(v,T,P.value,A);if(x===null){T===null&&(T=S);break}t&&T&&x.alternate===null&&e(v,T),_=o(x,_,y),O===null?N=x:O.sibling=x,O=x,T=S}if(P.done)return n(v,T),Ae&&Xr(v,y),N;if(T===null){for(;!P.done;y++,P=k.next())P=f(v,P.value,A),P!==null&&(_=o(P,_,y),O===null?N=P:O.sibling=P,O=P);return Ae&&Xr(v,y),N}for(T=r(v,T);!P.done;y++,P=k.next())P=g(T,v,y,P.value,A),P!==null&&(t&&P.alternate!==null&&T.delete(P.key===null?y:P.key),_=o(P,_,y),O===null?N=P:O.sibling=P,O=P);return t&&T.forEach(function(R){return e(v,R)}),Ae&&Xr(v,y),N}function C(v,_,k,A){if(typeof k=="object"&&k!==null&&k.type===Ui&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case Ga:e:{for(var N=k.key,O=_;O!==null;){if(O.key===N){if(N=k.type,N===Ui){if(O.tag===7){n(v,O.sibling),_=i(O,k.props.children),_.return=v,v=_;break e}}else if(O.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===fr&&Kg(N)===O.type){n(v,O.sibling),_=i(O,k.props),_.ref=us(v,O,k),_.return=v,v=_;break e}n(v,O);break}else e(v,O);O=O.sibling}k.type===Ui?(_=ai(k.props.children,v.mode,A,k.key),_.return=v,v=_):(A=Vl(k.type,k.key,k.props,null,v.mode,A),A.ref=us(v,_,k),A.return=v,v=A)}return s(v);case Bi:e:{for(O=k.key;_!==null;){if(_.key===O)if(_.tag===4&&_.stateNode.containerInfo===k.containerInfo&&_.stateNode.implementation===k.implementation){n(v,_.sibling),_=i(_,k.children||[]),_.return=v,v=_;break e}else{n(v,_);break}else e(v,_);_=_.sibling}_=xd(k,v.mode,A),_.return=v,v=_}return s(v);case fr:return O=k._init,C(v,_,O(k._payload),A)}if(_s(k))return D(v,_,k,A);if(is(k))return E(v,_,k,A);al(v,k)}return typeof k=="string"&&k!==""||typeof k=="number"?(k=""+k,_!==null&&_.tag===6?(n(v,_.sibling),_=i(_,k),_.return=v,v=_):(n(v,_),_=Rd(k,v.mode,A),_.return=v,v=_),s(v)):n(v,_)}return C}var po=A0(!0),b0=A0(!1),uu=Wr(null),cu=null,Qi=null,qf=null;function Qf(){qf=Qi=cu=null}function Kf(t){var e=uu.current;Re(uu),t._currentValue=e}function Ih(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function to(t,e){cu=t,qf=Qi=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Mt=!0),t.firstContext=null)}function rn(t){var e=t._currentValue;if(qf!==t)if(t={context:t,memoizedValue:e,next:null},Qi===null){if(cu===null)throw Error(j(308));Qi=t,cu.dependencies={lanes:0,firstContext:t}}else Qi=Qi.next=t;return e}var ni=null;function Gf(t){ni===null?ni=[t]:ni.push(t)}function M0(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Gf(e)):(n.next=i.next,i.next=n),e.interleaved=n,tr(t,r)}function tr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var pr=!1;function Xf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function N0(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Qn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Cr(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,me&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,tr(t,n)}return i=r.interleaved,i===null?(e.next=e,Gf(r)):(e.next=i.next,i.next=e),r.interleaved=e,tr(t,n)}function Al(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Lf(t,n)}}function Gg(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function du(t,e,n,r){var i=t.updateQueue;pr=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var u=a,c=u.next;u.next=null,s===null?o=c:s.next=c,s=u;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==s&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=u))}if(o!==null){var f=i.baseState;s=0,d=c=u=null,a=o;do{var m=a.lane,g=a.eventTime;if((r&m)===m){d!==null&&(d=d.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var D=t,E=a;switch(m=e,g=n,E.tag){case 1:if(D=E.payload,typeof D=="function"){f=D.call(g,f,m);break e}f=D;break e;case 3:D.flags=D.flags&-65537|128;case 0:if(D=E.payload,m=typeof D=="function"?D.call(g,f,m):D,m==null)break e;f=Le({},f,m);break e;case 2:pr=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,m=i.effects,m===null?i.effects=[a]:m.push(a))}else g={eventTime:g,lane:m,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=g,u=f):d=d.next=g,s|=m;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;m=a,a=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(!0);if(d===null&&(u=f),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);mi|=s,t.lanes=s,t.memoizedState=f}}function Xg(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(j(191,i));i.call(r)}}}var wa={},In=Wr(wa),Js=Wr(wa),Zs=Wr(wa);function ri(t){if(t===wa)throw Error(j(174));return t}function Jf(t,e){switch(ke(Zs,e),ke(Js,t),ke(In,wa),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:ah(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=ah(e,t)}Re(In),ke(In,e)}function mo(){Re(In),Re(Js),Re(Zs)}function O0(t){ri(Zs.current);var e=ri(In.current),n=ah(e,t.type);e!==n&&(ke(Js,t),ke(In,n))}function Zf(t){Js.current===t&&(Re(In),Re(Js))}var Me=Wr(0);function hu(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Sd=[];function ep(){for(var t=0;t<Sd.length;t++)Sd[t]._workInProgressVersionPrimary=null;Sd.length=0}var bl=ar.ReactCurrentDispatcher,Dd=ar.ReactCurrentBatchConfig,pi=0,Oe=null,Ge=null,tt=null,fu=!1,bs=!1,ea=0,xD=0;function mt(){throw Error(j(321))}function tp(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!mn(t[n],e[n]))return!1;return!0}function np(t,e,n,r,i,o){if(pi=o,Oe=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,bl.current=t===null||t.memoizedState===null?ND:OD,t=n(r,i),bs){o=0;do{if(bs=!1,ea=0,25<=o)throw Error(j(301));o+=1,tt=Ge=null,e.updateQueue=null,bl.current=LD,t=n(r,i)}while(bs)}if(bl.current=pu,e=Ge!==null&&Ge.next!==null,pi=0,tt=Ge=Oe=null,fu=!1,e)throw Error(j(300));return t}function rp(){var t=ea!==0;return ea=0,t}function _n(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return tt===null?Oe.memoizedState=tt=t:tt=tt.next=t,tt}function on(){if(Ge===null){var t=Oe.alternate;t=t!==null?t.memoizedState:null}else t=Ge.next;var e=tt===null?Oe.memoizedState:tt.next;if(e!==null)tt=e,Ge=t;else{if(t===null)throw Error(j(310));Ge=t,t={memoizedState:Ge.memoizedState,baseState:Ge.baseState,baseQueue:Ge.baseQueue,queue:Ge.queue,next:null},tt===null?Oe.memoizedState=tt=t:tt=tt.next=t}return tt}function ta(t,e){return typeof e=="function"?e(t):e}function kd(t){var e=on(),n=e.queue;if(n===null)throw Error(j(311));n.lastRenderedReducer=t;var r=Ge,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,u=null,c=o;do{var d=c.lane;if((pi&d)===d)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(a=u=f,s=r):u=u.next=f,Oe.lanes|=d,mi|=d}c=c.next}while(c!==null&&c!==o);u===null?s=r:u.next=a,mn(r,e.memoizedState)||(Mt=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=u,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,Oe.lanes|=o,mi|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Cd(t){var e=on(),n=e.queue;if(n===null)throw Error(j(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);mn(o,e.memoizedState)||(Mt=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function L0(){}function V0(t,e){var n=Oe,r=on(),i=e(),o=!mn(r.memoizedState,i);if(o&&(r.memoizedState=i,Mt=!0),r=r.queue,ip(U0.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||tt!==null&&tt.memoizedState.tag&1){if(n.flags|=2048,na(9,B0.bind(null,n,r,i,e),void 0,null),rt===null)throw Error(j(349));pi&30||F0(n,e,i)}return i}function F0(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Oe.updateQueue,e===null?(e={lastEffect:null,stores:null},Oe.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function B0(t,e,n,r){e.value=n,e.getSnapshot=r,j0(e)&&z0(t)}function U0(t,e,n){return n(function(){j0(e)&&z0(t)})}function j0(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!mn(t,n)}catch{return!0}}function z0(t){var e=tr(t,1);e!==null&&pn(e,t,1,-1)}function Jg(t){var e=_n();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ta,lastRenderedState:t},e.queue=t,t=t.dispatch=MD.bind(null,Oe,t),[e.memoizedState,t]}function na(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Oe.updateQueue,e===null?(e={lastEffect:null,stores:null},Oe.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function $0(){return on().memoizedState}function Ml(t,e,n,r){var i=_n();Oe.flags|=t,i.memoizedState=na(1|e,n,void 0,r===void 0?null:r)}function tc(t,e,n,r){var i=on();r=r===void 0?null:r;var o=void 0;if(Ge!==null){var s=Ge.memoizedState;if(o=s.destroy,r!==null&&tp(r,s.deps)){i.memoizedState=na(e,n,o,r);return}}Oe.flags|=t,i.memoizedState=na(1|e,n,o,r)}function Zg(t,e){return Ml(8390656,8,t,e)}function ip(t,e){return tc(2048,8,t,e)}function Y0(t,e){return tc(4,2,t,e)}function W0(t,e){return tc(4,4,t,e)}function H0(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function q0(t,e,n){return n=n!=null?n.concat([t]):null,tc(4,4,H0.bind(null,e,t),n)}function op(){}function Q0(t,e){var n=on();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&tp(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function K0(t,e){var n=on();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&tp(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function G0(t,e,n){return pi&21?(mn(n,e)||(n=t0(),Oe.lanes|=n,mi|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Mt=!0),t.memoizedState=n)}function AD(t,e){var n=Se;Se=n!==0&&4>n?n:4,t(!0);var r=Dd.transition;Dd.transition={};try{t(!1),e()}finally{Se=n,Dd.transition=r}}function X0(){return on().memoizedState}function bD(t,e,n){var r=Pr(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},J0(t))Z0(e,n);else if(n=M0(t,e,n,r),n!==null){var i=Pt();pn(n,t,r,i),ew(n,e,r)}}function MD(t,e,n){var r=Pr(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(J0(t))Z0(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,mn(a,s)){var u=e.interleaved;u===null?(i.next=i,Gf(e)):(i.next=u.next,u.next=i),e.interleaved=i;return}}catch{}finally{}n=M0(t,e,i,r),n!==null&&(i=Pt(),pn(n,t,r,i),ew(n,e,r))}}function J0(t){var e=t.alternate;return t===Oe||e!==null&&e===Oe}function Z0(t,e){bs=fu=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function ew(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Lf(t,n)}}var pu={readContext:rn,useCallback:mt,useContext:mt,useEffect:mt,useImperativeHandle:mt,useInsertionEffect:mt,useLayoutEffect:mt,useMemo:mt,useReducer:mt,useRef:mt,useState:mt,useDebugValue:mt,useDeferredValue:mt,useTransition:mt,useMutableSource:mt,useSyncExternalStore:mt,useId:mt,unstable_isNewReconciler:!1},ND={readContext:rn,useCallback:function(t,e){return _n().memoizedState=[t,e===void 0?null:e],t},useContext:rn,useEffect:Zg,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Ml(4194308,4,H0.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Ml(4194308,4,t,e)},useInsertionEffect:function(t,e){return Ml(4,2,t,e)},useMemo:function(t,e){var n=_n();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=_n();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=bD.bind(null,Oe,t),[r.memoizedState,t]},useRef:function(t){var e=_n();return t={current:t},e.memoizedState=t},useState:Jg,useDebugValue:op,useDeferredValue:function(t){return _n().memoizedState=t},useTransition:function(){var t=Jg(!1),e=t[0];return t=AD.bind(null,t[1]),_n().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Oe,i=_n();if(Ae){if(n===void 0)throw Error(j(407));n=n()}else{if(n=e(),rt===null)throw Error(j(349));pi&30||F0(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,Zg(U0.bind(null,r,o,t),[t]),r.flags|=2048,na(9,B0.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=_n(),e=rt.identifierPrefix;if(Ae){var n=qn,r=Hn;n=(r&~(1<<32-fn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=ea++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=xD++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},OD={readContext:rn,useCallback:Q0,useContext:rn,useEffect:ip,useImperativeHandle:q0,useInsertionEffect:Y0,useLayoutEffect:W0,useMemo:K0,useReducer:kd,useRef:$0,useState:function(){return kd(ta)},useDebugValue:op,useDeferredValue:function(t){var e=on();return G0(e,Ge.memoizedState,t)},useTransition:function(){var t=kd(ta)[0],e=on().memoizedState;return[t,e]},useMutableSource:L0,useSyncExternalStore:V0,useId:X0,unstable_isNewReconciler:!1},LD={readContext:rn,useCallback:Q0,useContext:rn,useEffect:ip,useImperativeHandle:q0,useInsertionEffect:Y0,useLayoutEffect:W0,useMemo:K0,useReducer:Cd,useRef:$0,useState:function(){return Cd(ta)},useDebugValue:op,useDeferredValue:function(t){var e=on();return Ge===null?e.memoizedState=t:G0(e,Ge.memoizedState,t)},useTransition:function(){var t=Cd(ta)[0],e=on().memoizedState;return[t,e]},useMutableSource:L0,useSyncExternalStore:V0,useId:X0,unstable_isNewReconciler:!1};function un(t,e){if(t&&t.defaultProps){e=Le({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Ph(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Le({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var nc={isMounted:function(t){return(t=t._reactInternals)?Ti(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Pt(),i=Pr(t),o=Qn(r,i);o.payload=e,n!=null&&(o.callback=n),e=Cr(t,o,i),e!==null&&(pn(e,t,i,r),Al(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Pt(),i=Pr(t),o=Qn(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=Cr(t,o,i),e!==null&&(pn(e,t,i,r),Al(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Pt(),r=Pr(t),i=Qn(n,r);i.tag=2,e!=null&&(i.callback=e),e=Cr(t,i,r),e!==null&&(pn(e,t,r,n),Al(e,t,r))}};function ey(t,e,n,r,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,s):e.prototype&&e.prototype.isPureReactComponent?!Qs(n,r)||!Qs(i,o):!0}function tw(t,e,n){var r=!1,i=Lr,o=e.contextType;return typeof o=="object"&&o!==null?o=rn(o):(i=Ot(e)?hi:Et.current,r=e.contextTypes,o=(r=r!=null)?ho(t,i):Lr),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=nc,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function ty(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&nc.enqueueReplaceState(e,e.state,null)}function Rh(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Xf(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=rn(o):(o=Ot(e)?hi:Et.current,i.context=ho(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(Ph(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&nc.enqueueReplaceState(i,i.state,null),du(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function go(t,e){try{var n="",r=e;do n+=cS(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function Id(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function xh(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var VD=typeof WeakMap=="function"?WeakMap:Map;function nw(t,e,n){n=Qn(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){gu||(gu=!0,Uh=r),xh(t,e)},n}function rw(t,e,n){n=Qn(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){xh(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){xh(t,e),typeof r!="function"&&(Ir===null?Ir=new Set([this]):Ir.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function ny(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new VD;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=XD.bind(null,t,e,n),e.then(t,t))}function ry(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function iy(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Qn(-1,1),e.tag=2,Cr(n,e,1))),n.lanes|=1),t)}var FD=ar.ReactCurrentOwner,Mt=!1;function Dt(t,e,n,r){e.child=t===null?b0(e,null,n,r):po(e,t.child,n,r)}function oy(t,e,n,r,i){n=n.render;var o=e.ref;return to(e,i),r=np(t,e,n,r,o,i),n=rp(),t!==null&&!Mt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,nr(t,e,i)):(Ae&&n&&Yf(e),e.flags|=1,Dt(t,e,r,i),e.child)}function sy(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!fp(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,iw(t,e,o,r,i)):(t=Vl(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:Qs,n(s,r)&&t.ref===e.ref)return nr(t,e,i)}return e.flags|=1,t=Rr(o,r),t.ref=e.ref,t.return=e,e.child=t}function iw(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(Qs(o,r)&&t.ref===e.ref)if(Mt=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(Mt=!0);else return e.lanes=t.lanes,nr(t,e,i)}return Ah(t,e,n,r,i)}function ow(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ke(Gi,Ut),Ut|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ke(Gi,Ut),Ut|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,ke(Gi,Ut),Ut|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,ke(Gi,Ut),Ut|=r;return Dt(t,e,i,n),e.child}function sw(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Ah(t,e,n,r,i){var o=Ot(n)?hi:Et.current;return o=ho(e,o),to(e,i),n=np(t,e,n,r,o,i),r=rp(),t!==null&&!Mt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,nr(t,e,i)):(Ae&&r&&Yf(e),e.flags|=1,Dt(t,e,n,i),e.child)}function ay(t,e,n,r,i){if(Ot(n)){var o=!0;su(e)}else o=!1;if(to(e,i),e.stateNode===null)Nl(t,e),tw(e,n,r),Rh(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var u=s.context,c=n.contextType;typeof c=="object"&&c!==null?c=rn(c):(c=Ot(n)?hi:Et.current,c=ho(e,c));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||u!==c)&&ty(e,s,r,c),pr=!1;var m=e.memoizedState;s.state=m,du(e,r,s,i),u=e.memoizedState,a!==r||m!==u||Nt.current||pr?(typeof d=="function"&&(Ph(e,n,d,r),u=e.memoizedState),(a=pr||ey(e,n,a,r,m,u,c))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),s.props=r,s.state=u,s.context=c,r=a):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,N0(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:un(e.type,a),s.props=c,f=e.pendingProps,m=s.context,u=n.contextType,typeof u=="object"&&u!==null?u=rn(u):(u=Ot(n)?hi:Et.current,u=ho(e,u));var g=n.getDerivedStateFromProps;(d=typeof g=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==f||m!==u)&&ty(e,s,r,u),pr=!1,m=e.memoizedState,s.state=m,du(e,r,s,i);var D=e.memoizedState;a!==f||m!==D||Nt.current||pr?(typeof g=="function"&&(Ph(e,n,g,r),D=e.memoizedState),(c=pr||ey(e,n,c,r,m,D,u)||!1)?(d||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,D,u),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,D,u)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=D),s.props=r,s.state=D,s.context=u,r=c):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),r=!1)}return bh(t,e,n,r,o,i)}function bh(t,e,n,r,i,o){sw(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&Hg(e,n,!1),nr(t,e,o);r=e.stateNode,FD.current=e;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=po(e,t.child,null,o),e.child=po(e,null,a,o)):Dt(t,e,a,o),e.memoizedState=r.state,i&&Hg(e,n,!0),e.child}function aw(t){var e=t.stateNode;e.pendingContext?Wg(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Wg(t,e.context,!1),Jf(t,e.containerInfo)}function ly(t,e,n,r,i){return fo(),Hf(i),e.flags|=256,Dt(t,e,n,r),e.child}var Mh={dehydrated:null,treeContext:null,retryLane:0};function Nh(t){return{baseLanes:t,cachePool:null,transitions:null}}function lw(t,e,n){var r=e.pendingProps,i=Me.current,o=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),ke(Me,i&1),t===null)return Ch(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,o?(r=e.mode,o=e.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=oc(s,r,0,null),t=ai(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=Nh(n),e.memoizedState=Mh,t):sp(e,s));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return BD(t,e,s,r,a,i,n);if(o){o=r.fallback,s=e.mode,i=t.child,a=i.sibling;var u={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=Rr(i,u),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=Rr(a,o):(o=ai(o,s,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,s=t.child.memoizedState,s=s===null?Nh(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~n,e.memoizedState=Mh,r}return o=t.child,t=o.sibling,r=Rr(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function sp(t,e){return e=oc({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function ll(t,e,n,r){return r!==null&&Hf(r),po(e,t.child,null,n),t=sp(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function BD(t,e,n,r,i,o,s){if(n)return e.flags&256?(e.flags&=-257,r=Id(Error(j(422))),ll(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=oc({mode:"visible",children:r.children},i,0,null),o=ai(o,i,s,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&po(e,t.child,null,s),e.child.memoizedState=Nh(s),e.memoizedState=Mh,o);if(!(e.mode&1))return ll(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(j(419)),r=Id(o,r,void 0),ll(t,e,s,r)}if(a=(s&t.childLanes)!==0,Mt||a){if(r=rt,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,tr(t,i),pn(r,t,i,-1))}return hp(),r=Id(Error(j(421))),ll(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=JD.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,zt=kr(i.nextSibling),Yt=e,Ae=!0,dn=null,t!==null&&(Xt[Jt++]=Hn,Xt[Jt++]=qn,Xt[Jt++]=fi,Hn=t.id,qn=t.overflow,fi=e),e=sp(e,r.children),e.flags|=4096,e)}function uy(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Ih(t.return,e,n)}function Pd(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function uw(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(Dt(t,e,r.children,n),r=Me.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&uy(t,n,e);else if(t.tag===19)uy(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ke(Me,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&hu(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Pd(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&hu(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Pd(e,!0,n,null,o);break;case"together":Pd(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Nl(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function nr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),mi|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(j(153));if(e.child!==null){for(t=e.child,n=Rr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Rr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function UD(t,e,n){switch(e.tag){case 3:aw(e),fo();break;case 5:O0(e);break;case 1:Ot(e.type)&&su(e);break;case 4:Jf(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;ke(uu,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(ke(Me,Me.current&1),e.flags|=128,null):n&e.child.childLanes?lw(t,e,n):(ke(Me,Me.current&1),t=nr(t,e,n),t!==null?t.sibling:null);ke(Me,Me.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return uw(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ke(Me,Me.current),r)break;return null;case 22:case 23:return e.lanes=0,ow(t,e,n)}return nr(t,e,n)}var cw,Oh,dw,hw;cw=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Oh=function(){};dw=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,ri(In.current);var o=null;switch(n){case"input":i=rh(t,i),r=rh(t,r),o=[];break;case"select":i=Le({},i,{value:void 0}),r=Le({},r,{value:void 0}),o=[];break;case"textarea":i=sh(t,i),r=sh(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=iu)}lh(n,r);var s;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(js.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var u=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&u!==a&&(u!=null||a!=null))if(c==="style")if(a){for(s in a)!a.hasOwnProperty(s)||u&&u.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in u)u.hasOwnProperty(s)&&a[s]!==u[s]&&(n||(n={}),n[s]=u[s])}else n||(o||(o=[]),o.push(c,n)),n=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,a=a?a.__html:void 0,u!=null&&a!==u&&(o=o||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(o=o||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(js.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&Ie("scroll",t),o||a===u||(o=[])):(o=o||[]).push(c,u))}n&&(o=o||[]).push("style",n);var c=o;(e.updateQueue=c)&&(e.flags|=4)}};hw=function(t,e,n,r){n!==r&&(e.flags|=4)};function cs(t,e){if(!Ae)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function gt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function jD(t,e,n){var r=e.pendingProps;switch(Wf(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gt(e),null;case 1:return Ot(e.type)&&ou(),gt(e),null;case 3:return r=e.stateNode,mo(),Re(Nt),Re(Et),ep(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(sl(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,dn!==null&&($h(dn),dn=null))),Oh(t,e),gt(e),null;case 5:Zf(e);var i=ri(Zs.current);if(n=e.type,t!==null&&e.stateNode!=null)dw(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(j(166));return gt(e),null}if(t=ri(In.current),sl(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[Tn]=e,r[Xs]=o,t=(e.mode&1)!==0,n){case"dialog":Ie("cancel",r),Ie("close",r);break;case"iframe":case"object":case"embed":Ie("load",r);break;case"video":case"audio":for(i=0;i<Es.length;i++)Ie(Es[i],r);break;case"source":Ie("error",r);break;case"img":case"image":case"link":Ie("error",r),Ie("load",r);break;case"details":Ie("toggle",r);break;case"input":vg(r,o),Ie("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Ie("invalid",r);break;case"textarea":wg(r,o),Ie("invalid",r)}lh(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&ol(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&ol(r.textContent,a,t),i=["children",""+a]):js.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&Ie("scroll",r)}switch(n){case"input":Xa(r),_g(r,o,!0);break;case"textarea":Xa(r),Eg(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=iu)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=U_(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[Tn]=e,t[Xs]=r,cw(t,e,!1,!1),e.stateNode=t;e:{switch(s=uh(n,r),n){case"dialog":Ie("cancel",t),Ie("close",t),i=r;break;case"iframe":case"object":case"embed":Ie("load",t),i=r;break;case"video":case"audio":for(i=0;i<Es.length;i++)Ie(Es[i],t);i=r;break;case"source":Ie("error",t),i=r;break;case"img":case"image":case"link":Ie("error",t),Ie("load",t),i=r;break;case"details":Ie("toggle",t),i=r;break;case"input":vg(t,r),i=rh(t,r),Ie("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Le({},r,{value:void 0}),Ie("invalid",t);break;case"textarea":wg(t,r),i=sh(t,r),Ie("invalid",t);break;default:i=r}lh(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var u=a[o];o==="style"?$_(t,u):o==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&j_(t,u)):o==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&zs(t,u):typeof u=="number"&&zs(t,""+u):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(js.hasOwnProperty(o)?u!=null&&o==="onScroll"&&Ie("scroll",t):u!=null&&xf(t,o,u,s))}switch(n){case"input":Xa(t),_g(t,r,!1);break;case"textarea":Xa(t),Eg(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Or(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?Xi(t,!!r.multiple,o,!1):r.defaultValue!=null&&Xi(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=iu)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return gt(e),null;case 6:if(t&&e.stateNode!=null)hw(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(j(166));if(n=ri(Zs.current),ri(In.current),sl(e)){if(r=e.stateNode,n=e.memoizedProps,r[Tn]=e,(o=r.nodeValue!==n)&&(t=Yt,t!==null))switch(t.tag){case 3:ol(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ol(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Tn]=e,e.stateNode=r}return gt(e),null;case 13:if(Re(Me),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ae&&zt!==null&&e.mode&1&&!(e.flags&128))x0(),fo(),e.flags|=98560,o=!1;else if(o=sl(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(j(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(j(317));o[Tn]=e}else fo(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;gt(e),o=!1}else dn!==null&&($h(dn),dn=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Me.current&1?Xe===0&&(Xe=3):hp())),e.updateQueue!==null&&(e.flags|=4),gt(e),null);case 4:return mo(),Oh(t,e),t===null&&Ks(e.stateNode.containerInfo),gt(e),null;case 10:return Kf(e.type._context),gt(e),null;case 17:return Ot(e.type)&&ou(),gt(e),null;case 19:if(Re(Me),o=e.memoizedState,o===null)return gt(e),null;if(r=(e.flags&128)!==0,s=o.rendering,s===null)if(r)cs(o,!1);else{if(Xe!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=hu(t),s!==null){for(e.flags|=128,cs(o,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ke(Me,Me.current&1|2),e.child}t=t.sibling}o.tail!==null&&$e()>yo&&(e.flags|=128,r=!0,cs(o,!1),e.lanes=4194304)}else{if(!r)if(t=hu(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),cs(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!Ae)return gt(e),null}else 2*$e()-o.renderingStartTime>yo&&n!==1073741824&&(e.flags|=128,r=!0,cs(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(n=o.last,n!==null?n.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=$e(),e.sibling=null,n=Me.current,ke(Me,r?n&1|2:n&1),e):(gt(e),null);case 22:case 23:return dp(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Ut&1073741824&&(gt(e),e.subtreeFlags&6&&(e.flags|=8192)):gt(e),null;case 24:return null;case 25:return null}throw Error(j(156,e.tag))}function zD(t,e){switch(Wf(e),e.tag){case 1:return Ot(e.type)&&ou(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return mo(),Re(Nt),Re(Et),ep(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Zf(e),null;case 13:if(Re(Me),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(j(340));fo()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Re(Me),null;case 4:return mo(),null;case 10:return Kf(e.type._context),null;case 22:case 23:return dp(),null;case 24:return null;default:return null}}var ul=!1,_t=!1,$D=typeof WeakSet=="function"?WeakSet:Set,K=null;function Ki(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ue(t,e,r)}else n.current=null}function Lh(t,e,n){try{n()}catch(r){Ue(t,e,r)}}var cy=!1;function YD(t,e){if(_h=tu,t=y0(),$f(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,u=-1,c=0,d=0,f=t,m=null;t:for(;;){for(var g;f!==n||i!==0&&f.nodeType!==3||(a=s+i),f!==o||r!==0&&f.nodeType!==3||(u=s+r),f.nodeType===3&&(s+=f.nodeValue.length),(g=f.firstChild)!==null;)m=f,f=g;for(;;){if(f===t)break t;if(m===n&&++c===i&&(a=s),m===o&&++d===r&&(u=s),(g=f.nextSibling)!==null)break;f=m,m=f.parentNode}f=g}n=a===-1||u===-1?null:{start:a,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(wh={focusedElem:t,selectionRange:n},tu=!1,K=e;K!==null;)if(e=K,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,K=t;else for(;K!==null;){e=K;try{var D=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(D!==null){var E=D.memoizedProps,C=D.memoizedState,v=e.stateNode,_=v.getSnapshotBeforeUpdate(e.elementType===e.type?E:un(e.type,E),C);v.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var k=e.stateNode.containerInfo;k.nodeType===1?k.textContent="":k.nodeType===9&&k.documentElement&&k.removeChild(k.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(j(163))}}catch(A){Ue(e,e.return,A)}if(t=e.sibling,t!==null){t.return=e.return,K=t;break}K=e.return}return D=cy,cy=!1,D}function Ms(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&Lh(e,n,o)}i=i.next}while(i!==r)}}function rc(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Vh(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function fw(t){var e=t.alternate;e!==null&&(t.alternate=null,fw(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Tn],delete e[Xs],delete e[Sh],delete e[CD],delete e[ID])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function pw(t){return t.tag===5||t.tag===3||t.tag===4}function dy(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||pw(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Fh(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=iu));else if(r!==4&&(t=t.child,t!==null))for(Fh(t,e,n),t=t.sibling;t!==null;)Fh(t,e,n),t=t.sibling}function Bh(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Bh(t,e,n),t=t.sibling;t!==null;)Bh(t,e,n),t=t.sibling}var st=null,cn=!1;function dr(t,e,n){for(n=n.child;n!==null;)mw(t,e,n),n=n.sibling}function mw(t,e,n){if(Cn&&typeof Cn.onCommitFiberUnmount=="function")try{Cn.onCommitFiberUnmount(Ku,n)}catch{}switch(n.tag){case 5:_t||Ki(n,e);case 6:var r=st,i=cn;st=null,dr(t,e,n),st=r,cn=i,st!==null&&(cn?(t=st,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):st.removeChild(n.stateNode));break;case 18:st!==null&&(cn?(t=st,n=n.stateNode,t.nodeType===8?Ed(t.parentNode,n):t.nodeType===1&&Ed(t,n),Hs(t)):Ed(st,n.stateNode));break;case 4:r=st,i=cn,st=n.stateNode.containerInfo,cn=!0,dr(t,e,n),st=r,cn=i;break;case 0:case 11:case 14:case 15:if(!_t&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&Lh(n,e,s),i=i.next}while(i!==r)}dr(t,e,n);break;case 1:if(!_t&&(Ki(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Ue(n,e,a)}dr(t,e,n);break;case 21:dr(t,e,n);break;case 22:n.mode&1?(_t=(r=_t)||n.memoizedState!==null,dr(t,e,n),_t=r):dr(t,e,n);break;default:dr(t,e,n)}}function hy(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new $D),e.forEach(function(r){var i=ZD.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function ln(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,s=e,a=s;e:for(;a!==null;){switch(a.tag){case 5:st=a.stateNode,cn=!1;break e;case 3:st=a.stateNode.containerInfo,cn=!0;break e;case 4:st=a.stateNode.containerInfo,cn=!0;break e}a=a.return}if(st===null)throw Error(j(160));mw(o,s,i),st=null,cn=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(c){Ue(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)gw(e,t),e=e.sibling}function gw(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(ln(e,t),vn(t),r&4){try{Ms(3,t,t.return),rc(3,t)}catch(E){Ue(t,t.return,E)}try{Ms(5,t,t.return)}catch(E){Ue(t,t.return,E)}}break;case 1:ln(e,t),vn(t),r&512&&n!==null&&Ki(n,n.return);break;case 5:if(ln(e,t),vn(t),r&512&&n!==null&&Ki(n,n.return),t.flags&32){var i=t.stateNode;try{zs(i,"")}catch(E){Ue(t,t.return,E)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,s=n!==null?n.memoizedProps:o,a=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&F_(i,o),uh(a,s);var c=uh(a,o);for(s=0;s<u.length;s+=2){var d=u[s],f=u[s+1];d==="style"?$_(i,f):d==="dangerouslySetInnerHTML"?j_(i,f):d==="children"?zs(i,f):xf(i,d,f,c)}switch(a){case"input":ih(i,o);break;case"textarea":B_(i,o);break;case"select":var m=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var g=o.value;g!=null?Xi(i,!!o.multiple,g,!1):m!==!!o.multiple&&(o.defaultValue!=null?Xi(i,!!o.multiple,o.defaultValue,!0):Xi(i,!!o.multiple,o.multiple?[]:"",!1))}i[Xs]=o}catch(E){Ue(t,t.return,E)}}break;case 6:if(ln(e,t),vn(t),r&4){if(t.stateNode===null)throw Error(j(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(E){Ue(t,t.return,E)}}break;case 3:if(ln(e,t),vn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Hs(e.containerInfo)}catch(E){Ue(t,t.return,E)}break;case 4:ln(e,t),vn(t);break;case 13:ln(e,t),vn(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(up=$e())),r&4&&hy(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(_t=(c=_t)||d,ln(e,t),_t=c):ln(e,t),vn(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(K=t,d=t.child;d!==null;){for(f=K=d;K!==null;){switch(m=K,g=m.child,m.tag){case 0:case 11:case 14:case 15:Ms(4,m,m.return);break;case 1:Ki(m,m.return);var D=m.stateNode;if(typeof D.componentWillUnmount=="function"){r=m,n=m.return;try{e=r,D.props=e.memoizedProps,D.state=e.memoizedState,D.componentWillUnmount()}catch(E){Ue(r,n,E)}}break;case 5:Ki(m,m.return);break;case 22:if(m.memoizedState!==null){py(f);continue}}g!==null?(g.return=m,K=g):py(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{i=f.stateNode,c?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=f.stateNode,u=f.memoizedProps.style,s=u!=null&&u.hasOwnProperty("display")?u.display:null,a.style.display=z_("display",s))}catch(E){Ue(t,t.return,E)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(E){Ue(t,t.return,E)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:ln(e,t),vn(t),r&4&&hy(t);break;case 21:break;default:ln(e,t),vn(t)}}function vn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(pw(n)){var r=n;break e}n=n.return}throw Error(j(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(zs(i,""),r.flags&=-33);var o=dy(t);Bh(t,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=dy(t);Fh(t,a,s);break;default:throw Error(j(161))}}catch(u){Ue(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function WD(t,e,n){K=t,yw(t)}function yw(t,e,n){for(var r=(t.mode&1)!==0;K!==null;){var i=K,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||ul;if(!s){var a=i.alternate,u=a!==null&&a.memoizedState!==null||_t;a=ul;var c=_t;if(ul=s,(_t=u)&&!c)for(K=i;K!==null;)s=K,u=s.child,s.tag===22&&s.memoizedState!==null?my(i):u!==null?(u.return=s,K=u):my(i);for(;o!==null;)K=o,yw(o),o=o.sibling;K=i,ul=a,_t=c}fy(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,K=o):fy(t)}}function fy(t){for(;K!==null;){var e=K;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:_t||rc(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!_t)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:un(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&Xg(e,o,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Xg(e,s,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Hs(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(j(163))}_t||e.flags&512&&Vh(e)}catch(m){Ue(e,e.return,m)}}if(e===t){K=null;break}if(n=e.sibling,n!==null){n.return=e.return,K=n;break}K=e.return}}function py(t){for(;K!==null;){var e=K;if(e===t){K=null;break}var n=e.sibling;if(n!==null){n.return=e.return,K=n;break}K=e.return}}function my(t){for(;K!==null;){var e=K;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{rc(4,e)}catch(u){Ue(e,n,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(u){Ue(e,i,u)}}var o=e.return;try{Vh(e)}catch(u){Ue(e,o,u)}break;case 5:var s=e.return;try{Vh(e)}catch(u){Ue(e,s,u)}}}catch(u){Ue(e,e.return,u)}if(e===t){K=null;break}var a=e.sibling;if(a!==null){a.return=e.return,K=a;break}K=e.return}}var HD=Math.ceil,mu=ar.ReactCurrentDispatcher,ap=ar.ReactCurrentOwner,nn=ar.ReactCurrentBatchConfig,me=0,rt=null,Qe=null,ut=0,Ut=0,Gi=Wr(0),Xe=0,ra=null,mi=0,ic=0,lp=0,Ns=null,bt=null,up=0,yo=1/0,$n=null,gu=!1,Uh=null,Ir=null,cl=!1,vr=null,yu=0,Os=0,jh=null,Ol=-1,Ll=0;function Pt(){return me&6?$e():Ol!==-1?Ol:Ol=$e()}function Pr(t){return t.mode&1?me&2&&ut!==0?ut&-ut:RD.transition!==null?(Ll===0&&(Ll=t0()),Ll):(t=Se,t!==0||(t=window.event,t=t===void 0?16:l0(t.type)),t):1}function pn(t,e,n,r){if(50<Os)throw Os=0,jh=null,Error(j(185));ya(t,n,r),(!(me&2)||t!==rt)&&(t===rt&&(!(me&2)&&(ic|=n),Xe===4&&gr(t,ut)),Lt(t,r),n===1&&me===0&&!(e.mode&1)&&(yo=$e()+500,ec&&Hr()))}function Lt(t,e){var n=t.callbackNode;RS(t,e);var r=eu(t,t===rt?ut:0);if(r===0)n!==null&&Dg(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Dg(n),e===1)t.tag===0?PD(gy.bind(null,t)):I0(gy.bind(null,t)),DD(function(){!(me&6)&&Hr()}),n=null;else{switch(n0(r)){case 1:n=Of;break;case 4:n=Z_;break;case 16:n=Zl;break;case 536870912:n=e0;break;default:n=Zl}n=kw(n,vw.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function vw(t,e){if(Ol=-1,Ll=0,me&6)throw Error(j(327));var n=t.callbackNode;if(no()&&t.callbackNode!==n)return null;var r=eu(t,t===rt?ut:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=vu(t,r);else{e=r;var i=me;me|=2;var o=ww();(rt!==t||ut!==e)&&($n=null,yo=$e()+500,si(t,e));do try{KD();break}catch(a){_w(t,a)}while(!0);Qf(),mu.current=o,me=i,Qe!==null?e=0:(rt=null,ut=0,e=Xe)}if(e!==0){if(e===2&&(i=ph(t),i!==0&&(r=i,e=zh(t,i))),e===1)throw n=ra,si(t,0),gr(t,r),Lt(t,$e()),n;if(e===6)gr(t,r);else{if(i=t.current.alternate,!(r&30)&&!qD(i)&&(e=vu(t,r),e===2&&(o=ph(t),o!==0&&(r=o,e=zh(t,o))),e===1))throw n=ra,si(t,0),gr(t,r),Lt(t,$e()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(j(345));case 2:Jr(t,bt,$n);break;case 3:if(gr(t,r),(r&130023424)===r&&(e=up+500-$e(),10<e)){if(eu(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Pt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Th(Jr.bind(null,t,bt,$n),e);break}Jr(t,bt,$n);break;case 4:if(gr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-fn(r);o=1<<s,s=e[s],s>i&&(i=s),r&=~o}if(r=i,r=$e()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*HD(r/1960))-r,10<r){t.timeoutHandle=Th(Jr.bind(null,t,bt,$n),r);break}Jr(t,bt,$n);break;case 5:Jr(t,bt,$n);break;default:throw Error(j(329))}}}return Lt(t,$e()),t.callbackNode===n?vw.bind(null,t):null}function zh(t,e){var n=Ns;return t.current.memoizedState.isDehydrated&&(si(t,e).flags|=256),t=vu(t,e),t!==2&&(e=bt,bt=n,e!==null&&$h(e)),t}function $h(t){bt===null?bt=t:bt.push.apply(bt,t)}function qD(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!mn(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function gr(t,e){for(e&=~lp,e&=~ic,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-fn(e),r=1<<n;t[n]=-1,e&=~r}}function gy(t){if(me&6)throw Error(j(327));no();var e=eu(t,0);if(!(e&1))return Lt(t,$e()),null;var n=vu(t,e);if(t.tag!==0&&n===2){var r=ph(t);r!==0&&(e=r,n=zh(t,r))}if(n===1)throw n=ra,si(t,0),gr(t,e),Lt(t,$e()),n;if(n===6)throw Error(j(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Jr(t,bt,$n),Lt(t,$e()),null}function cp(t,e){var n=me;me|=1;try{return t(e)}finally{me=n,me===0&&(yo=$e()+500,ec&&Hr())}}function gi(t){vr!==null&&vr.tag===0&&!(me&6)&&no();var e=me;me|=1;var n=nn.transition,r=Se;try{if(nn.transition=null,Se=1,t)return t()}finally{Se=r,nn.transition=n,me=e,!(me&6)&&Hr()}}function dp(){Ut=Gi.current,Re(Gi)}function si(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,SD(n)),Qe!==null)for(n=Qe.return;n!==null;){var r=n;switch(Wf(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ou();break;case 3:mo(),Re(Nt),Re(Et),ep();break;case 5:Zf(r);break;case 4:mo();break;case 13:Re(Me);break;case 19:Re(Me);break;case 10:Kf(r.type._context);break;case 22:case 23:dp()}n=n.return}if(rt=t,Qe=t=Rr(t.current,null),ut=Ut=e,Xe=0,ra=null,lp=ic=mi=0,bt=Ns=null,ni!==null){for(e=0;e<ni.length;e++)if(n=ni[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}ni=null}return t}function _w(t,e){do{var n=Qe;try{if(Qf(),bl.current=pu,fu){for(var r=Oe.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}fu=!1}if(pi=0,tt=Ge=Oe=null,bs=!1,ea=0,ap.current=null,n===null||n.return===null){Xe=1,ra=e,Qe=null;break}e:{var o=t,s=n.return,a=n,u=e;if(e=ut,a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,d=a,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var m=d.alternate;m?(d.updateQueue=m.updateQueue,d.memoizedState=m.memoizedState,d.lanes=m.lanes):(d.updateQueue=null,d.memoizedState=null)}var g=ry(s);if(g!==null){g.flags&=-257,iy(g,s,a,o,e),g.mode&1&&ny(o,c,e),e=g,u=c;var D=e.updateQueue;if(D===null){var E=new Set;E.add(u),e.updateQueue=E}else D.add(u);break e}else{if(!(e&1)){ny(o,c,e),hp();break e}u=Error(j(426))}}else if(Ae&&a.mode&1){var C=ry(s);if(C!==null){!(C.flags&65536)&&(C.flags|=256),iy(C,s,a,o,e),Hf(go(u,a));break e}}o=u=go(u,a),Xe!==4&&(Xe=2),Ns===null?Ns=[o]:Ns.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var v=nw(o,u,e);Gg(o,v);break e;case 1:a=u;var _=o.type,k=o.stateNode;if(!(o.flags&128)&&(typeof _.getDerivedStateFromError=="function"||k!==null&&typeof k.componentDidCatch=="function"&&(Ir===null||!Ir.has(k)))){o.flags|=65536,e&=-e,o.lanes|=e;var A=rw(o,a,e);Gg(o,A);break e}}o=o.return}while(o!==null)}Tw(n)}catch(N){e=N,Qe===n&&n!==null&&(Qe=n=n.return);continue}break}while(!0)}function ww(){var t=mu.current;return mu.current=pu,t===null?pu:t}function hp(){(Xe===0||Xe===3||Xe===2)&&(Xe=4),rt===null||!(mi&268435455)&&!(ic&268435455)||gr(rt,ut)}function vu(t,e){var n=me;me|=2;var r=ww();(rt!==t||ut!==e)&&($n=null,si(t,e));do try{QD();break}catch(i){_w(t,i)}while(!0);if(Qf(),me=n,mu.current=r,Qe!==null)throw Error(j(261));return rt=null,ut=0,Xe}function QD(){for(;Qe!==null;)Ew(Qe)}function KD(){for(;Qe!==null&&!wS();)Ew(Qe)}function Ew(t){var e=Dw(t.alternate,t,Ut);t.memoizedProps=t.pendingProps,e===null?Tw(t):Qe=e,ap.current=null}function Tw(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=zD(n,e),n!==null){n.flags&=32767,Qe=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Xe=6,Qe=null;return}}else if(n=jD(n,e,Ut),n!==null){Qe=n;return}if(e=e.sibling,e!==null){Qe=e;return}Qe=e=t}while(e!==null);Xe===0&&(Xe=5)}function Jr(t,e,n){var r=Se,i=nn.transition;try{nn.transition=null,Se=1,GD(t,e,n,r)}finally{nn.transition=i,Se=r}return null}function GD(t,e,n,r){do no();while(vr!==null);if(me&6)throw Error(j(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(j(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(xS(t,o),t===rt&&(Qe=rt=null,ut=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||cl||(cl=!0,kw(Zl,function(){return no(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=nn.transition,nn.transition=null;var s=Se;Se=1;var a=me;me|=4,ap.current=null,YD(t,n),gw(n,t),gD(wh),tu=!!_h,wh=_h=null,t.current=n,WD(n),ES(),me=a,Se=s,nn.transition=o}else t.current=n;if(cl&&(cl=!1,vr=t,yu=i),o=t.pendingLanes,o===0&&(Ir=null),DS(n.stateNode),Lt(t,$e()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(gu)throw gu=!1,t=Uh,Uh=null,t;return yu&1&&t.tag!==0&&no(),o=t.pendingLanes,o&1?t===jh?Os++:(Os=0,jh=t):Os=0,Hr(),null}function no(){if(vr!==null){var t=n0(yu),e=nn.transition,n=Se;try{if(nn.transition=null,Se=16>t?16:t,vr===null)var r=!1;else{if(t=vr,vr=null,yu=0,me&6)throw Error(j(331));var i=me;for(me|=4,K=t.current;K!==null;){var o=K,s=o.child;if(K.flags&16){var a=o.deletions;if(a!==null){for(var u=0;u<a.length;u++){var c=a[u];for(K=c;K!==null;){var d=K;switch(d.tag){case 0:case 11:case 15:Ms(8,d,o)}var f=d.child;if(f!==null)f.return=d,K=f;else for(;K!==null;){d=K;var m=d.sibling,g=d.return;if(fw(d),d===c){K=null;break}if(m!==null){m.return=g,K=m;break}K=g}}}var D=o.alternate;if(D!==null){var E=D.child;if(E!==null){D.child=null;do{var C=E.sibling;E.sibling=null,E=C}while(E!==null)}}K=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,K=s;else e:for(;K!==null;){if(o=K,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Ms(9,o,o.return)}var v=o.sibling;if(v!==null){v.return=o.return,K=v;break e}K=o.return}}var _=t.current;for(K=_;K!==null;){s=K;var k=s.child;if(s.subtreeFlags&2064&&k!==null)k.return=s,K=k;else e:for(s=_;K!==null;){if(a=K,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:rc(9,a)}}catch(N){Ue(a,a.return,N)}if(a===s){K=null;break e}var A=a.sibling;if(A!==null){A.return=a.return,K=A;break e}K=a.return}}if(me=i,Hr(),Cn&&typeof Cn.onPostCommitFiberRoot=="function")try{Cn.onPostCommitFiberRoot(Ku,t)}catch{}r=!0}return r}finally{Se=n,nn.transition=e}}return!1}function yy(t,e,n){e=go(n,e),e=nw(t,e,1),t=Cr(t,e,1),e=Pt(),t!==null&&(ya(t,1,e),Lt(t,e))}function Ue(t,e,n){if(t.tag===3)yy(t,t,n);else for(;e!==null;){if(e.tag===3){yy(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ir===null||!Ir.has(r))){t=go(n,t),t=rw(e,t,1),e=Cr(e,t,1),t=Pt(),e!==null&&(ya(e,1,t),Lt(e,t));break}}e=e.return}}function XD(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Pt(),t.pingedLanes|=t.suspendedLanes&n,rt===t&&(ut&n)===n&&(Xe===4||Xe===3&&(ut&130023424)===ut&&500>$e()-up?si(t,0):lp|=n),Lt(t,e)}function Sw(t,e){e===0&&(t.mode&1?(e=el,el<<=1,!(el&130023424)&&(el=4194304)):e=1);var n=Pt();t=tr(t,e),t!==null&&(ya(t,e,n),Lt(t,n))}function JD(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Sw(t,n)}function ZD(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(j(314))}r!==null&&r.delete(e),Sw(t,n)}var Dw;Dw=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Nt.current)Mt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Mt=!1,UD(t,e,n);Mt=!!(t.flags&131072)}else Mt=!1,Ae&&e.flags&1048576&&P0(e,lu,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Nl(t,e),t=e.pendingProps;var i=ho(e,Et.current);to(e,n),i=np(null,e,r,t,i,n);var o=rp();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ot(r)?(o=!0,su(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Xf(e),i.updater=nc,e.stateNode=i,i._reactInternals=e,Rh(e,r,t,n),e=bh(null,e,r,!0,o,n)):(e.tag=0,Ae&&o&&Yf(e),Dt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Nl(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=tk(r),t=un(r,t),i){case 0:e=Ah(null,e,r,t,n);break e;case 1:e=ay(null,e,r,t,n);break e;case 11:e=oy(null,e,r,t,n);break e;case 14:e=sy(null,e,r,un(r.type,t),n);break e}throw Error(j(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:un(r,i),Ah(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:un(r,i),ay(t,e,r,i,n);case 3:e:{if(aw(e),t===null)throw Error(j(387));r=e.pendingProps,o=e.memoizedState,i=o.element,N0(t,e),du(e,r,null,n);var s=e.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=go(Error(j(423)),e),e=ly(t,e,r,n,i);break e}else if(r!==i){i=go(Error(j(424)),e),e=ly(t,e,r,n,i);break e}else for(zt=kr(e.stateNode.containerInfo.firstChild),Yt=e,Ae=!0,dn=null,n=b0(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(fo(),r===i){e=nr(t,e,n);break e}Dt(t,e,r,n)}e=e.child}return e;case 5:return O0(e),t===null&&Ch(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,Eh(r,i)?s=null:o!==null&&Eh(r,o)&&(e.flags|=32),sw(t,e),Dt(t,e,s,n),e.child;case 6:return t===null&&Ch(e),null;case 13:return lw(t,e,n);case 4:return Jf(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=po(e,null,r,n):Dt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:un(r,i),oy(t,e,r,i,n);case 7:return Dt(t,e,e.pendingProps,n),e.child;case 8:return Dt(t,e,e.pendingProps.children,n),e.child;case 12:return Dt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,ke(uu,r._currentValue),r._currentValue=s,o!==null)if(mn(o.value,s)){if(o.children===i.children&&!Nt.current){e=nr(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var u=a.firstContext;u!==null;){if(u.context===r){if(o.tag===1){u=Qn(-1,n&-n),u.tag=2;var c=o.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?u.next=u:(u.next=d.next,d.next=u),c.pending=u}}o.lanes|=n,u=o.alternate,u!==null&&(u.lanes|=n),Ih(o.return,n,e),a.lanes|=n;break}u=u.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(j(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),Ih(s,n,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}Dt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,to(e,n),i=rn(i),r=r(i),e.flags|=1,Dt(t,e,r,n),e.child;case 14:return r=e.type,i=un(r,e.pendingProps),i=un(r.type,i),sy(t,e,r,i,n);case 15:return iw(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:un(r,i),Nl(t,e),e.tag=1,Ot(r)?(t=!0,su(e)):t=!1,to(e,n),tw(e,r,i),Rh(e,r,i,n),bh(null,e,r,!0,t,n);case 19:return uw(t,e,n);case 22:return ow(t,e,n)}throw Error(j(156,e.tag))};function kw(t,e){return J_(t,e)}function ek(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function tn(t,e,n,r){return new ek(t,e,n,r)}function fp(t){return t=t.prototype,!(!t||!t.isReactComponent)}function tk(t){if(typeof t=="function")return fp(t)?1:0;if(t!=null){if(t=t.$$typeof,t===bf)return 11;if(t===Mf)return 14}return 2}function Rr(t,e){var n=t.alternate;return n===null?(n=tn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Vl(t,e,n,r,i,o){var s=2;if(r=t,typeof t=="function")fp(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case Ui:return ai(n.children,i,o,e);case Af:s=8,i|=8;break;case Zd:return t=tn(12,n,e,i|2),t.elementType=Zd,t.lanes=o,t;case eh:return t=tn(13,n,e,i),t.elementType=eh,t.lanes=o,t;case th:return t=tn(19,n,e,i),t.elementType=th,t.lanes=o,t;case O_:return oc(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case M_:s=10;break e;case N_:s=9;break e;case bf:s=11;break e;case Mf:s=14;break e;case fr:s=16,r=null;break e}throw Error(j(130,t==null?t:typeof t,""))}return e=tn(s,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function ai(t,e,n,r){return t=tn(7,t,r,e),t.lanes=n,t}function oc(t,e,n,r){return t=tn(22,t,r,e),t.elementType=O_,t.lanes=n,t.stateNode={isHidden:!1},t}function Rd(t,e,n){return t=tn(6,t,null,e),t.lanes=n,t}function xd(t,e,n){return e=tn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function nk(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=cd(0),this.expirationTimes=cd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=cd(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function pp(t,e,n,r,i,o,s,a,u){return t=new nk(t,e,n,a,u),e===1?(e=1,o===!0&&(e|=8)):e=0,o=tn(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Xf(o),t}function rk(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Bi,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Cw(t){if(!t)return Lr;t=t._reactInternals;e:{if(Ti(t)!==t||t.tag!==1)throw Error(j(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ot(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(j(171))}if(t.tag===1){var n=t.type;if(Ot(n))return C0(t,n,e)}return e}function Iw(t,e,n,r,i,o,s,a,u){return t=pp(n,r,!0,t,i,o,s,a,u),t.context=Cw(null),n=t.current,r=Pt(),i=Pr(n),o=Qn(r,i),o.callback=e??null,Cr(n,o,i),t.current.lanes=i,ya(t,i,r),Lt(t,r),t}function sc(t,e,n,r){var i=e.current,o=Pt(),s=Pr(i);return n=Cw(n),e.context===null?e.context=n:e.pendingContext=n,e=Qn(o,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Cr(i,e,s),t!==null&&(pn(t,i,s,o),Al(t,i,s)),s}function _u(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function vy(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function mp(t,e){vy(t,e),(t=t.alternate)&&vy(t,e)}function ik(){return null}var Pw=typeof reportError=="function"?reportError:function(t){console.error(t)};function gp(t){this._internalRoot=t}ac.prototype.render=gp.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(j(409));sc(t,e,null,null)};ac.prototype.unmount=gp.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;gi(function(){sc(null,t,null,null)}),e[er]=null}};function ac(t){this._internalRoot=t}ac.prototype.unstable_scheduleHydration=function(t){if(t){var e=o0();t={blockedOn:null,target:t,priority:e};for(var n=0;n<mr.length&&e!==0&&e<mr[n].priority;n++);mr.splice(n,0,t),n===0&&a0(t)}};function yp(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function lc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function _y(){}function ok(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var c=_u(s);o.call(c)}}var s=Iw(e,r,t,0,null,!1,!1,"",_y);return t._reactRootContainer=s,t[er]=s.current,Ks(t.nodeType===8?t.parentNode:t),gi(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=_u(u);a.call(c)}}var u=pp(t,0,!1,null,null,!1,!1,"",_y);return t._reactRootContainer=u,t[er]=u.current,Ks(t.nodeType===8?t.parentNode:t),gi(function(){sc(e,u,n,r)}),u}function uc(t,e,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var u=_u(s);a.call(u)}}sc(e,s,t,i)}else s=ok(n,e,t,i,r);return _u(s)}r0=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=ws(e.pendingLanes);n!==0&&(Lf(e,n|1),Lt(e,$e()),!(me&6)&&(yo=$e()+500,Hr()))}break;case 13:gi(function(){var r=tr(t,1);if(r!==null){var i=Pt();pn(r,t,1,i)}}),mp(t,1)}};Vf=function(t){if(t.tag===13){var e=tr(t,134217728);if(e!==null){var n=Pt();pn(e,t,134217728,n)}mp(t,134217728)}};i0=function(t){if(t.tag===13){var e=Pr(t),n=tr(t,e);if(n!==null){var r=Pt();pn(n,t,e,r)}mp(t,e)}};o0=function(){return Se};s0=function(t,e){var n=Se;try{return Se=t,e()}finally{Se=n}};dh=function(t,e,n){switch(e){case"input":if(ih(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Zu(r);if(!i)throw Error(j(90));V_(r),ih(r,i)}}}break;case"textarea":B_(t,n);break;case"select":e=n.value,e!=null&&Xi(t,!!n.multiple,e,!1)}};H_=cp;q_=gi;var sk={usingClientEntryPoint:!1,Events:[_a,Yi,Zu,Y_,W_,cp]},ds={findFiberByHostInstance:ti,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ak={bundleType:ds.bundleType,version:ds.version,rendererPackageName:ds.rendererPackageName,rendererConfig:ds.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ar.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=G_(t),t===null?null:t.stateNode},findFiberByHostInstance:ds.findFiberByHostInstance||ik,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var dl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!dl.isDisabled&&dl.supportsFiber)try{Ku=dl.inject(ak),Cn=dl}catch{}}Qt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sk;Qt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!yp(e))throw Error(j(200));return rk(t,e,null,n)};Qt.createRoot=function(t,e){if(!yp(t))throw Error(j(299));var n=!1,r="",i=Pw;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=pp(t,1,!1,null,null,n,!1,r,i),t[er]=e.current,Ks(t.nodeType===8?t.parentNode:t),new gp(e)};Qt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(j(188)):(t=Object.keys(t).join(","),Error(j(268,t)));return t=G_(e),t=t===null?null:t.stateNode,t};Qt.flushSync=function(t){return gi(t)};Qt.hydrate=function(t,e,n){if(!lc(e))throw Error(j(200));return uc(null,t,e,!0,n)};Qt.hydrateRoot=function(t,e,n){if(!yp(t))throw Error(j(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=Pw;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=Iw(e,null,t,1,n??null,i,!1,o,s),t[er]=e.current,Ks(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new ac(e)};Qt.render=function(t,e,n){if(!lc(e))throw Error(j(200));return uc(null,t,e,!1,n)};Qt.unmountComponentAtNode=function(t){if(!lc(t))throw Error(j(40));return t._reactRootContainer?(gi(function(){uc(null,null,t,!1,function(){t._reactRootContainer=null,t[er]=null})}),!0):!1};Qt.unstable_batchedUpdates=cp;Qt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!lc(n))throw Error(j(200));if(t==null||t._reactInternals===void 0)throw Error(j(38));return uc(t,e,n,!1,r)};Qt.version="18.3.1-next-f1338f8080-20240426";function Rw(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Rw)}catch(t){console.error(t)}}Rw(),R_.exports=Qt;var vp=R_.exports;const lk=Sf(vp);var wy=vp;Xd.createRoot=wy.createRoot,Xd.hydrateRoot=wy.hydrateRoot;const uk="_container_6obf1_1",ck="_header_6obf1_13",dk="_navToggle_6obf1_21",hk="_searchBar_6obf1_33",fk="_monthSelector_6obf1_34",pk="_userSelect_6obf1_35",mk="_unlockButton_6obf1_60",gk="_addButton_6obf1_61",yk="_calendarButton_6obf1_62",vk="_mainContent_6obf1_97",_k="_monthSection_6obf1_126",wk="_cardGrid_6obf1_138",Ek="_card_6obf1_138",Tk="_cardDate_6obf1_164",Sk="_memberList_6obf1_171",Dk="_memberItem_6obf1_177",kk="_role_6obf1_184",Ck="_footer_6obf1_190",Ik="_unlockForm_6obf1_214",Pk="_slideUp_6obf1_1",Rk="_buttonContainer_6obf1_257",xk="_cancelButton_6obf1_264",Ak="_overlay_6obf1_293",bk="_fadeIn_6obf1_1",Be={container:uk,header:ck,navToggle:dk,searchBar:hk,monthSelector:fk,userSelect:pk,unlockButton:mk,addButton:gk,calendarButton:yk,mainContent:vk,monthSection:_k,cardGrid:wk,card:Ek,cardDate:Tk,memberList:Sk,memberItem:Dk,role:kk,footer:Ck,unlockForm:Ik,slideUp:Pk,buttonContainer:Rk,cancelButton:xk,overlay:Ak,fadeIn:bk};function W(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function Ee(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}function rr(t,e){const n=W(t);return isNaN(e)?Ee(t,NaN):(e&&n.setDate(n.getDate()+e),n)}function gn(t,e){const n=W(t);if(isNaN(e))return Ee(t,NaN);if(!e)return n;const r=n.getDate(),i=Ee(t,n.getTime());i.setMonth(n.getMonth()+e+1,0);const o=i.getDate();return r>=o?i:(n.setFullYear(i.getFullYear(),i.getMonth(),r),n)}function _p(t,e){const n=+W(t);return Ee(t,n+e)}const xw=6048e5,Mk=864e5,cc=6e4,dc=36e5,Nk=1e3;function Ok(t,e){return _p(t,e*dc)}let Lk={};function Si(){return Lk}function $t(t,e){var a,u,c,d;const n=Si(),r=(e==null?void 0:e.weekStartsOn)??((u=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:u.weekStartsOn)??n.weekStartsOn??((d=(c=n.locale)==null?void 0:c.options)==null?void 0:d.weekStartsOn)??0,i=W(t),o=i.getDay(),s=(o<r?7:0)+o-r;return i.setDate(i.getDate()-s),i.setHours(0,0,0,0),i}function vo(t){return $t(t,{weekStartsOn:1})}function Aw(t){const e=W(t),n=e.getFullYear(),r=Ee(t,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const i=vo(r),o=Ee(t,0);o.setFullYear(n,0,4),o.setHours(0,0,0,0);const s=vo(o);return e.getTime()>=i.getTime()?n+1:e.getTime()>=s.getTime()?n:n-1}function yi(t){const e=W(t);return e.setHours(0,0,0,0),e}function wu(t){const e=W(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function _o(t,e){const n=yi(t),r=yi(e),i=+n-wu(n),o=+r-wu(r);return Math.round((i-o)/Mk)}function Vk(t){const e=Aw(t),n=Ee(t,0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),vo(n)}function Yh(t,e){return _p(t,e*cc)}function wp(t,e){const n=e*3;return gn(t,n)}function Fk(t,e){return _p(t,e*1e3)}function ia(t,e){const n=e*7;return rr(t,n)}function Kn(t,e){return gn(t,e*12)}function Ey(t){let e;return t.forEach(function(n){const r=W(n);(e===void 0||e<r||isNaN(Number(r)))&&(e=r)}),e||new Date(NaN)}function Ty(t){let e;return t.forEach(n=>{const r=W(n);(!e||e>r||isNaN(+r))&&(e=r)}),e||new Date(NaN)}function Bk(t,e){const n=yi(t),r=yi(e);return+n==+r}function Gn(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function Eu(t){if(!Gn(t)&&typeof t!="number")return!1;const e=W(t);return!isNaN(Number(e))}function Tu(t,e){const n=W(t),r=W(e),i=n.getFullYear()-r.getFullYear(),o=n.getMonth()-r.getMonth();return i*12+o}function li(t){const e=W(t);return Math.trunc(e.getMonth()/3)+1}function Su(t,e){const n=W(t),r=W(e),i=n.getFullYear()-r.getFullYear(),o=li(n)-li(r);return i*4+o}function Du(t,e){const n=W(t),r=W(e);return n.getFullYear()-r.getFullYear()}function Uk(t,e){const n=W(t),r=W(e),i=Sy(n,r),o=Math.abs(_o(n,r));n.setDate(n.getDate()-i*o);const s=+(Sy(n,r)===-i),a=i*(o-s);return a===0?0:a}function Sy(t,e){const n=t.getFullYear()-e.getFullYear()||t.getMonth()-e.getMonth()||t.getDate()-e.getDate()||t.getHours()-e.getHours()||t.getMinutes()-e.getMinutes()||t.getSeconds()-e.getSeconds()||t.getMilliseconds()-e.getMilliseconds();return n<0?-1:n>0?1:n}function bw(t){const e=W(t);return e.setHours(23,59,59,999),e}function Ep(t){const e=W(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(23,59,59,999),e}function Wh(t){const e=W(t),n=e.getMonth(),r=n-n%3;return e.setMonth(r,1),e.setHours(0,0,0,0),e}function jk(t,e){const n=W(t.start),r=W(t.end);let i=+n>+r;const o=$t(i?r:n,e),s=$t(i?n:r,e);o.setHours(15),s.setHours(15);const a=+s.getTime();let u=o,c=(e==null?void 0:e.step)??1;if(!c)return[];c<0&&(c=-c,i=!i);const d=[];for(;+u<=a;)u.setHours(0),d.push(W(u)),u=ia(u,c),u.setHours(15);return i?d.reverse():d}function Tp(t){const e=W(t);return e.setDate(1),e.setHours(0,0,0,0),e}function Mw(t){const e=W(t),n=e.getFullYear();return e.setFullYear(n+1,0,0),e.setHours(23,59,59,999),e}function hc(t){const e=W(t),n=Ee(t,0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}function zk(t,e){var a,u;const n=Si(),r=n.weekStartsOn??((u=(a=n.locale)==null?void 0:a.options)==null?void 0:u.weekStartsOn)??0,i=W(t),o=i.getDay(),s=(o<r?-7:0)+6-(o-r);return i.setDate(i.getDate()+s),i.setHours(23,59,59,999),i}const $k={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Yk=(t,e,n)=>{let r;const i=$k[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function Ad(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const Wk={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Hk={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},qk={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Qk={date:Ad({formats:Wk,defaultWidth:"full"}),time:Ad({formats:Hk,defaultWidth:"full"}),dateTime:Ad({formats:qk,defaultWidth:"full"})},Kk={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Gk=(t,e,n,r)=>Kk[t];function hs(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let i;if(r==="formatting"&&t.formattingValues){const s=t.defaultFormattingWidth||t.defaultWidth,a=n!=null&&n.width?String(n.width):s;i=t.formattingValues[a]||t.formattingValues[s]}else{const s=t.defaultWidth,a=n!=null&&n.width?String(n.width):t.defaultWidth;i=t.values[a]||t.values[s]}const o=t.argumentCallback?t.argumentCallback(e):e;return i[o]}}const Xk={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Jk={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Zk={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},eC={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},tC={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},nC={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},rC=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},iC={ordinalNumber:rC,era:hs({values:Xk,defaultWidth:"wide"}),quarter:hs({values:Jk,defaultWidth:"wide",argumentCallback:t=>t-1}),month:hs({values:Zk,defaultWidth:"wide"}),day:hs({values:eC,defaultWidth:"wide"}),dayPeriod:hs({values:tC,defaultWidth:"wide",formattingValues:nC,defaultFormattingWidth:"wide"})};function fs(t){return(e,n={})=>{const r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],o=e.match(i);if(!o)return null;const s=o[0],a=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],u=Array.isArray(a)?sC(a,f=>f.test(s)):oC(a,f=>f.test(s));let c;c=t.valueCallback?t.valueCallback(u):u,c=n.valueCallback?n.valueCallback(c):c;const d=e.slice(s.length);return{value:c,rest:d}}}function oC(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function sC(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function aC(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const i=r[0],o=e.match(t.parsePattern);if(!o)return null;let s=t.valueCallback?t.valueCallback(o[0]):o[0];s=n.valueCallback?n.valueCallback(s):s;const a=e.slice(i.length);return{value:s,rest:a}}}const lC=/^(\d+)(th|st|nd|rd)?/i,uC=/\d+/i,cC={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},dC={any:[/^b/i,/^(a|c)/i]},hC={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},fC={any:[/1/i,/2/i,/3/i,/4/i]},pC={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},mC={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},gC={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},yC={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},vC={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},_C={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},wC={ordinalNumber:aC({matchPattern:lC,parsePattern:uC,valueCallback:t=>parseInt(t,10)}),era:fs({matchPatterns:cC,defaultMatchWidth:"wide",parsePatterns:dC,defaultParseWidth:"any"}),quarter:fs({matchPatterns:hC,defaultMatchWidth:"wide",parsePatterns:fC,defaultParseWidth:"any",valueCallback:t=>t+1}),month:fs({matchPatterns:pC,defaultMatchWidth:"wide",parsePatterns:mC,defaultParseWidth:"any"}),day:fs({matchPatterns:gC,defaultMatchWidth:"wide",parsePatterns:yC,defaultParseWidth:"any"}),dayPeriod:fs({matchPatterns:vC,defaultMatchWidth:"any",parsePatterns:_C,defaultParseWidth:"any"})},Nw={code:"en-US",formatDistance:Yk,formatLong:Qk,formatRelative:Gk,localize:iC,match:wC,options:{weekStartsOn:0,firstWeekContainsDate:1}};function EC(t){const e=W(t);return _o(e,hc(e))+1}function Sp(t){const e=W(t),n=+vo(e)-+Vk(e);return Math.round(n/xw)+1}function Dp(t,e){var d,f,m,g;const n=W(t),r=n.getFullYear(),i=Si(),o=(e==null?void 0:e.firstWeekContainsDate)??((f=(d=e==null?void 0:e.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??i.firstWeekContainsDate??((g=(m=i.locale)==null?void 0:m.options)==null?void 0:g.firstWeekContainsDate)??1,s=Ee(t,0);s.setFullYear(r+1,0,o),s.setHours(0,0,0,0);const a=$t(s,e),u=Ee(t,0);u.setFullYear(r,0,o),u.setHours(0,0,0,0);const c=$t(u,e);return n.getTime()>=a.getTime()?r+1:n.getTime()>=c.getTime()?r:r-1}function TC(t,e){var a,u,c,d;const n=Si(),r=(e==null?void 0:e.firstWeekContainsDate)??((u=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:u.firstWeekContainsDate)??n.firstWeekContainsDate??((d=(c=n.locale)==null?void 0:c.options)==null?void 0:d.firstWeekContainsDate)??1,i=Dp(t,e),o=Ee(t,0);return o.setFullYear(i,0,r),o.setHours(0,0,0,0),$t(o,e)}function Ow(t,e){const n=W(t),r=+$t(n,e)-+TC(n,e);return Math.round(r/xw)+1}function we(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const hr={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return we(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):we(n+1,2)},d(t,e){return we(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return we(t.getHours()%12||12,e.length)},H(t,e){return we(t.getHours(),e.length)},m(t,e){return we(t.getMinutes(),e.length)},s(t,e){return we(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return we(i,e.length)}},Mi={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Dy={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return hr.y(t,e)},Y:function(t,e,n,r){const i=Dp(t,r),o=i>0?i:1-i;if(e==="YY"){const s=o%100;return we(s,2)}return e==="Yo"?n.ordinalNumber(o,{unit:"year"}):we(o,e.length)},R:function(t,e){const n=Aw(t);return we(n,e.length)},u:function(t,e){const n=t.getFullYear();return we(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return we(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return we(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return hr.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return we(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const i=Ow(t,r);return e==="wo"?n.ordinalNumber(i,{unit:"week"}):we(i,e.length)},I:function(t,e,n){const r=Sp(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):we(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):hr.d(t,e)},D:function(t,e,n){const r=EC(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):we(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const i=t.getDay(),o=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(o);case"ee":return we(o,2);case"eo":return n.ordinalNumber(o,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const i=t.getDay(),o=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(o);case"cc":return we(o,e.length);case"co":return n.ordinalNumber(o,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return we(i,e.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let i;switch(r===12?i=Mi.noon:r===0?i=Mi.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let i;switch(r>=17?i=Mi.evening:r>=12?i=Mi.afternoon:r>=4?i=Mi.morning:i=Mi.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return hr.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):hr.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):we(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):we(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):hr.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):hr.s(t,e)},S:function(t,e){return hr.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return Cy(r);case"XXXX":case"XX":return Zr(r);case"XXXXX":case"XXX":default:return Zr(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return Cy(r);case"xxxx":case"xx":return Zr(r);case"xxxxx":case"xxx":default:return Zr(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+ky(r,":");case"OOOO":default:return"GMT"+Zr(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+ky(r,":");case"zzzz":default:return"GMT"+Zr(r,":")}},t:function(t,e,n){const r=Math.trunc(t.getTime()/1e3);return we(r,e.length)},T:function(t,e,n){const r=t.getTime();return we(r,e.length)}};function ky(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Math.trunc(r/60),o=r%60;return o===0?n+String(i):n+String(i)+e+we(o,2)}function Cy(t,e){return t%60===0?(t>0?"-":"+")+we(Math.abs(t)/60,2):Zr(t,e)}function Zr(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=we(Math.trunc(r/60),2),o=we(r%60,2);return n+i+e+o}const Iy=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},Lw=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},SC=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return Iy(t,e);let o;switch(r){case"P":o=e.dateTime({width:"short"});break;case"PP":o=e.dateTime({width:"medium"});break;case"PPP":o=e.dateTime({width:"long"});break;case"PPPP":default:o=e.dateTime({width:"full"});break}return o.replace("{{date}}",Iy(r,e)).replace("{{time}}",Lw(i,e))},ku={p:Lw,P:SC},DC=/^D+$/,kC=/^Y+$/,CC=["D","DD","YY","YYYY"];function Vw(t){return DC.test(t)}function Fw(t){return kC.test(t)}function Hh(t,e,n){const r=IC(t,e,n);if(console.warn(r),CC.includes(t))throw new RangeError(r)}function IC(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const PC=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,RC=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,xC=/^'([^]*?)'?$/,AC=/''/g,bC=/[a-zA-Z]/;function ro(t,e,n){var d,f,m,g,D,E,C,v;const r=Si(),i=(n==null?void 0:n.locale)??r.locale??Nw,o=(n==null?void 0:n.firstWeekContainsDate)??((f=(d=n==null?void 0:n.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??r.firstWeekContainsDate??((g=(m=r.locale)==null?void 0:m.options)==null?void 0:g.firstWeekContainsDate)??1,s=(n==null?void 0:n.weekStartsOn)??((E=(D=n==null?void 0:n.locale)==null?void 0:D.options)==null?void 0:E.weekStartsOn)??r.weekStartsOn??((v=(C=r.locale)==null?void 0:C.options)==null?void 0:v.weekStartsOn)??0,a=W(t);if(!Eu(a))throw new RangeError("Invalid time value");let u=e.match(RC).map(_=>{const k=_[0];if(k==="p"||k==="P"){const A=ku[k];return A(_,i.formatLong)}return _}).join("").match(PC).map(_=>{if(_==="''")return{isToken:!1,value:"'"};const k=_[0];if(k==="'")return{isToken:!1,value:MC(_)};if(Dy[k])return{isToken:!0,value:_};if(k.match(bC))throw new RangeError("Format string contains an unescaped latin alphabet character `"+k+"`");return{isToken:!1,value:_}});i.localize.preprocessor&&(u=i.localize.preprocessor(a,u));const c={firstWeekContainsDate:o,weekStartsOn:s,locale:i};return u.map(_=>{if(!_.isToken)return _.value;const k=_.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&Fw(k)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&Vw(k))&&Hh(k,e,String(t));const A=Dy[k[0]];return A(a,k,i.localize,c)}).join("")}function MC(t){const e=t.match(xC);return e?e[1].replace(AC,"'"):t}function Py(t){return W(t).getDate()}function NC(t){return W(t).getDay()}function OC(t){const e=W(t),n=e.getFullYear(),r=e.getMonth(),i=Ee(t,0);return i.setFullYear(n,r+1,0),i.setHours(0,0,0,0),i.getDate()}function LC(){return Object.assign({},Si())}function Pn(t){return W(t).getHours()}function VC(t){let n=W(t).getDay();return n===0&&(n=7),n}function Rn(t){return W(t).getMinutes()}function Ct(t){return W(t).getMonth()}function Xn(t){return W(t).getSeconds()}function qh(t){return W(t).getTime()}function ae(t){return W(t).getFullYear()}function Vr(t,e){const n=W(t),r=W(e);return n.getTime()>r.getTime()}function vi(t,e){const n=W(t),r=W(e);return+n<+r}function FC(t,e){const n=W(t),r=W(e);return+n==+r}function BC(t,e){const n=e instanceof Date?Ee(e,0):new e(0);return n.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),n.setHours(t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()),n}const UC=10;class Bw{constructor(){H(this,"subPriority",0)}validate(e,n){return!0}}class jC extends Bw{constructor(e,n,r,i,o){super(),this.value=e,this.validateValue=n,this.setValue=r,this.priority=i,o&&(this.subPriority=o)}validate(e,n){return this.validateValue(e,this.value,n)}set(e,n,r){return this.setValue(e,n,this.value,r)}}class zC extends Bw{constructor(){super(...arguments);H(this,"priority",UC);H(this,"subPriority",-1)}set(n,r){return r.timestampIsSet?n:Ee(n,BC(n,Date))}}class ye{run(e,n,r,i){const o=this.parse(e,n,r,i);return o?{setter:new jC(o.value,this.validate,this.set,this.priority,this.subPriority),rest:o.rest}:null}validate(e,n,r){return!0}}class $C extends ye{constructor(){super(...arguments);H(this,"priority",140);H(this,"incompatibleTokens",["R","u","t","T"])}parse(n,r,i){switch(r){case"G":case"GG":case"GGG":return i.era(n,{width:"abbreviated"})||i.era(n,{width:"narrow"});case"GGGGG":return i.era(n,{width:"narrow"});case"GGGG":default:return i.era(n,{width:"wide"})||i.era(n,{width:"abbreviated"})||i.era(n,{width:"narrow"})}}set(n,r,i){return r.era=i,n.setFullYear(i,0,1),n.setHours(0,0,0,0),n}}const Ye={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},Sn={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function We(t,e){return t&&{value:e(t.value),rest:t.rest}}function Ne(t,e){const n=e.match(t);return n?{value:parseInt(n[0],10),rest:e.slice(n[0].length)}:null}function Dn(t,e){const n=e.match(t);if(!n)return null;if(n[0]==="Z")return{value:0,rest:e.slice(1)};const r=n[1]==="+"?1:-1,i=n[2]?parseInt(n[2],10):0,o=n[3]?parseInt(n[3],10):0,s=n[5]?parseInt(n[5],10):0;return{value:r*(i*dc+o*cc+s*Nk),rest:e.slice(n[0].length)}}function Uw(t){return Ne(Ye.anyDigitsSigned,t)}function je(t,e){switch(t){case 1:return Ne(Ye.singleDigit,e);case 2:return Ne(Ye.twoDigits,e);case 3:return Ne(Ye.threeDigits,e);case 4:return Ne(Ye.fourDigits,e);default:return Ne(new RegExp("^\\d{1,"+t+"}"),e)}}function Cu(t,e){switch(t){case 1:return Ne(Ye.singleDigitSigned,e);case 2:return Ne(Ye.twoDigitsSigned,e);case 3:return Ne(Ye.threeDigitsSigned,e);case 4:return Ne(Ye.fourDigitsSigned,e);default:return Ne(new RegExp("^-?\\d{1,"+t+"}"),e)}}function kp(t){switch(t){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function jw(t,e){const n=e>0,r=n?e:1-e;let i;if(r<=50)i=t||100;else{const o=r+50,s=Math.trunc(o/100)*100,a=t>=o%100;i=t+s-(a?100:0)}return n?i:1-i}function zw(t){return t%400===0||t%4===0&&t%100!==0}class YC extends ye{constructor(){super(...arguments);H(this,"priority",130);H(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(n,r,i){const o=s=>({year:s,isTwoDigitYear:r==="yy"});switch(r){case"y":return We(je(4,n),o);case"yo":return We(i.ordinalNumber(n,{unit:"year"}),o);default:return We(je(r.length,n),o)}}validate(n,r){return r.isTwoDigitYear||r.year>0}set(n,r,i){const o=n.getFullYear();if(i.isTwoDigitYear){const a=jw(i.year,o);return n.setFullYear(a,0,1),n.setHours(0,0,0,0),n}const s=!("era"in r)||r.era===1?i.year:1-i.year;return n.setFullYear(s,0,1),n.setHours(0,0,0,0),n}}class WC extends ye{constructor(){super(...arguments);H(this,"priority",130);H(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(n,r,i){const o=s=>({year:s,isTwoDigitYear:r==="YY"});switch(r){case"Y":return We(je(4,n),o);case"Yo":return We(i.ordinalNumber(n,{unit:"year"}),o);default:return We(je(r.length,n),o)}}validate(n,r){return r.isTwoDigitYear||r.year>0}set(n,r,i,o){const s=Dp(n,o);if(i.isTwoDigitYear){const u=jw(i.year,s);return n.setFullYear(u,0,o.firstWeekContainsDate),n.setHours(0,0,0,0),$t(n,o)}const a=!("era"in r)||r.era===1?i.year:1-i.year;return n.setFullYear(a,0,o.firstWeekContainsDate),n.setHours(0,0,0,0),$t(n,o)}}class HC extends ye{constructor(){super(...arguments);H(this,"priority",130);H(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(n,r){return Cu(r==="R"?4:r.length,n)}set(n,r,i){const o=Ee(n,0);return o.setFullYear(i,0,4),o.setHours(0,0,0,0),vo(o)}}class qC extends ye{constructor(){super(...arguments);H(this,"priority",130);H(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(n,r){return Cu(r==="u"?4:r.length,n)}set(n,r,i){return n.setFullYear(i,0,1),n.setHours(0,0,0,0),n}}class QC extends ye{constructor(){super(...arguments);H(this,"priority",120);H(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(n,r,i){switch(r){case"Q":case"QQ":return je(r.length,n);case"Qo":return i.ordinalNumber(n,{unit:"quarter"});case"QQQ":return i.quarter(n,{width:"abbreviated",context:"formatting"})||i.quarter(n,{width:"narrow",context:"formatting"});case"QQQQQ":return i.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return i.quarter(n,{width:"wide",context:"formatting"})||i.quarter(n,{width:"abbreviated",context:"formatting"})||i.quarter(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=1&&r<=4}set(n,r,i){return n.setMonth((i-1)*3,1),n.setHours(0,0,0,0),n}}class KC extends ye{constructor(){super(...arguments);H(this,"priority",120);H(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(n,r,i){switch(r){case"q":case"qq":return je(r.length,n);case"qo":return i.ordinalNumber(n,{unit:"quarter"});case"qqq":return i.quarter(n,{width:"abbreviated",context:"standalone"})||i.quarter(n,{width:"narrow",context:"standalone"});case"qqqqq":return i.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return i.quarter(n,{width:"wide",context:"standalone"})||i.quarter(n,{width:"abbreviated",context:"standalone"})||i.quarter(n,{width:"narrow",context:"standalone"})}}validate(n,r){return r>=1&&r<=4}set(n,r,i){return n.setMonth((i-1)*3,1),n.setHours(0,0,0,0),n}}class GC extends ye{constructor(){super(...arguments);H(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);H(this,"priority",110)}parse(n,r,i){const o=s=>s-1;switch(r){case"M":return We(Ne(Ye.month,n),o);case"MM":return We(je(2,n),o);case"Mo":return We(i.ordinalNumber(n,{unit:"month"}),o);case"MMM":return i.month(n,{width:"abbreviated",context:"formatting"})||i.month(n,{width:"narrow",context:"formatting"});case"MMMMM":return i.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return i.month(n,{width:"wide",context:"formatting"})||i.month(n,{width:"abbreviated",context:"formatting"})||i.month(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=0&&r<=11}set(n,r,i){return n.setMonth(i,1),n.setHours(0,0,0,0),n}}class XC extends ye{constructor(){super(...arguments);H(this,"priority",110);H(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(n,r,i){const o=s=>s-1;switch(r){case"L":return We(Ne(Ye.month,n),o);case"LL":return We(je(2,n),o);case"Lo":return We(i.ordinalNumber(n,{unit:"month"}),o);case"LLL":return i.month(n,{width:"abbreviated",context:"standalone"})||i.month(n,{width:"narrow",context:"standalone"});case"LLLLL":return i.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return i.month(n,{width:"wide",context:"standalone"})||i.month(n,{width:"abbreviated",context:"standalone"})||i.month(n,{width:"narrow",context:"standalone"})}}validate(n,r){return r>=0&&r<=11}set(n,r,i){return n.setMonth(i,1),n.setHours(0,0,0,0),n}}function JC(t,e,n){const r=W(t),i=Ow(r,n)-e;return r.setDate(r.getDate()-i*7),r}class ZC extends ye{constructor(){super(...arguments);H(this,"priority",100);H(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(n,r,i){switch(r){case"w":return Ne(Ye.week,n);case"wo":return i.ordinalNumber(n,{unit:"week"});default:return je(r.length,n)}}validate(n,r){return r>=1&&r<=53}set(n,r,i,o){return $t(JC(n,i,o),o)}}function eI(t,e){const n=W(t),r=Sp(n)-e;return n.setDate(n.getDate()-r*7),n}class tI extends ye{constructor(){super(...arguments);H(this,"priority",100);H(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(n,r,i){switch(r){case"I":return Ne(Ye.week,n);case"Io":return i.ordinalNumber(n,{unit:"week"});default:return je(r.length,n)}}validate(n,r){return r>=1&&r<=53}set(n,r,i){return vo(eI(n,i))}}const nI=[31,28,31,30,31,30,31,31,30,31,30,31],rI=[31,29,31,30,31,30,31,31,30,31,30,31];class iI extends ye{constructor(){super(...arguments);H(this,"priority",90);H(this,"subPriority",1);H(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(n,r,i){switch(r){case"d":return Ne(Ye.date,n);case"do":return i.ordinalNumber(n,{unit:"date"});default:return je(r.length,n)}}validate(n,r){const i=n.getFullYear(),o=zw(i),s=n.getMonth();return o?r>=1&&r<=rI[s]:r>=1&&r<=nI[s]}set(n,r,i){return n.setDate(i),n.setHours(0,0,0,0),n}}class oI extends ye{constructor(){super(...arguments);H(this,"priority",90);H(this,"subpriority",1);H(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(n,r,i){switch(r){case"D":case"DD":return Ne(Ye.dayOfYear,n);case"Do":return i.ordinalNumber(n,{unit:"date"});default:return je(r.length,n)}}validate(n,r){const i=n.getFullYear();return zw(i)?r>=1&&r<=366:r>=1&&r<=365}set(n,r,i){return n.setMonth(0,i),n.setHours(0,0,0,0),n}}function Cp(t,e,n){var f,m,g,D;const r=Si(),i=(n==null?void 0:n.weekStartsOn)??((m=(f=n==null?void 0:n.locale)==null?void 0:f.options)==null?void 0:m.weekStartsOn)??r.weekStartsOn??((D=(g=r.locale)==null?void 0:g.options)==null?void 0:D.weekStartsOn)??0,o=W(t),s=o.getDay(),u=(e%7+7)%7,c=7-i,d=e<0||e>6?e-(s+c)%7:(u+c)%7-(s+c)%7;return rr(o,d)}class sI extends ye{constructor(){super(...arguments);H(this,"priority",90);H(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(n,r,i){switch(r){case"E":case"EE":case"EEE":return i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"});case"EEEEE":return i.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"});case"EEEE":default:return i.day(n,{width:"wide",context:"formatting"})||i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=0&&r<=6}set(n,r,i,o){return n=Cp(n,i,o),n.setHours(0,0,0,0),n}}class aI extends ye{constructor(){super(...arguments);H(this,"priority",90);H(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(n,r,i,o){const s=a=>{const u=Math.floor((a-1)/7)*7;return(a+o.weekStartsOn+6)%7+u};switch(r){case"e":case"ee":return We(je(r.length,n),s);case"eo":return We(i.ordinalNumber(n,{unit:"day"}),s);case"eee":return i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"});case"eeeee":return i.day(n,{width:"narrow",context:"formatting"});case"eeeeee":return i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"});case"eeee":default:return i.day(n,{width:"wide",context:"formatting"})||i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=0&&r<=6}set(n,r,i,o){return n=Cp(n,i,o),n.setHours(0,0,0,0),n}}class lI extends ye{constructor(){super(...arguments);H(this,"priority",90);H(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(n,r,i,o){const s=a=>{const u=Math.floor((a-1)/7)*7;return(a+o.weekStartsOn+6)%7+u};switch(r){case"c":case"cc":return We(je(r.length,n),s);case"co":return We(i.ordinalNumber(n,{unit:"day"}),s);case"ccc":return i.day(n,{width:"abbreviated",context:"standalone"})||i.day(n,{width:"short",context:"standalone"})||i.day(n,{width:"narrow",context:"standalone"});case"ccccc":return i.day(n,{width:"narrow",context:"standalone"});case"cccccc":return i.day(n,{width:"short",context:"standalone"})||i.day(n,{width:"narrow",context:"standalone"});case"cccc":default:return i.day(n,{width:"wide",context:"standalone"})||i.day(n,{width:"abbreviated",context:"standalone"})||i.day(n,{width:"short",context:"standalone"})||i.day(n,{width:"narrow",context:"standalone"})}}validate(n,r){return r>=0&&r<=6}set(n,r,i,o){return n=Cp(n,i,o),n.setHours(0,0,0,0),n}}function uI(t,e){const n=W(t),r=VC(n),i=e-r;return rr(n,i)}class cI extends ye{constructor(){super(...arguments);H(this,"priority",90);H(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(n,r,i){const o=s=>s===0?7:s;switch(r){case"i":case"ii":return je(r.length,n);case"io":return i.ordinalNumber(n,{unit:"day"});case"iii":return We(i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"}),o);case"iiiii":return We(i.day(n,{width:"narrow",context:"formatting"}),o);case"iiiiii":return We(i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"}),o);case"iiii":default:return We(i.day(n,{width:"wide",context:"formatting"})||i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"}),o)}}validate(n,r){return r>=1&&r<=7}set(n,r,i){return n=uI(n,i),n.setHours(0,0,0,0),n}}class dI extends ye{constructor(){super(...arguments);H(this,"priority",80);H(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(n,r,i){switch(r){case"a":case"aa":case"aaa":return i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaaa":return i.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaa":default:return i.dayPeriod(n,{width:"wide",context:"formatting"})||i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,r,i){return n.setHours(kp(i),0,0,0),n}}class hI extends ye{constructor(){super(...arguments);H(this,"priority",80);H(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(n,r,i){switch(r){case"b":case"bb":case"bbb":return i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbbb":return i.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbb":default:return i.dayPeriod(n,{width:"wide",context:"formatting"})||i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,r,i){return n.setHours(kp(i),0,0,0),n}}class fI extends ye{constructor(){super(...arguments);H(this,"priority",80);H(this,"incompatibleTokens",["a","b","t","T"])}parse(n,r,i){switch(r){case"B":case"BB":case"BBB":return i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBBB":return i.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBB":default:return i.dayPeriod(n,{width:"wide",context:"formatting"})||i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,r,i){return n.setHours(kp(i),0,0,0),n}}class pI extends ye{constructor(){super(...arguments);H(this,"priority",70);H(this,"incompatibleTokens",["H","K","k","t","T"])}parse(n,r,i){switch(r){case"h":return Ne(Ye.hour12h,n);case"ho":return i.ordinalNumber(n,{unit:"hour"});default:return je(r.length,n)}}validate(n,r){return r>=1&&r<=12}set(n,r,i){const o=n.getHours()>=12;return o&&i<12?n.setHours(i+12,0,0,0):!o&&i===12?n.setHours(0,0,0,0):n.setHours(i,0,0,0),n}}class mI extends ye{constructor(){super(...arguments);H(this,"priority",70);H(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(n,r,i){switch(r){case"H":return Ne(Ye.hour23h,n);case"Ho":return i.ordinalNumber(n,{unit:"hour"});default:return je(r.length,n)}}validate(n,r){return r>=0&&r<=23}set(n,r,i){return n.setHours(i,0,0,0),n}}class gI extends ye{constructor(){super(...arguments);H(this,"priority",70);H(this,"incompatibleTokens",["h","H","k","t","T"])}parse(n,r,i){switch(r){case"K":return Ne(Ye.hour11h,n);case"Ko":return i.ordinalNumber(n,{unit:"hour"});default:return je(r.length,n)}}validate(n,r){return r>=0&&r<=11}set(n,r,i){return n.getHours()>=12&&i<12?n.setHours(i+12,0,0,0):n.setHours(i,0,0,0),n}}class yI extends ye{constructor(){super(...arguments);H(this,"priority",70);H(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(n,r,i){switch(r){case"k":return Ne(Ye.hour24h,n);case"ko":return i.ordinalNumber(n,{unit:"hour"});default:return je(r.length,n)}}validate(n,r){return r>=1&&r<=24}set(n,r,i){const o=i<=24?i%24:i;return n.setHours(o,0,0,0),n}}class vI extends ye{constructor(){super(...arguments);H(this,"priority",60);H(this,"incompatibleTokens",["t","T"])}parse(n,r,i){switch(r){case"m":return Ne(Ye.minute,n);case"mo":return i.ordinalNumber(n,{unit:"minute"});default:return je(r.length,n)}}validate(n,r){return r>=0&&r<=59}set(n,r,i){return n.setMinutes(i,0,0),n}}class _I extends ye{constructor(){super(...arguments);H(this,"priority",50);H(this,"incompatibleTokens",["t","T"])}parse(n,r,i){switch(r){case"s":return Ne(Ye.second,n);case"so":return i.ordinalNumber(n,{unit:"second"});default:return je(r.length,n)}}validate(n,r){return r>=0&&r<=59}set(n,r,i){return n.setSeconds(i,0),n}}class wI extends ye{constructor(){super(...arguments);H(this,"priority",30);H(this,"incompatibleTokens",["t","T"])}parse(n,r){const i=o=>Math.trunc(o*Math.pow(10,-r.length+3));return We(je(r.length,n),i)}set(n,r,i){return n.setMilliseconds(i),n}}class EI extends ye{constructor(){super(...arguments);H(this,"priority",10);H(this,"incompatibleTokens",["t","T","x"])}parse(n,r){switch(r){case"X":return Dn(Sn.basicOptionalMinutes,n);case"XX":return Dn(Sn.basic,n);case"XXXX":return Dn(Sn.basicOptionalSeconds,n);case"XXXXX":return Dn(Sn.extendedOptionalSeconds,n);case"XXX":default:return Dn(Sn.extended,n)}}set(n,r,i){return r.timestampIsSet?n:Ee(n,n.getTime()-wu(n)-i)}}class TI extends ye{constructor(){super(...arguments);H(this,"priority",10);H(this,"incompatibleTokens",["t","T","X"])}parse(n,r){switch(r){case"x":return Dn(Sn.basicOptionalMinutes,n);case"xx":return Dn(Sn.basic,n);case"xxxx":return Dn(Sn.basicOptionalSeconds,n);case"xxxxx":return Dn(Sn.extendedOptionalSeconds,n);case"xxx":default:return Dn(Sn.extended,n)}}set(n,r,i){return r.timestampIsSet?n:Ee(n,n.getTime()-wu(n)-i)}}class SI extends ye{constructor(){super(...arguments);H(this,"priority",40);H(this,"incompatibleTokens","*")}parse(n){return Uw(n)}set(n,r,i){return[Ee(n,i*1e3),{timestampIsSet:!0}]}}class DI extends ye{constructor(){super(...arguments);H(this,"priority",20);H(this,"incompatibleTokens","*")}parse(n){return Uw(n)}set(n,r,i){return[Ee(n,i),{timestampIsSet:!0}]}}const kI={G:new $C,y:new YC,Y:new WC,R:new HC,u:new qC,Q:new QC,q:new KC,M:new GC,L:new XC,w:new ZC,I:new tI,d:new iI,D:new oI,E:new sI,e:new aI,c:new lI,i:new cI,a:new dI,b:new hI,B:new fI,h:new pI,H:new mI,K:new gI,k:new yI,m:new vI,s:new _I,S:new wI,X:new EI,x:new TI,t:new SI,T:new DI},CI=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,II=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,PI=/^'([^]*?)'?$/,RI=/''/g,xI=/\S/,AI=/[a-zA-Z]/;function bd(t,e,n,r){var E,C,v,_,k,A,N,O;const i=LC(),o=(r==null?void 0:r.locale)??i.locale??Nw,s=(r==null?void 0:r.firstWeekContainsDate)??((C=(E=r==null?void 0:r.locale)==null?void 0:E.options)==null?void 0:C.firstWeekContainsDate)??i.firstWeekContainsDate??((_=(v=i.locale)==null?void 0:v.options)==null?void 0:_.firstWeekContainsDate)??1,a=(r==null?void 0:r.weekStartsOn)??((A=(k=r==null?void 0:r.locale)==null?void 0:k.options)==null?void 0:A.weekStartsOn)??i.weekStartsOn??((O=(N=i.locale)==null?void 0:N.options)==null?void 0:O.weekStartsOn)??0;if(e==="")return t===""?W(n):Ee(n,NaN);const u={firstWeekContainsDate:s,weekStartsOn:a,locale:o},c=[new zC],d=e.match(II).map(T=>{const y=T[0];if(y in ku){const S=ku[y];return S(T,o.formatLong)}return T}).join("").match(CI),f=[];for(let T of d){!(r!=null&&r.useAdditionalWeekYearTokens)&&Fw(T)&&Hh(T,e,t),!(r!=null&&r.useAdditionalDayOfYearTokens)&&Vw(T)&&Hh(T,e,t);const y=T[0],S=kI[y];if(S){const{incompatibleTokens:P}=S;if(Array.isArray(P)){const R=f.find(I=>P.includes(I.token)||I.token===y);if(R)throw new RangeError(`The format string mustn't contain \`${R.fullToken}\` and \`${T}\` at the same time`)}else if(S.incompatibleTokens==="*"&&f.length>0)throw new RangeError(`The format string mustn't contain \`${T}\` and any other token at the same time`);f.push({token:y,fullToken:T});const x=S.run(t,T,o.match,u);if(!x)return Ee(n,NaN);c.push(x.setter),t=x.rest}else{if(y.match(AI))throw new RangeError("Format string contains an unescaped latin alphabet character `"+y+"`");if(T==="''"?T="'":y==="'"&&(T=bI(T)),t.indexOf(T)===0)t=t.slice(T.length);else return Ee(n,NaN)}}if(t.length>0&&xI.test(t))return Ee(n,NaN);const m=c.map(T=>T.priority).sort((T,y)=>y-T).filter((T,y,S)=>S.indexOf(T)===y).map(T=>c.filter(y=>y.priority===T).sort((y,S)=>S.subPriority-y.subPriority)).map(T=>T[0]);let g=W(n);if(isNaN(g.getTime()))return Ee(n,NaN);const D={};for(const T of m){if(!T.validate(g,u))return Ee(n,NaN);const y=T.set(g,D,u);Array.isArray(y)?(g=y[0],Object.assign(D,y[1])):g=y}return Ee(n,g)}function bI(t){return t.match(PI)[1].replace(RI,"'")}function MI(t,e){const n=W(t),r=W(e);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}function NI(t,e){const n=Wh(t),r=Wh(e);return+n==+r}function OI(t,e){const n=W(t),r=W(e);return n.getFullYear()===r.getFullYear()}function oa(t,e){const n=+W(t),[r,i]=[+W(e.start),+W(e.end)].sort((o,s)=>o-s);return n>=r&&n<=i}function LI(t,e){return rr(t,-e)}function VI(t,e){const r=jI(t);let i;if(r.date){const u=zI(r.date,2);i=$I(u.restDateString,u.year)}if(!i||isNaN(i.getTime()))return new Date(NaN);const o=i.getTime();let s=0,a;if(r.time&&(s=YI(r.time),isNaN(s)))return new Date(NaN);if(r.timezone){if(a=WI(r.timezone),isNaN(a))return new Date(NaN)}else{const u=new Date(o+s),c=new Date(0);return c.setFullYear(u.getUTCFullYear(),u.getUTCMonth(),u.getUTCDate()),c.setHours(u.getUTCHours(),u.getUTCMinutes(),u.getUTCSeconds(),u.getUTCMilliseconds()),c}return new Date(o+s+a)}const hl={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},FI=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,BI=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,UI=/^([+-])(\d{2})(?::?(\d{2}))?$/;function jI(t){const e={},n=t.split(hl.dateTimeDelimiter);let r;if(n.length>2)return e;if(/:/.test(n[0])?r=n[0]:(e.date=n[0],r=n[1],hl.timeZoneDelimiter.test(e.date)&&(e.date=t.split(hl.timeZoneDelimiter)[0],r=t.substr(e.date.length,t.length))),r){const i=hl.timezone.exec(r);i?(e.time=r.replace(i[1],""),e.timezone=i[1]):e.time=r}return e}function zI(t,e){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),r=t.match(n);if(!r)return{year:NaN,restDateString:""};const i=r[1]?parseInt(r[1]):null,o=r[2]?parseInt(r[2]):null;return{year:o===null?i:o*100,restDateString:t.slice((r[1]||r[2]).length)}}function $I(t,e){if(e===null)return new Date(NaN);const n=t.match(FI);if(!n)return new Date(NaN);const r=!!n[4],i=ps(n[1]),o=ps(n[2])-1,s=ps(n[3]),a=ps(n[4]),u=ps(n[5])-1;if(r)return GI(e,a,u)?HI(e,a,u):new Date(NaN);{const c=new Date(0);return!QI(e,o,s)||!KI(e,i)?new Date(NaN):(c.setUTCFullYear(e,o,Math.max(i,s)),c)}}function ps(t){return t?parseInt(t):1}function YI(t){const e=t.match(BI);if(!e)return NaN;const n=Md(e[1]),r=Md(e[2]),i=Md(e[3]);return XI(n,r,i)?n*dc+r*cc+i*1e3:NaN}function Md(t){return t&&parseFloat(t.replace(",","."))||0}function WI(t){if(t==="Z")return 0;const e=t.match(UI);if(!e)return 0;const n=e[1]==="+"?-1:1,r=parseInt(e[2]),i=e[3]&&parseInt(e[3])||0;return JI(r,i)?n*(r*dc+i*cc):NaN}function HI(t,e,n){const r=new Date(0);r.setUTCFullYear(t,0,4);const i=r.getUTCDay()||7,o=(e-1)*7+n+1-i;return r.setUTCDate(r.getUTCDate()+o),r}const qI=[31,null,31,30,31,30,31,31,30,31,30,31];function $w(t){return t%400===0||t%4===0&&t%100!==0}function QI(t,e,n){return e>=0&&e<=11&&n>=1&&n<=(qI[e]||($w(t)?29:28))}function KI(t,e){return e>=1&&e<=($w(t)?366:365)}function GI(t,e,n){return e>=1&&e<=53&&n>=0&&n<=6}function XI(t,e,n){return t===24?e===0&&n===0:n>=0&&n<60&&e>=0&&e<60&&t>=0&&t<25}function JI(t,e){return e>=0&&e<=59}function jt(t,e){const n=W(t),r=n.getFullYear(),i=n.getDate(),o=Ee(t,0);o.setFullYear(r,e,15),o.setHours(0,0,0,0);const s=OC(o);return n.setMonth(e,Math.min(i,s)),n}function ZI(t,e){let n=W(t);return isNaN(+n)?Ee(t,NaN):(e.year!=null&&n.setFullYear(e.year),e.month!=null&&(n=jt(n,e.month)),e.date!=null&&n.setDate(e.date),e.hours!=null&&n.setHours(e.hours),e.minutes!=null&&n.setMinutes(e.minutes),e.seconds!=null&&n.setSeconds(e.seconds),e.milliseconds!=null&&n.setMilliseconds(e.milliseconds),n)}function Fl(t,e){const n=W(t);return n.setHours(e),n}function Bl(t,e){const n=W(t);return n.setMinutes(e),n}function Ni(t,e){const n=W(t),r=Math.trunc(n.getMonth()/3)+1,i=e-r;return jt(n,n.getMonth()+i*3)}function Ul(t,e){const n=W(t);return n.setSeconds(e),n}function wn(t,e){const n=W(t);return isNaN(+n)?Ee(t,NaN):(n.setFullYear(e),n)}function wo(t,e){return gn(t,-e)}function Yw(t,e){return wp(t,-e)}function Ry(t,e){return ia(t,-e)}function Eo(t,e){return Kn(t,-e)}const eP="_addMemberForm_6htoa_1",tP="_fadeIn_6htoa_1",nP="_formGroup_6htoa_37",rP="_checkboxGroup_6htoa_57",iP="_checkbox_6htoa_57",oP="_datePickerContainer_6htoa_76",sP="_datePicker_6htoa_76",aP="_datesList_6htoa_89",lP="_dateTag_6htoa_95",uP="_formActions_6htoa_114",cP="_submitButton_6htoa_121",dP="_cancelButton_6htoa_122",hP="_error_6htoa_149",fP="_errorText_6htoa_153",pP="_overlay_6htoa_159",He={addMemberForm:eP,fadeIn:tP,formGroup:nP,checkboxGroup:rP,checkbox:iP,datePickerContainer:oP,datePicker:sP,datesList:aP,dateTag:lP,formActions:uP,submitButton:cP,cancelButton:dP,error:hP,errorText:fP,overlay:pP};var xy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ww=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},mP=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],s=t[n++],a=t[n++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},Hw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,a=s?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,d=o>>2,f=(o&3)<<4|a>>4;let m=(a&15)<<2|c>>6,g=c&63;u||(g=64,s||(m=64)),r.push(n[d],n[f],n[m],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Ww(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):mP(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||c==null||f==null)throw new gP;const m=o<<2|a>>4;if(r.push(m),c!==64){const g=a<<4&240|c>>2;if(r.push(g),f!==64){const D=c<<6&192|f;r.push(D)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class gP extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const yP=function(t){const e=Ww(t);return Hw.encodeByteArray(e,!0)},Iu=function(t){return yP(t).replace(/\./g,"")},vP=function(t){try{return Hw.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _P(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wP=()=>_P().__FIREBASE_DEFAULTS__,EP=()=>{if(typeof process>"u"||typeof xy>"u")return;const t=xy.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},TP=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&vP(t[1]);return e&&JSON.parse(e)},Ip=()=>{try{return wP()||EP()||TP()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},SP=t=>{var e,n;return(n=(e=Ip())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},DP=t=>{const e=SP(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},qw=()=>{var t;return(t=Ip())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kP{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CP(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Iu(JSON.stringify(n)),Iu(JSON.stringify(s)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IP(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function PP(){var t;const e=(t=Ip())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function RP(){return!PP()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function xP(){try{return typeof indexedDB=="object"}catch{return!1}}function AP(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bP="FirebaseError";class Fo extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=bP,Object.setPrototypeOf(this,Fo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Qw.prototype.create)}}class Qw{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?MP(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new Fo(i,a,r)}}function MP(t,e){return t.replace(NP,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const NP=/\{\$([^}]+)}/g;function Qh(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],s=e[i];if(Ay(o)&&Ay(s)){if(!Qh(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Ay(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function To(t){return t&&t._delegate?t._delegate:t}class sa{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ei="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OP{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new kP;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(VP(e))try{this.getOrInitializeService({instanceIdentifier:ei})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=ei){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ei){return this.instances.has(e)}getOptions(e=ei){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:LP(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ei){return this.component?this.component.multipleInstances?e:ei:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function LP(t){return t===ei?void 0:t}function VP(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FP{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new OP(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(fe||(fe={}));const BP={debug:fe.DEBUG,verbose:fe.VERBOSE,info:fe.INFO,warn:fe.WARN,error:fe.ERROR,silent:fe.SILENT},UP=fe.INFO,jP={[fe.DEBUG]:"log",[fe.VERBOSE]:"log",[fe.INFO]:"info",[fe.WARN]:"warn",[fe.ERROR]:"error"},zP=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=jP[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Kw{constructor(e){this.name=e,this._logLevel=UP,this._logHandler=zP,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in fe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?BP[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,fe.DEBUG,...e),this._logHandler(this,fe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,fe.VERBOSE,...e),this._logHandler(this,fe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,fe.INFO,...e),this._logHandler(this,fe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,fe.WARN,...e),this._logHandler(this,fe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,fe.ERROR,...e),this._logHandler(this,fe.ERROR,...e)}}const $P=(t,e)=>e.some(n=>t instanceof n);let by,My;function YP(){return by||(by=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function WP(){return My||(My=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Gw=new WeakMap,Kh=new WeakMap,Xw=new WeakMap,Nd=new WeakMap,Pp=new WeakMap;function HP(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(xr(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&Gw.set(n,t)}).catch(()=>{}),Pp.set(e,t),e}function qP(t){if(Kh.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});Kh.set(t,e)}let Gh={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Kh.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Xw.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return xr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function QP(t){Gh=t(Gh)}function KP(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Od(this),e,...n);return Xw.set(r,e.sort?e.sort():[e]),xr(r)}:WP().includes(t)?function(...e){return t.apply(Od(this),e),xr(Gw.get(this))}:function(...e){return xr(t.apply(Od(this),e))}}function GP(t){return typeof t=="function"?KP(t):(t instanceof IDBTransaction&&qP(t),$P(t,YP())?new Proxy(t,Gh):t)}function xr(t){if(t instanceof IDBRequest)return HP(t);if(Nd.has(t))return Nd.get(t);const e=GP(t);return e!==t&&(Nd.set(t,e),Pp.set(e,t)),e}const Od=t=>Pp.get(t);function XP(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=xr(s);return r&&s.addEventListener("upgradeneeded",u=>{r(xr(s.result),u.oldVersion,u.newVersion,xr(s.transaction),u)}),n&&s.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const JP=["get","getKey","getAll","getAllKeys","count"],ZP=["put","add","delete","clear"],Ld=new Map;function Ny(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Ld.get(e))return Ld.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=ZP.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||JP.includes(n)))return;const o=async function(s,...a){const u=this.transaction(s,i?"readwrite":"readonly");let c=u.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&u.done]))[0]};return Ld.set(e,o),o}QP(t=>({...t,get:(e,n,r)=>Ny(e,n)||t.get(e,n,r),has:(e,n)=>!!Ny(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(tR(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function tR(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Xh="@firebase/app",Oy="0.10.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ir=new Kw("@firebase/app"),nR="@firebase/app-compat",rR="@firebase/analytics-compat",iR="@firebase/analytics",oR="@firebase/app-check-compat",sR="@firebase/app-check",aR="@firebase/auth",lR="@firebase/auth-compat",uR="@firebase/database",cR="@firebase/data-connect",dR="@firebase/database-compat",hR="@firebase/functions",fR="@firebase/functions-compat",pR="@firebase/installations",mR="@firebase/installations-compat",gR="@firebase/messaging",yR="@firebase/messaging-compat",vR="@firebase/performance",_R="@firebase/performance-compat",wR="@firebase/remote-config",ER="@firebase/remote-config-compat",TR="@firebase/storage",SR="@firebase/storage-compat",DR="@firebase/firestore",kR="@firebase/vertexai",CR="@firebase/firestore-compat",IR="firebase",PR="11.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jh="[DEFAULT]",RR={[Xh]:"fire-core",[nR]:"fire-core-compat",[iR]:"fire-analytics",[rR]:"fire-analytics-compat",[sR]:"fire-app-check",[oR]:"fire-app-check-compat",[aR]:"fire-auth",[lR]:"fire-auth-compat",[uR]:"fire-rtdb",[cR]:"fire-data-connect",[dR]:"fire-rtdb-compat",[hR]:"fire-fn",[fR]:"fire-fn-compat",[pR]:"fire-iid",[mR]:"fire-iid-compat",[gR]:"fire-fcm",[yR]:"fire-fcm-compat",[vR]:"fire-perf",[_R]:"fire-perf-compat",[wR]:"fire-rc",[ER]:"fire-rc-compat",[TR]:"fire-gcs",[SR]:"fire-gcs-compat",[DR]:"fire-fst",[CR]:"fire-fst-compat",[kR]:"fire-vertex","fire-js":"fire-js",[IR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pu=new Map,xR=new Map,Zh=new Map;function Ly(t,e){try{t.container.addComponent(e)}catch(n){ir.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ru(t){const e=t.name;if(Zh.has(e))return ir.debug(`There were multiple attempts to register component ${e}.`),!1;Zh.set(e,t);for(const n of Pu.values())Ly(n,t);for(const n of xR.values())Ly(n,t);return!0}function AR(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ar=new Qw("app","Firebase",bR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MR{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new sa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ar.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NR=PR;function Jw(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Jh,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Ar.create("bad-app-name",{appName:String(i)});if(n||(n=qw()),!n)throw Ar.create("no-options");const o=Pu.get(i);if(o){if(Qh(n,o.options)&&Qh(r,o.config))return o;throw Ar.create("duplicate-app",{appName:i})}const s=new FP(i);for(const u of Zh.values())s.addComponent(u);const a=new MR(n,r,s);return Pu.set(i,a),a}function OR(t=Jh){const e=Pu.get(t);if(!e&&t===Jh&&qw())return Jw();if(!e)throw Ar.create("no-app",{appName:t});return e}function io(t,e,n){var r;let i=(r=RR[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ir.warn(a.join(" "));return}Ru(new sa(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LR="firebase-heartbeat-database",VR=1,aa="firebase-heartbeat-store";let Vd=null;function Zw(){return Vd||(Vd=XP(LR,VR,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(aa)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ar.create("idb-open",{originalErrorMessage:t.message})})),Vd}async function FR(t){try{const n=(await Zw()).transaction(aa),r=await n.objectStore(aa).get(eE(t));return await n.done,r}catch(e){if(e instanceof Fo)ir.warn(e.message);else{const n=Ar.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ir.warn(n.message)}}}async function Vy(t,e){try{const r=(await Zw()).transaction(aa,"readwrite");await r.objectStore(aa).put(e,eE(t)),await r.done}catch(n){if(n instanceof Fo)ir.warn(n.message);else{const r=Ar.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ir.warn(r.message)}}}function eE(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BR=1024,UR=30*24*60*60*1e3;class jR{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new $R(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=Fy();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const a=new Date(s.date).valueOf();return Date.now()-a<=UR}),this._storage.overwrite(this._heartbeatsCache))}catch(r){ir.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Fy(),{heartbeatsToSend:r,unsentEntries:i}=zR(this._heartbeatsCache.heartbeats),o=Iu(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return ir.warn(n),""}}}function Fy(){return new Date().toISOString().substring(0,10)}function zR(t,e=BR){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),By(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),By(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class $R{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return xP()?AP().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await FR(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Vy(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Vy(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function By(t){return Iu(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YR(t){Ru(new sa("platform-logger",e=>new eR(e),"PRIVATE")),Ru(new sa("heartbeat",e=>new jR(e),"PRIVATE")),io(Xh,Oy,t),io(Xh,Oy,"esm2017"),io("fire-js","")}YR("");var WR="firebase",HR="11.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */io(WR,HR,"app");var Uy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ui,tE;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(T,y){function S(){}S.prototype=y.prototype,T.D=y.prototype,T.prototype=new S,T.prototype.constructor=T,T.C=function(P,x,R){for(var I=Array(arguments.length-2),Z=2;Z<arguments.length;Z++)I[Z-2]=arguments[Z];return y.prototype[x].apply(P,I)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(T,y,S){S||(S=0);var P=Array(16);if(typeof y=="string")for(var x=0;16>x;++x)P[x]=y.charCodeAt(S++)|y.charCodeAt(S++)<<8|y.charCodeAt(S++)<<16|y.charCodeAt(S++)<<24;else for(x=0;16>x;++x)P[x]=y[S++]|y[S++]<<8|y[S++]<<16|y[S++]<<24;y=T.g[0],S=T.g[1],x=T.g[2];var R=T.g[3],I=y+(R^S&(x^R))+P[0]+3614090360&4294967295;y=S+(I<<7&4294967295|I>>>25),I=R+(x^y&(S^x))+P[1]+3905402710&4294967295,R=y+(I<<12&4294967295|I>>>20),I=x+(S^R&(y^S))+P[2]+606105819&4294967295,x=R+(I<<17&4294967295|I>>>15),I=S+(y^x&(R^y))+P[3]+3250441966&4294967295,S=x+(I<<22&4294967295|I>>>10),I=y+(R^S&(x^R))+P[4]+4118548399&4294967295,y=S+(I<<7&4294967295|I>>>25),I=R+(x^y&(S^x))+P[5]+1200080426&4294967295,R=y+(I<<12&4294967295|I>>>20),I=x+(S^R&(y^S))+P[6]+2821735955&4294967295,x=R+(I<<17&4294967295|I>>>15),I=S+(y^x&(R^y))+P[7]+4249261313&4294967295,S=x+(I<<22&4294967295|I>>>10),I=y+(R^S&(x^R))+P[8]+1770035416&4294967295,y=S+(I<<7&4294967295|I>>>25),I=R+(x^y&(S^x))+P[9]+2336552879&4294967295,R=y+(I<<12&4294967295|I>>>20),I=x+(S^R&(y^S))+P[10]+4294925233&4294967295,x=R+(I<<17&4294967295|I>>>15),I=S+(y^x&(R^y))+P[11]+2304563134&4294967295,S=x+(I<<22&4294967295|I>>>10),I=y+(R^S&(x^R))+P[12]+1804603682&4294967295,y=S+(I<<7&4294967295|I>>>25),I=R+(x^y&(S^x))+P[13]+4254626195&4294967295,R=y+(I<<12&4294967295|I>>>20),I=x+(S^R&(y^S))+P[14]+2792965006&4294967295,x=R+(I<<17&4294967295|I>>>15),I=S+(y^x&(R^y))+P[15]+1236535329&4294967295,S=x+(I<<22&4294967295|I>>>10),I=y+(x^R&(S^x))+P[1]+4129170786&4294967295,y=S+(I<<5&4294967295|I>>>27),I=R+(S^x&(y^S))+P[6]+3225465664&4294967295,R=y+(I<<9&4294967295|I>>>23),I=x+(y^S&(R^y))+P[11]+643717713&4294967295,x=R+(I<<14&4294967295|I>>>18),I=S+(R^y&(x^R))+P[0]+3921069994&4294967295,S=x+(I<<20&4294967295|I>>>12),I=y+(x^R&(S^x))+P[5]+3593408605&4294967295,y=S+(I<<5&4294967295|I>>>27),I=R+(S^x&(y^S))+P[10]+38016083&4294967295,R=y+(I<<9&4294967295|I>>>23),I=x+(y^S&(R^y))+P[15]+3634488961&4294967295,x=R+(I<<14&4294967295|I>>>18),I=S+(R^y&(x^R))+P[4]+3889429448&4294967295,S=x+(I<<20&4294967295|I>>>12),I=y+(x^R&(S^x))+P[9]+568446438&4294967295,y=S+(I<<5&4294967295|I>>>27),I=R+(S^x&(y^S))+P[14]+3275163606&4294967295,R=y+(I<<9&4294967295|I>>>23),I=x+(y^S&(R^y))+P[3]+4107603335&4294967295,x=R+(I<<14&4294967295|I>>>18),I=S+(R^y&(x^R))+P[8]+1163531501&4294967295,S=x+(I<<20&4294967295|I>>>12),I=y+(x^R&(S^x))+P[13]+2850285829&4294967295,y=S+(I<<5&4294967295|I>>>27),I=R+(S^x&(y^S))+P[2]+4243563512&4294967295,R=y+(I<<9&4294967295|I>>>23),I=x+(y^S&(R^y))+P[7]+1735328473&4294967295,x=R+(I<<14&4294967295|I>>>18),I=S+(R^y&(x^R))+P[12]+2368359562&4294967295,S=x+(I<<20&4294967295|I>>>12),I=y+(S^x^R)+P[5]+4294588738&4294967295,y=S+(I<<4&4294967295|I>>>28),I=R+(y^S^x)+P[8]+2272392833&4294967295,R=y+(I<<11&4294967295|I>>>21),I=x+(R^y^S)+P[11]+1839030562&4294967295,x=R+(I<<16&4294967295|I>>>16),I=S+(x^R^y)+P[14]+4259657740&4294967295,S=x+(I<<23&4294967295|I>>>9),I=y+(S^x^R)+P[1]+2763975236&4294967295,y=S+(I<<4&4294967295|I>>>28),I=R+(y^S^x)+P[4]+1272893353&4294967295,R=y+(I<<11&4294967295|I>>>21),I=x+(R^y^S)+P[7]+4139469664&4294967295,x=R+(I<<16&4294967295|I>>>16),I=S+(x^R^y)+P[10]+3200236656&4294967295,S=x+(I<<23&4294967295|I>>>9),I=y+(S^x^R)+P[13]+681279174&4294967295,y=S+(I<<4&4294967295|I>>>28),I=R+(y^S^x)+P[0]+3936430074&4294967295,R=y+(I<<11&4294967295|I>>>21),I=x+(R^y^S)+P[3]+3572445317&4294967295,x=R+(I<<16&4294967295|I>>>16),I=S+(x^R^y)+P[6]+76029189&4294967295,S=x+(I<<23&4294967295|I>>>9),I=y+(S^x^R)+P[9]+3654602809&4294967295,y=S+(I<<4&4294967295|I>>>28),I=R+(y^S^x)+P[12]+3873151461&4294967295,R=y+(I<<11&4294967295|I>>>21),I=x+(R^y^S)+P[15]+530742520&4294967295,x=R+(I<<16&4294967295|I>>>16),I=S+(x^R^y)+P[2]+3299628645&4294967295,S=x+(I<<23&4294967295|I>>>9),I=y+(x^(S|~R))+P[0]+4096336452&4294967295,y=S+(I<<6&4294967295|I>>>26),I=R+(S^(y|~x))+P[7]+1126891415&4294967295,R=y+(I<<10&4294967295|I>>>22),I=x+(y^(R|~S))+P[14]+2878612391&4294967295,x=R+(I<<15&4294967295|I>>>17),I=S+(R^(x|~y))+P[5]+4237533241&4294967295,S=x+(I<<21&4294967295|I>>>11),I=y+(x^(S|~R))+P[12]+1700485571&4294967295,y=S+(I<<6&4294967295|I>>>26),I=R+(S^(y|~x))+P[3]+2399980690&4294967295,R=y+(I<<10&4294967295|I>>>22),I=x+(y^(R|~S))+P[10]+4293915773&4294967295,x=R+(I<<15&4294967295|I>>>17),I=S+(R^(x|~y))+P[1]+2240044497&4294967295,S=x+(I<<21&4294967295|I>>>11),I=y+(x^(S|~R))+P[8]+1873313359&4294967295,y=S+(I<<6&4294967295|I>>>26),I=R+(S^(y|~x))+P[15]+4264355552&4294967295,R=y+(I<<10&4294967295|I>>>22),I=x+(y^(R|~S))+P[6]+2734768916&4294967295,x=R+(I<<15&4294967295|I>>>17),I=S+(R^(x|~y))+P[13]+1309151649&4294967295,S=x+(I<<21&4294967295|I>>>11),I=y+(x^(S|~R))+P[4]+4149444226&4294967295,y=S+(I<<6&4294967295|I>>>26),I=R+(S^(y|~x))+P[11]+3174756917&4294967295,R=y+(I<<10&4294967295|I>>>22),I=x+(y^(R|~S))+P[2]+718787259&4294967295,x=R+(I<<15&4294967295|I>>>17),I=S+(R^(x|~y))+P[9]+3951481745&4294967295,T.g[0]=T.g[0]+y&4294967295,T.g[1]=T.g[1]+(x+(I<<21&4294967295|I>>>11))&4294967295,T.g[2]=T.g[2]+x&4294967295,T.g[3]=T.g[3]+R&4294967295}r.prototype.u=function(T,y){y===void 0&&(y=T.length);for(var S=y-this.blockSize,P=this.B,x=this.h,R=0;R<y;){if(x==0)for(;R<=S;)i(this,T,R),R+=this.blockSize;if(typeof T=="string"){for(;R<y;)if(P[x++]=T.charCodeAt(R++),x==this.blockSize){i(this,P),x=0;break}}else for(;R<y;)if(P[x++]=T[R++],x==this.blockSize){i(this,P),x=0;break}}this.h=x,this.o+=y},r.prototype.v=function(){var T=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);T[0]=128;for(var y=1;y<T.length-8;++y)T[y]=0;var S=8*this.o;for(y=T.length-8;y<T.length;++y)T[y]=S&255,S/=256;for(this.u(T),T=Array(16),y=S=0;4>y;++y)for(var P=0;32>P;P+=8)T[S++]=this.g[y]>>>P&255;return T};function o(T,y){var S=a;return Object.prototype.hasOwnProperty.call(S,T)?S[T]:S[T]=y(T)}function s(T,y){this.h=y;for(var S=[],P=!0,x=T.length-1;0<=x;x--){var R=T[x]|0;P&&R==y||(S[x]=R,P=!1)}this.g=S}var a={};function u(T){return-128<=T&&128>T?o(T,function(y){return new s([y|0],0>y?-1:0)}):new s([T|0],0>T?-1:0)}function c(T){if(isNaN(T)||!isFinite(T))return f;if(0>T)return C(c(-T));for(var y=[],S=1,P=0;T>=S;P++)y[P]=T/S|0,S*=4294967296;return new s(y,0)}function d(T,y){if(T.length==0)throw Error("number format error: empty string");if(y=y||10,2>y||36<y)throw Error("radix out of range: "+y);if(T.charAt(0)=="-")return C(d(T.substring(1),y));if(0<=T.indexOf("-"))throw Error('number format error: interior "-" character');for(var S=c(Math.pow(y,8)),P=f,x=0;x<T.length;x+=8){var R=Math.min(8,T.length-x),I=parseInt(T.substring(x,x+R),y);8>R?(R=c(Math.pow(y,R)),P=P.j(R).add(c(I))):(P=P.j(S),P=P.add(c(I)))}return P}var f=u(0),m=u(1),g=u(16777216);t=s.prototype,t.m=function(){if(E(this))return-C(this).m();for(var T=0,y=1,S=0;S<this.g.length;S++){var P=this.i(S);T+=(0<=P?P:4294967296+P)*y,y*=4294967296}return T},t.toString=function(T){if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(D(this))return"0";if(E(this))return"-"+C(this).toString(T);for(var y=c(Math.pow(T,6)),S=this,P="";;){var x=A(S,y).g;S=v(S,x.j(y));var R=((0<S.g.length?S.g[0]:S.h)>>>0).toString(T);if(S=x,D(S))return R+P;for(;6>R.length;)R="0"+R;P=R+P}},t.i=function(T){return 0>T?0:T<this.g.length?this.g[T]:this.h};function D(T){if(T.h!=0)return!1;for(var y=0;y<T.g.length;y++)if(T.g[y]!=0)return!1;return!0}function E(T){return T.h==-1}t.l=function(T){return T=v(this,T),E(T)?-1:D(T)?0:1};function C(T){for(var y=T.g.length,S=[],P=0;P<y;P++)S[P]=~T.g[P];return new s(S,~T.h).add(m)}t.abs=function(){return E(this)?C(this):this},t.add=function(T){for(var y=Math.max(this.g.length,T.g.length),S=[],P=0,x=0;x<=y;x++){var R=P+(this.i(x)&65535)+(T.i(x)&65535),I=(R>>>16)+(this.i(x)>>>16)+(T.i(x)>>>16);P=I>>>16,R&=65535,I&=65535,S[x]=I<<16|R}return new s(S,S[S.length-1]&-2147483648?-1:0)};function v(T,y){return T.add(C(y))}t.j=function(T){if(D(this)||D(T))return f;if(E(this))return E(T)?C(this).j(C(T)):C(C(this).j(T));if(E(T))return C(this.j(C(T)));if(0>this.l(g)&&0>T.l(g))return c(this.m()*T.m());for(var y=this.g.length+T.g.length,S=[],P=0;P<2*y;P++)S[P]=0;for(P=0;P<this.g.length;P++)for(var x=0;x<T.g.length;x++){var R=this.i(P)>>>16,I=this.i(P)&65535,Z=T.i(x)>>>16,ne=T.i(x)&65535;S[2*P+2*x]+=I*ne,_(S,2*P+2*x),S[2*P+2*x+1]+=R*ne,_(S,2*P+2*x+1),S[2*P+2*x+1]+=I*Z,_(S,2*P+2*x+1),S[2*P+2*x+2]+=R*Z,_(S,2*P+2*x+2)}for(P=0;P<y;P++)S[P]=S[2*P+1]<<16|S[2*P];for(P=y;P<2*y;P++)S[P]=0;return new s(S,0)};function _(T,y){for(;(T[y]&65535)!=T[y];)T[y+1]+=T[y]>>>16,T[y]&=65535,y++}function k(T,y){this.g=T,this.h=y}function A(T,y){if(D(y))throw Error("division by zero");if(D(T))return new k(f,f);if(E(T))return y=A(C(T),y),new k(C(y.g),C(y.h));if(E(y))return y=A(T,C(y)),new k(C(y.g),y.h);if(30<T.g.length){if(E(T)||E(y))throw Error("slowDivide_ only works with positive integers.");for(var S=m,P=y;0>=P.l(T);)S=N(S),P=N(P);var x=O(S,1),R=O(P,1);for(P=O(P,2),S=O(S,2);!D(P);){var I=R.add(P);0>=I.l(T)&&(x=x.add(S),R=I),P=O(P,1),S=O(S,1)}return y=v(T,x.j(y)),new k(x,y)}for(x=f;0<=T.l(y);){for(S=Math.max(1,Math.floor(T.m()/y.m())),P=Math.ceil(Math.log(S)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),R=c(S),I=R.j(y);E(I)||0<I.l(T);)S-=P,R=c(S),I=R.j(y);D(R)&&(R=m),x=x.add(R),T=v(T,I)}return new k(x,T)}t.A=function(T){return A(this,T).h},t.and=function(T){for(var y=Math.max(this.g.length,T.g.length),S=[],P=0;P<y;P++)S[P]=this.i(P)&T.i(P);return new s(S,this.h&T.h)},t.or=function(T){for(var y=Math.max(this.g.length,T.g.length),S=[],P=0;P<y;P++)S[P]=this.i(P)|T.i(P);return new s(S,this.h|T.h)},t.xor=function(T){for(var y=Math.max(this.g.length,T.g.length),S=[],P=0;P<y;P++)S[P]=this.i(P)^T.i(P);return new s(S,this.h^T.h)};function N(T){for(var y=T.g.length+1,S=[],P=0;P<y;P++)S[P]=T.i(P)<<1|T.i(P-1)>>>31;return new s(S,T.h)}function O(T,y){var S=y>>5;y%=32;for(var P=T.g.length-S,x=[],R=0;R<P;R++)x[R]=0<y?T.i(R+S)>>>y|T.i(R+S+1)<<32-y:T.i(R+S);return new s(x,T.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,tE=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=c,s.fromString=d,ui=s}).apply(typeof Uy<"u"?Uy:typeof self<"u"?self:typeof window<"u"?window:{});var fl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var nE,Ts,rE,jl,ef,iE,oE,sE;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,h,p){return l==Array.prototype||l==Object.prototype||(l[h]=p.value),l};function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof fl=="object"&&fl];for(var h=0;h<l.length;++h){var p=l[h];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var r=n(this);function i(l,h){if(h)e:{var p=r;l=l.split(".");for(var w=0;w<l.length-1;w++){var b=l[w];if(!(b in p))break e;p=p[b]}l=l[l.length-1],w=p[l],h=h(w),h!=w&&h!=null&&e(p,l,{configurable:!0,writable:!0,value:h})}}function o(l,h){l instanceof String&&(l+="");var p=0,w=!1,b={next:function(){if(!w&&p<l.length){var L=p++;return{value:h(L,l[L]),done:!1}}return w=!0,{done:!0,value:void 0}}};return b[Symbol.iterator]=function(){return b},b}i("Array.prototype.values",function(l){return l||function(){return o(this,function(h,p){return p})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},a=this||self;function u(l){var h=typeof l;return h=h!="object"?h:l?Array.isArray(l)?"array":h:"null",h=="array"||h=="object"&&typeof l.length=="number"}function c(l){var h=typeof l;return h=="object"&&l!=null||h=="function"}function d(l,h,p){return l.call.apply(l.bind,arguments)}function f(l,h,p){if(!l)throw Error();if(2<arguments.length){var w=Array.prototype.slice.call(arguments,2);return function(){var b=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(b,w),l.apply(h,b)}}return function(){return l.apply(h,arguments)}}function m(l,h,p){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:f,m.apply(null,arguments)}function g(l,h){var p=Array.prototype.slice.call(arguments,1);return function(){var w=p.slice();return w.push.apply(w,arguments),l.apply(this,w)}}function D(l,h){function p(){}p.prototype=h.prototype,l.aa=h.prototype,l.prototype=new p,l.prototype.constructor=l,l.Qb=function(w,b,L){for(var $=Array(arguments.length-2),De=2;De<arguments.length;De++)$[De-2]=arguments[De];return h.prototype[b].apply(w,$)}}function E(l){const h=l.length;if(0<h){const p=Array(h);for(let w=0;w<h;w++)p[w]=l[w];return p}return[]}function C(l,h){for(let p=1;p<arguments.length;p++){const w=arguments[p];if(u(w)){const b=l.length||0,L=w.length||0;l.length=b+L;for(let $=0;$<L;$++)l[b+$]=w[$]}else l.push(w)}}class v{constructor(h,p){this.i=h,this.j=p,this.h=0,this.g=null}get(){let h;return 0<this.h?(this.h--,h=this.g,this.g=h.next,h.next=null):h=this.i(),h}}function _(l){return/^[\s\xa0]*$/.test(l)}function k(){var l=a.navigator;return l&&(l=l.userAgent)?l:""}function A(l){return A[" "](l),l}A[" "]=function(){};var N=k().indexOf("Gecko")!=-1&&!(k().toLowerCase().indexOf("webkit")!=-1&&k().indexOf("Edge")==-1)&&!(k().indexOf("Trident")!=-1||k().indexOf("MSIE")!=-1)&&k().indexOf("Edge")==-1;function O(l,h,p){for(const w in l)h.call(p,l[w],w,l)}function T(l,h){for(const p in l)h.call(void 0,l[p],p,l)}function y(l){const h={};for(const p in l)h[p]=l[p];return h}const S="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(l,h){let p,w;for(let b=1;b<arguments.length;b++){w=arguments[b];for(p in w)l[p]=w[p];for(let L=0;L<S.length;L++)p=S[L],Object.prototype.hasOwnProperty.call(w,p)&&(l[p]=w[p])}}function x(l){var h=1;l=l.split(":");const p=[];for(;0<h&&l.length;)p.push(l.shift()),h--;return l.length&&p.push(l.join(":")),p}function R(l){a.setTimeout(()=>{throw l},0)}function I(){var l=q;let h=null;return l.g&&(h=l.g,l.g=l.g.next,l.g||(l.h=null),h.next=null),h}class Z{constructor(){this.h=this.g=null}add(h,p){const w=ne.get();w.set(h,p),this.h?this.h.next=w:this.g=w,this.h=w}}var ne=new v(()=>new X,l=>l.reset());class X{constructor(){this.next=this.g=this.h=null}set(h,p){this.h=h,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let te,F=!1,q=new Z,J=()=>{const l=a.Promise.resolve(void 0);te=()=>{l.then(se)}};var se=()=>{for(var l;l=I();){try{l.h.call(l.g)}catch(p){R(p)}var h=ne;h.j(l),100>h.h&&(h.h++,l.next=h.g,h.g=l)}F=!1};function ve(){this.s=this.s,this.C=this.C}ve.prototype.s=!1,ve.prototype.ma=function(){this.s||(this.s=!0,this.N())},ve.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function be(l,h){this.type=l,this.g=this.target=h,this.defaultPrevented=!1}be.prototype.h=function(){this.defaultPrevented=!0};var Vn=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var l=!1,h=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const p=()=>{};a.addEventListener("test",p,h),a.removeEventListener("test",p,h)}catch{}return l}();function Fn(l,h){if(be.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var p=this.type=l.type,w=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=h,h=l.relatedTarget){if(N){e:{try{A(h.nodeName);var b=!0;break e}catch{}b=!1}b||(h=null)}}else p=="mouseover"?h=l.fromElement:p=="mouseout"&&(h=l.toElement);this.relatedTarget=h,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:Bn[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&Fn.aa.h.call(this)}}D(Fn,be);var Bn={2:"touch",3:"pen",4:"mouse"};Fn.prototype.h=function(){Fn.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var Un="closure_listenable_"+(1e6*Math.random()|0),rT=0;function iT(l,h,p,w,b){this.listener=l,this.proxy=null,this.src=h,this.type=p,this.capture=!!w,this.ha=b,this.key=++rT,this.da=this.fa=!1}function xa(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function Aa(l){this.src=l,this.g={},this.h=0}Aa.prototype.add=function(l,h,p,w,b){var L=l.toString();l=this.g[L],l||(l=this.g[L]=[],this.h++);var $=Vc(l,h,w,b);return-1<$?(h=l[$],p||(h.fa=!1)):(h=new iT(h,this.src,L,!!w,b),h.fa=p,l.push(h)),h};function Lc(l,h){var p=h.type;if(p in l.g){var w=l.g[p],b=Array.prototype.indexOf.call(w,h,void 0),L;(L=0<=b)&&Array.prototype.splice.call(w,b,1),L&&(xa(h),l.g[p].length==0&&(delete l.g[p],l.h--))}}function Vc(l,h,p,w){for(var b=0;b<l.length;++b){var L=l[b];if(!L.da&&L.listener==h&&L.capture==!!p&&L.ha==w)return b}return-1}var Fc="closure_lm_"+(1e6*Math.random()|0),Bc={};function fm(l,h,p,w,b){if(Array.isArray(h)){for(var L=0;L<h.length;L++)fm(l,h[L],p,w,b);return null}return p=gm(p),l&&l[Un]?l.K(h,p,c(w)?!!w.capture:!!w,b):oT(l,h,p,!1,w,b)}function oT(l,h,p,w,b,L){if(!h)throw Error("Invalid event type");var $=c(b)?!!b.capture:!!b,De=jc(l);if(De||(l[Fc]=De=new Aa(l)),p=De.add(h,p,w,$,L),p.proxy)return p;if(w=sT(),p.proxy=w,w.src=l,w.listener=p,l.addEventListener)Vn||(b=$),b===void 0&&(b=!1),l.addEventListener(h.toString(),w,b);else if(l.attachEvent)l.attachEvent(mm(h.toString()),w);else if(l.addListener&&l.removeListener)l.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return p}function sT(){function l(p){return h.call(l.src,l.listener,p)}const h=aT;return l}function pm(l,h,p,w,b){if(Array.isArray(h))for(var L=0;L<h.length;L++)pm(l,h[L],p,w,b);else w=c(w)?!!w.capture:!!w,p=gm(p),l&&l[Un]?(l=l.i,h=String(h).toString(),h in l.g&&(L=l.g[h],p=Vc(L,p,w,b),-1<p&&(xa(L[p]),Array.prototype.splice.call(L,p,1),L.length==0&&(delete l.g[h],l.h--)))):l&&(l=jc(l))&&(h=l.g[h.toString()],l=-1,h&&(l=Vc(h,p,w,b)),(p=-1<l?h[l]:null)&&Uc(p))}function Uc(l){if(typeof l!="number"&&l&&!l.da){var h=l.src;if(h&&h[Un])Lc(h.i,l);else{var p=l.type,w=l.proxy;h.removeEventListener?h.removeEventListener(p,w,l.capture):h.detachEvent?h.detachEvent(mm(p),w):h.addListener&&h.removeListener&&h.removeListener(w),(p=jc(h))?(Lc(p,l),p.h==0&&(p.src=null,h[Fc]=null)):xa(l)}}}function mm(l){return l in Bc?Bc[l]:Bc[l]="on"+l}function aT(l,h){if(l.da)l=!0;else{h=new Fn(h,this);var p=l.listener,w=l.ha||l.src;l.fa&&Uc(l),l=p.call(w,h)}return l}function jc(l){return l=l[Fc],l instanceof Aa?l:null}var zc="__closure_events_fn_"+(1e9*Math.random()>>>0);function gm(l){return typeof l=="function"?l:(l[zc]||(l[zc]=function(h){return l.handleEvent(h)}),l[zc])}function ht(){ve.call(this),this.i=new Aa(this),this.M=this,this.F=null}D(ht,ve),ht.prototype[Un]=!0,ht.prototype.removeEventListener=function(l,h,p,w){pm(this,l,h,p,w)};function Tt(l,h){var p,w=l.F;if(w)for(p=[];w;w=w.F)p.push(w);if(l=l.M,w=h.type||h,typeof h=="string")h=new be(h,l);else if(h instanceof be)h.target=h.target||l;else{var b=h;h=new be(w,l),P(h,b)}if(b=!0,p)for(var L=p.length-1;0<=L;L--){var $=h.g=p[L];b=ba($,w,!0,h)&&b}if($=h.g=l,b=ba($,w,!0,h)&&b,b=ba($,w,!1,h)&&b,p)for(L=0;L<p.length;L++)$=h.g=p[L],b=ba($,w,!1,h)&&b}ht.prototype.N=function(){if(ht.aa.N.call(this),this.i){var l=this.i,h;for(h in l.g){for(var p=l.g[h],w=0;w<p.length;w++)xa(p[w]);delete l.g[h],l.h--}}this.F=null},ht.prototype.K=function(l,h,p,w){return this.i.add(String(l),h,!1,p,w)},ht.prototype.L=function(l,h,p,w){return this.i.add(String(l),h,!0,p,w)};function ba(l,h,p,w){if(h=l.i.g[String(h)],!h)return!0;h=h.concat();for(var b=!0,L=0;L<h.length;++L){var $=h[L];if($&&!$.da&&$.capture==p){var De=$.listener,ot=$.ha||$.src;$.fa&&Lc(l.i,$),b=De.call(ot,w)!==!1&&b}}return b&&!w.defaultPrevented}function ym(l,h,p){if(typeof l=="function")p&&(l=m(l,p));else if(l&&typeof l.handleEvent=="function")l=m(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(h)?-1:a.setTimeout(l,h||0)}function vm(l){l.g=ym(()=>{l.g=null,l.i&&(l.i=!1,vm(l))},l.l);const h=l.h;l.h=null,l.m.apply(null,h)}class lT extends ve{constructor(h,p){super(),this.m=h,this.l=p,this.h=null,this.i=!1,this.g=null}j(h){this.h=arguments,this.g?this.i=!0:vm(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Wo(l){ve.call(this),this.h=l,this.g={}}D(Wo,ve);var _m=[];function wm(l){O(l.g,function(h,p){this.g.hasOwnProperty(p)&&Uc(h)},l),l.g={}}Wo.prototype.N=function(){Wo.aa.N.call(this),wm(this)},Wo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var $c=a.JSON.stringify,uT=a.JSON.parse,cT=class{stringify(l){return a.JSON.stringify(l,void 0)}parse(l){return a.JSON.parse(l,void 0)}};function Yc(){}Yc.prototype.h=null;function Em(l){return l.h||(l.h=l.i())}function Tm(){}var Ho={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Wc(){be.call(this,"d")}D(Wc,be);function Hc(){be.call(this,"c")}D(Hc,be);var qr={},Sm=null;function Ma(){return Sm=Sm||new ht}qr.La="serverreachability";function Dm(l){be.call(this,qr.La,l)}D(Dm,be);function qo(l){const h=Ma();Tt(h,new Dm(h))}qr.STAT_EVENT="statevent";function km(l,h){be.call(this,qr.STAT_EVENT,l),this.stat=h}D(km,be);function St(l){const h=Ma();Tt(h,new km(h,l))}qr.Ma="timingevent";function Cm(l,h){be.call(this,qr.Ma,l),this.size=h}D(Cm,be);function Qo(l,h){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){l()},h)}function Ko(){this.g=!0}Ko.prototype.xa=function(){this.g=!1};function dT(l,h,p,w,b,L){l.info(function(){if(l.g)if(L)for(var $="",De=L.split("&"),ot=0;ot<De.length;ot++){var ge=De[ot].split("=");if(1<ge.length){var ft=ge[0];ge=ge[1];var pt=ft.split("_");$=2<=pt.length&&pt[1]=="type"?$+(ft+"="+ge+"&"):$+(ft+"=redacted&")}}else $=null;else $=L;return"XMLHTTP REQ ("+w+") [attempt "+b+"]: "+h+`
`+p+`
`+$})}function hT(l,h,p,w,b,L,$){l.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+b+"]: "+h+`
`+p+`
`+L+" "+$})}function Pi(l,h,p,w){l.info(function(){return"XMLHTTP TEXT ("+h+"): "+pT(l,p)+(w?" "+w:"")})}function fT(l,h){l.info(function(){return"TIMEOUT: "+h})}Ko.prototype.info=function(){};function pT(l,h){if(!l.g)return h;if(!h)return null;try{var p=JSON.parse(h);if(p){for(l=0;l<p.length;l++)if(Array.isArray(p[l])){var w=p[l];if(!(2>w.length)){var b=w[1];if(Array.isArray(b)&&!(1>b.length)){var L=b[0];if(L!="noop"&&L!="stop"&&L!="close")for(var $=1;$<b.length;$++)b[$]=""}}}}return $c(p)}catch{return h}}var Na={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Im={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},qc;function Oa(){}D(Oa,Yc),Oa.prototype.g=function(){return new XMLHttpRequest},Oa.prototype.i=function(){return{}},qc=new Oa;function lr(l,h,p,w){this.j=l,this.i=h,this.l=p,this.R=w||1,this.U=new Wo(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Pm}function Pm(){this.i=null,this.g="",this.h=!1}var Rm={},Qc={};function Kc(l,h,p){l.L=1,l.v=Ba(jn(h)),l.m=p,l.P=!0,xm(l,null)}function xm(l,h){l.F=Date.now(),La(l),l.A=jn(l.v);var p=l.A,w=l.R;Array.isArray(w)||(w=[String(w)]),Ym(p.i,"t",w),l.C=0,p=l.j.J,l.h=new Pm,l.g=lg(l.j,p?h:null,!l.m),0<l.O&&(l.M=new lT(m(l.Y,l,l.g),l.O)),h=l.U,p=l.g,w=l.ca;var b="readystatechange";Array.isArray(b)||(b&&(_m[0]=b.toString()),b=_m);for(var L=0;L<b.length;L++){var $=fm(p,b[L],w||h.handleEvent,!1,h.h||h);if(!$)break;h.g[$.key]=$}h=l.H?y(l.H):{},l.m?(l.u||(l.u="POST"),h["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,h)):(l.u="GET",l.g.ea(l.A,l.u,null,h)),qo(),dT(l.i,l.u,l.A,l.l,l.R,l.m)}lr.prototype.ca=function(l){l=l.target;const h=this.M;h&&zn(l)==3?h.j():this.Y(l)},lr.prototype.Y=function(l){try{if(l==this.g)e:{const pt=zn(this.g);var h=this.g.Ba();const Ai=this.g.Z();if(!(3>pt)&&(pt!=3||this.g&&(this.h.h||this.g.oa()||Xm(this.g)))){this.J||pt!=4||h==7||(h==8||0>=Ai?qo(3):qo(2)),Gc(this);var p=this.g.Z();this.X=p;t:if(Am(this)){var w=Xm(this.g);l="";var b=w.length,L=zn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Qr(this),Go(this);var $="";break t}this.h.i=new a.TextDecoder}for(h=0;h<b;h++)this.h.h=!0,l+=this.h.i.decode(w[h],{stream:!(L&&h==b-1)});w.length=0,this.h.g+=l,this.C=0,$=this.h.g}else $=this.g.oa();if(this.o=p==200,hT(this.i,this.u,this.A,this.l,this.R,pt,p),this.o){if(this.T&&!this.K){t:{if(this.g){var De,ot=this.g;if((De=ot.g?ot.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!_(De)){var ge=De;break t}}ge=null}if(p=ge)Pi(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Xc(this,p);else{this.o=!1,this.s=3,St(12),Qr(this),Go(this);break e}}if(this.P){p=!0;let an;for(;!this.J&&this.C<$.length;)if(an=mT(this,$),an==Qc){pt==4&&(this.s=4,St(14),p=!1),Pi(this.i,this.l,null,"[Incomplete Response]");break}else if(an==Rm){this.s=4,St(15),Pi(this.i,this.l,$,"[Invalid Chunk]"),p=!1;break}else Pi(this.i,this.l,an,null),Xc(this,an);if(Am(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),pt!=4||$.length!=0||this.h.h||(this.s=1,St(16),p=!1),this.o=this.o&&p,!p)Pi(this.i,this.l,$,"[Invalid Chunked Response]"),Qr(this),Go(this);else if(0<$.length&&!this.W){this.W=!0;var ft=this.j;ft.g==this&&ft.ba&&!ft.M&&(ft.j.info("Great, no buffering proxy detected. Bytes received: "+$.length),rd(ft),ft.M=!0,St(11))}}else Pi(this.i,this.l,$,null),Xc(this,$);pt==4&&Qr(this),this.o&&!this.J&&(pt==4?ig(this.j,this):(this.o=!1,La(this)))}else bT(this.g),p==400&&0<$.indexOf("Unknown SID")?(this.s=3,St(12)):(this.s=0,St(13)),Qr(this),Go(this)}}}catch{}finally{}};function Am(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function mT(l,h){var p=l.C,w=h.indexOf(`
`,p);return w==-1?Qc:(p=Number(h.substring(p,w)),isNaN(p)?Rm:(w+=1,w+p>h.length?Qc:(h=h.slice(w,w+p),l.C=w+p,h)))}lr.prototype.cancel=function(){this.J=!0,Qr(this)};function La(l){l.S=Date.now()+l.I,bm(l,l.I)}function bm(l,h){if(l.B!=null)throw Error("WatchDog timer not null");l.B=Qo(m(l.ba,l),h)}function Gc(l){l.B&&(a.clearTimeout(l.B),l.B=null)}lr.prototype.ba=function(){this.B=null;const l=Date.now();0<=l-this.S?(fT(this.i,this.A),this.L!=2&&(qo(),St(17)),Qr(this),this.s=2,Go(this)):bm(this,this.S-l)};function Go(l){l.j.G==0||l.J||ig(l.j,l)}function Qr(l){Gc(l);var h=l.M;h&&typeof h.ma=="function"&&h.ma(),l.M=null,wm(l.U),l.g&&(h=l.g,l.g=null,h.abort(),h.ma())}function Xc(l,h){try{var p=l.j;if(p.G!=0&&(p.g==l||Jc(p.h,l))){if(!l.K&&Jc(p.h,l)&&p.G==3){try{var w=p.Da.g.parse(h)}catch{w=null}if(Array.isArray(w)&&w.length==3){var b=w;if(b[0]==0){e:if(!p.u){if(p.g)if(p.g.F+3e3<l.F)Wa(p),$a(p);else break e;nd(p),St(18)}}else p.za=b[1],0<p.za-p.T&&37500>b[2]&&p.F&&p.v==0&&!p.C&&(p.C=Qo(m(p.Za,p),6e3));if(1>=Om(p.h)&&p.ca){try{p.ca()}catch{}p.ca=void 0}}else Gr(p,11)}else if((l.K||p.g==l)&&Wa(p),!_(h))for(b=p.Da.g.parse(h),h=0;h<b.length;h++){let ge=b[h];if(p.T=ge[0],ge=ge[1],p.G==2)if(ge[0]=="c"){p.K=ge[1],p.ia=ge[2];const ft=ge[3];ft!=null&&(p.la=ft,p.j.info("VER="+p.la));const pt=ge[4];pt!=null&&(p.Aa=pt,p.j.info("SVER="+p.Aa));const Ai=ge[5];Ai!=null&&typeof Ai=="number"&&0<Ai&&(w=1.5*Ai,p.L=w,p.j.info("backChannelRequestTimeoutMs_="+w)),w=p;const an=l.g;if(an){const qa=an.g?an.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(qa){var L=w.h;L.g||qa.indexOf("spdy")==-1&&qa.indexOf("quic")==-1&&qa.indexOf("h2")==-1||(L.j=L.l,L.g=new Set,L.h&&(Zc(L,L.h),L.h=null))}if(w.D){const id=an.g?an.g.getResponseHeader("X-HTTP-Session-Id"):null;id&&(w.ya=id,Ce(w.I,w.D,id))}}p.G=3,p.l&&p.l.ua(),p.ba&&(p.R=Date.now()-l.F,p.j.info("Handshake RTT: "+p.R+"ms")),w=p;var $=l;if(w.qa=ag(w,w.J?w.ia:null,w.W),$.K){Lm(w.h,$);var De=$,ot=w.L;ot&&(De.I=ot),De.B&&(Gc(De),La(De)),w.g=$}else ng(w);0<p.i.length&&Ya(p)}else ge[0]!="stop"&&ge[0]!="close"||Gr(p,7);else p.G==3&&(ge[0]=="stop"||ge[0]=="close"?ge[0]=="stop"?Gr(p,7):td(p):ge[0]!="noop"&&p.l&&p.l.ta(ge),p.v=0)}}qo(4)}catch{}}var gT=class{constructor(l,h){this.g=l,this.map=h}};function Mm(l){this.l=l||10,a.PerformanceNavigationTiming?(l=a.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Nm(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function Om(l){return l.h?1:l.g?l.g.size:0}function Jc(l,h){return l.h?l.h==h:l.g?l.g.has(h):!1}function Zc(l,h){l.g?l.g.add(h):l.h=h}function Lm(l,h){l.h&&l.h==h?l.h=null:l.g&&l.g.has(h)&&l.g.delete(h)}Mm.prototype.cancel=function(){if(this.i=Vm(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function Vm(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let h=l.i;for(const p of l.g.values())h=h.concat(p.D);return h}return E(l.i)}function yT(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(u(l)){for(var h=[],p=l.length,w=0;w<p;w++)h.push(l[w]);return h}h=[],p=0;for(w in l)h[p++]=l[w];return h}function vT(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(u(l)||typeof l=="string"){var h=[];l=l.length;for(var p=0;p<l;p++)h.push(p);return h}h=[],p=0;for(const w in l)h[p++]=w;return h}}}function Fm(l,h){if(l.forEach&&typeof l.forEach=="function")l.forEach(h,void 0);else if(u(l)||typeof l=="string")Array.prototype.forEach.call(l,h,void 0);else for(var p=vT(l),w=yT(l),b=w.length,L=0;L<b;L++)h.call(void 0,w[L],p&&p[L],l)}var Bm=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function _T(l,h){if(l){l=l.split("&");for(var p=0;p<l.length;p++){var w=l[p].indexOf("="),b=null;if(0<=w){var L=l[p].substring(0,w);b=l[p].substring(w+1)}else L=l[p];h(L,b?decodeURIComponent(b.replace(/\+/g," ")):"")}}}function Kr(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof Kr){this.h=l.h,Va(this,l.j),this.o=l.o,this.g=l.g,Fa(this,l.s),this.l=l.l;var h=l.i,p=new Zo;p.i=h.i,h.g&&(p.g=new Map(h.g),p.h=h.h),Um(this,p),this.m=l.m}else l&&(h=String(l).match(Bm))?(this.h=!1,Va(this,h[1]||"",!0),this.o=Xo(h[2]||""),this.g=Xo(h[3]||"",!0),Fa(this,h[4]),this.l=Xo(h[5]||"",!0),Um(this,h[6]||"",!0),this.m=Xo(h[7]||"")):(this.h=!1,this.i=new Zo(null,this.h))}Kr.prototype.toString=function(){var l=[],h=this.j;h&&l.push(Jo(h,jm,!0),":");var p=this.g;return(p||h=="file")&&(l.push("//"),(h=this.o)&&l.push(Jo(h,jm,!0),"@"),l.push(encodeURIComponent(String(p)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.s,p!=null&&l.push(":",String(p))),(p=this.l)&&(this.g&&p.charAt(0)!="/"&&l.push("/"),l.push(Jo(p,p.charAt(0)=="/"?TT:ET,!0))),(p=this.i.toString())&&l.push("?",p),(p=this.m)&&l.push("#",Jo(p,DT)),l.join("")};function jn(l){return new Kr(l)}function Va(l,h,p){l.j=p?Xo(h,!0):h,l.j&&(l.j=l.j.replace(/:$/,""))}function Fa(l,h){if(h){if(h=Number(h),isNaN(h)||0>h)throw Error("Bad port number "+h);l.s=h}else l.s=null}function Um(l,h,p){h instanceof Zo?(l.i=h,kT(l.i,l.h)):(p||(h=Jo(h,ST)),l.i=new Zo(h,l.h))}function Ce(l,h,p){l.i.set(h,p)}function Ba(l){return Ce(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function Xo(l,h){return l?h?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function Jo(l,h,p){return typeof l=="string"?(l=encodeURI(l).replace(h,wT),p&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function wT(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var jm=/[#\/\?@]/g,ET=/[#\?:]/g,TT=/[#\?]/g,ST=/[#\?@]/g,DT=/#/g;function Zo(l,h){this.h=this.g=null,this.i=l||null,this.j=!!h}function ur(l){l.g||(l.g=new Map,l.h=0,l.i&&_T(l.i,function(h,p){l.add(decodeURIComponent(h.replace(/\+/g," ")),p)}))}t=Zo.prototype,t.add=function(l,h){ur(this),this.i=null,l=Ri(this,l);var p=this.g.get(l);return p||this.g.set(l,p=[]),p.push(h),this.h+=1,this};function zm(l,h){ur(l),h=Ri(l,h),l.g.has(h)&&(l.i=null,l.h-=l.g.get(h).length,l.g.delete(h))}function $m(l,h){return ur(l),h=Ri(l,h),l.g.has(h)}t.forEach=function(l,h){ur(this),this.g.forEach(function(p,w){p.forEach(function(b){l.call(h,b,w,this)},this)},this)},t.na=function(){ur(this);const l=Array.from(this.g.values()),h=Array.from(this.g.keys()),p=[];for(let w=0;w<h.length;w++){const b=l[w];for(let L=0;L<b.length;L++)p.push(h[w])}return p},t.V=function(l){ur(this);let h=[];if(typeof l=="string")$m(this,l)&&(h=h.concat(this.g.get(Ri(this,l))));else{l=Array.from(this.g.values());for(let p=0;p<l.length;p++)h=h.concat(l[p])}return h},t.set=function(l,h){return ur(this),this.i=null,l=Ri(this,l),$m(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[h]),this.h+=1,this},t.get=function(l,h){return l?(l=this.V(l),0<l.length?String(l[0]):h):h};function Ym(l,h,p){zm(l,h),0<p.length&&(l.i=null,l.g.set(Ri(l,h),E(p)),l.h+=p.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],h=Array.from(this.g.keys());for(var p=0;p<h.length;p++){var w=h[p];const L=encodeURIComponent(String(w)),$=this.V(w);for(w=0;w<$.length;w++){var b=L;$[w]!==""&&(b+="="+encodeURIComponent(String($[w]))),l.push(b)}}return this.i=l.join("&")};function Ri(l,h){return h=String(h),l.j&&(h=h.toLowerCase()),h}function kT(l,h){h&&!l.j&&(ur(l),l.i=null,l.g.forEach(function(p,w){var b=w.toLowerCase();w!=b&&(zm(this,w),Ym(this,b,p))},l)),l.j=h}function CT(l,h){const p=new Ko;if(a.Image){const w=new Image;w.onload=g(cr,p,"TestLoadImage: loaded",!0,h,w),w.onerror=g(cr,p,"TestLoadImage: error",!1,h,w),w.onabort=g(cr,p,"TestLoadImage: abort",!1,h,w),w.ontimeout=g(cr,p,"TestLoadImage: timeout",!1,h,w),a.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=l}else h(!1)}function IT(l,h){const p=new Ko,w=new AbortController,b=setTimeout(()=>{w.abort(),cr(p,"TestPingServer: timeout",!1,h)},1e4);fetch(l,{signal:w.signal}).then(L=>{clearTimeout(b),L.ok?cr(p,"TestPingServer: ok",!0,h):cr(p,"TestPingServer: server error",!1,h)}).catch(()=>{clearTimeout(b),cr(p,"TestPingServer: error",!1,h)})}function cr(l,h,p,w,b){try{b&&(b.onload=null,b.onerror=null,b.onabort=null,b.ontimeout=null),w(p)}catch{}}function PT(){this.g=new cT}function RT(l,h,p){const w=p||"";try{Fm(l,function(b,L){let $=b;c(b)&&($=$c(b)),h.push(w+L+"="+encodeURIComponent($))})}catch(b){throw h.push(w+"type="+encodeURIComponent("_badmap")),b}}function Ua(l){this.l=l.Ub||null,this.j=l.eb||!1}D(Ua,Yc),Ua.prototype.g=function(){return new ja(this.l,this.j)},Ua.prototype.i=function(l){return function(){return l}}({});function ja(l,h){ht.call(this),this.D=l,this.o=h,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}D(ja,ht),t=ja.prototype,t.open=function(l,h){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=h,this.readyState=1,ts(this)},t.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const h={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(h.body=l),(this.D||a).fetch(new Request(this.A,h)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,es(this)),this.readyState=0},t.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,ts(this)),this.g&&(this.readyState=3,ts(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Wm(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function Wm(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}t.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var h=l.value?l.value:new Uint8Array(0);(h=this.v.decode(h,{stream:!l.done}))&&(this.response=this.responseText+=h)}l.done?es(this):ts(this),this.readyState==3&&Wm(this)}},t.Ra=function(l){this.g&&(this.response=this.responseText=l,es(this))},t.Qa=function(l){this.g&&(this.response=l,es(this))},t.ga=function(){this.g&&es(this)};function es(l){l.readyState=4,l.l=null,l.j=null,l.v=null,ts(l)}t.setRequestHeader=function(l,h){this.u.append(l,h)},t.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],h=this.h.entries();for(var p=h.next();!p.done;)p=p.value,l.push(p[0]+": "+p[1]),p=h.next();return l.join(`\r
`)};function ts(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(ja.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function Hm(l){let h="";return O(l,function(p,w){h+=w,h+=":",h+=p,h+=`\r
`}),h}function ed(l,h,p){e:{for(w in p){var w=!1;break e}w=!0}w||(p=Hm(p),typeof l=="string"?p!=null&&encodeURIComponent(String(p)):Ce(l,h,p))}function Fe(l){ht.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}D(Fe,ht);var xT=/^https?$/i,AT=["POST","PUT"];t=Fe.prototype,t.Ha=function(l){this.J=l},t.ea=function(l,h,p,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);h=h?h.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():qc.g(),this.v=this.o?Em(this.o):Em(qc),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(h,String(l),!0),this.B=!1}catch(L){qm(this,L);return}if(l=p||"",p=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var b in w)p.set(b,w[b]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const L of w.keys())p.set(L,w.get(L));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(p.keys()).find(L=>L.toLowerCase()=="content-type"),b=a.FormData&&l instanceof a.FormData,!(0<=Array.prototype.indexOf.call(AT,h,void 0))||w||b||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[L,$]of p)this.g.setRequestHeader(L,$);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Gm(this),this.u=!0,this.g.send(l),this.u=!1}catch(L){qm(this,L)}};function qm(l,h){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=h,l.m=5,Qm(l),za(l)}function Qm(l){l.A||(l.A=!0,Tt(l,"complete"),Tt(l,"error"))}t.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,Tt(this,"complete"),Tt(this,"abort"),za(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),za(this,!0)),Fe.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Km(this):this.bb())},t.bb=function(){Km(this)};function Km(l){if(l.h&&typeof s<"u"&&(!l.v[1]||zn(l)!=4||l.Z()!=2)){if(l.u&&zn(l)==4)ym(l.Ea,0,l);else if(Tt(l,"readystatechange"),zn(l)==4){l.h=!1;try{const $=l.Z();e:switch($){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var h=!0;break e;default:h=!1}var p;if(!(p=h)){var w;if(w=$===0){var b=String(l.D).match(Bm)[1]||null;!b&&a.self&&a.self.location&&(b=a.self.location.protocol.slice(0,-1)),w=!xT.test(b?b.toLowerCase():"")}p=w}if(p)Tt(l,"complete"),Tt(l,"success");else{l.m=6;try{var L=2<zn(l)?l.g.statusText:""}catch{L=""}l.l=L+" ["+l.Z()+"]",Qm(l)}}finally{za(l)}}}}function za(l,h){if(l.g){Gm(l);const p=l.g,w=l.v[0]?()=>{}:null;l.g=null,l.v=null,h||Tt(l,"ready");try{p.onreadystatechange=w}catch{}}}function Gm(l){l.I&&(a.clearTimeout(l.I),l.I=null)}t.isActive=function(){return!!this.g};function zn(l){return l.g?l.g.readyState:0}t.Z=function(){try{return 2<zn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(l){if(this.g){var h=this.g.responseText;return l&&h.indexOf(l)==0&&(h=h.substring(l.length)),uT(h)}};function Xm(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function bT(l){const h={};l=(l.g&&2<=zn(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<l.length;w++){if(_(l[w]))continue;var p=x(l[w]);const b=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();const L=h[b]||[];h[b]=L,L.push(p)}T(h,function(w){return w.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ns(l,h,p){return p&&p.internalChannelParams&&p.internalChannelParams[l]||h}function Jm(l){this.Aa=0,this.i=[],this.j=new Ko,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ns("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ns("baseRetryDelayMs",5e3,l),this.cb=ns("retryDelaySeedMs",1e4,l),this.Wa=ns("forwardChannelMaxRetries",2,l),this.wa=ns("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new Mm(l&&l.concurrentRequestLimit),this.Da=new PT,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Jm.prototype,t.la=8,t.G=1,t.connect=function(l,h,p,w){St(0),this.W=l,this.H=h||{},p&&w!==void 0&&(this.H.OSID=p,this.H.OAID=w),this.F=this.X,this.I=ag(this,null,this.W),Ya(this)};function td(l){if(Zm(l),l.G==3){var h=l.U++,p=jn(l.I);if(Ce(p,"SID",l.K),Ce(p,"RID",h),Ce(p,"TYPE","terminate"),rs(l,p),h=new lr(l,l.j,h),h.L=2,h.v=Ba(jn(p)),p=!1,a.navigator&&a.navigator.sendBeacon)try{p=a.navigator.sendBeacon(h.v.toString(),"")}catch{}!p&&a.Image&&(new Image().src=h.v,p=!0),p||(h.g=lg(h.j,null),h.g.ea(h.v)),h.F=Date.now(),La(h)}sg(l)}function $a(l){l.g&&(rd(l),l.g.cancel(),l.g=null)}function Zm(l){$a(l),l.u&&(a.clearTimeout(l.u),l.u=null),Wa(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&a.clearTimeout(l.s),l.s=null)}function Ya(l){if(!Nm(l.h)&&!l.s){l.s=!0;var h=l.Ga;te||J(),F||(te(),F=!0),q.add(h,l),l.B=0}}function MT(l,h){return Om(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=h.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=Qo(m(l.Ga,l,h),og(l,l.B)),l.B++,!0)}t.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;const b=new lr(this,this.j,l);let L=this.o;if(this.S&&(L?(L=y(L),P(L,this.S)):L=this.S),this.m!==null||this.O||(b.H=L,L=null),this.P)e:{for(var h=0,p=0;p<this.i.length;p++){t:{var w=this.i[p];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(h+=w,4096<h){h=p;break e}if(h===4096||p===this.i.length-1){h=p+1;break e}}h=1e3}else h=1e3;h=tg(this,b,h),p=jn(this.I),Ce(p,"RID",l),Ce(p,"CVER",22),this.D&&Ce(p,"X-HTTP-Session-Id",this.D),rs(this,p),L&&(this.O?h="headers="+encodeURIComponent(String(Hm(L)))+"&"+h:this.m&&ed(p,this.m,L)),Zc(this.h,b),this.Ua&&Ce(p,"TYPE","init"),this.P?(Ce(p,"$req",h),Ce(p,"SID","null"),b.T=!0,Kc(b,p,null)):Kc(b,p,h),this.G=2}}else this.G==3&&(l?eg(this,l):this.i.length==0||Nm(this.h)||eg(this))};function eg(l,h){var p;h?p=h.l:p=l.U++;const w=jn(l.I);Ce(w,"SID",l.K),Ce(w,"RID",p),Ce(w,"AID",l.T),rs(l,w),l.m&&l.o&&ed(w,l.m,l.o),p=new lr(l,l.j,p,l.B+1),l.m===null&&(p.H=l.o),h&&(l.i=h.D.concat(l.i)),h=tg(l,p,1e3),p.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),Zc(l.h,p),Kc(p,w,h)}function rs(l,h){l.H&&O(l.H,function(p,w){Ce(h,w,p)}),l.l&&Fm({},function(p,w){Ce(h,w,p)})}function tg(l,h,p){p=Math.min(l.i.length,p);var w=l.l?m(l.l.Na,l.l,l):null;e:{var b=l.i;let L=-1;for(;;){const $=["count="+p];L==-1?0<p?(L=b[0].g,$.push("ofs="+L)):L=0:$.push("ofs="+L);let De=!0;for(let ot=0;ot<p;ot++){let ge=b[ot].g;const ft=b[ot].map;if(ge-=L,0>ge)L=Math.max(0,b[ot].g-100),De=!1;else try{RT(ft,$,"req"+ge+"_")}catch{w&&w(ft)}}if(De){w=$.join("&");break e}}}return l=l.i.splice(0,p),h.D=l,w}function ng(l){if(!l.g&&!l.u){l.Y=1;var h=l.Fa;te||J(),F||(te(),F=!0),q.add(h,l),l.v=0}}function nd(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=Qo(m(l.Fa,l),og(l,l.v)),l.v++,!0)}t.Fa=function(){if(this.u=null,rg(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=Qo(m(this.ab,this),l)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,St(10),$a(this),rg(this))};function rd(l){l.A!=null&&(a.clearTimeout(l.A),l.A=null)}function rg(l){l.g=new lr(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var h=jn(l.qa);Ce(h,"RID","rpc"),Ce(h,"SID",l.K),Ce(h,"AID",l.T),Ce(h,"CI",l.F?"0":"1"),!l.F&&l.ja&&Ce(h,"TO",l.ja),Ce(h,"TYPE","xmlhttp"),rs(l,h),l.m&&l.o&&ed(h,l.m,l.o),l.L&&(l.g.I=l.L);var p=l.g;l=l.ia,p.L=1,p.v=Ba(jn(h)),p.m=null,p.P=!0,xm(p,l)}t.Za=function(){this.C!=null&&(this.C=null,$a(this),nd(this),St(19))};function Wa(l){l.C!=null&&(a.clearTimeout(l.C),l.C=null)}function ig(l,h){var p=null;if(l.g==h){Wa(l),rd(l),l.g=null;var w=2}else if(Jc(l.h,h))p=h.D,Lm(l.h,h),w=1;else return;if(l.G!=0){if(h.o)if(w==1){p=h.m?h.m.length:0,h=Date.now()-h.F;var b=l.B;w=Ma(),Tt(w,new Cm(w,p)),Ya(l)}else ng(l);else if(b=h.s,b==3||b==0&&0<h.X||!(w==1&&MT(l,h)||w==2&&nd(l)))switch(p&&0<p.length&&(h=l.h,h.i=h.i.concat(p)),b){case 1:Gr(l,5);break;case 4:Gr(l,10);break;case 3:Gr(l,6);break;default:Gr(l,2)}}}function og(l,h){let p=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(p*=2),p*h}function Gr(l,h){if(l.j.info("Error code "+h),h==2){var p=m(l.fb,l),w=l.Xa;const b=!w;w=new Kr(w||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Va(w,"https"),Ba(w),b?CT(w.toString(),p):IT(w.toString(),p)}else St(2);l.G=0,l.l&&l.l.sa(h),sg(l),Zm(l)}t.fb=function(l){l?(this.j.info("Successfully pinged google.com"),St(2)):(this.j.info("Failed to ping google.com"),St(1))};function sg(l){if(l.G=0,l.ka=[],l.l){const h=Vm(l.h);(h.length!=0||l.i.length!=0)&&(C(l.ka,h),C(l.ka,l.i),l.h.i.length=0,E(l.i),l.i.length=0),l.l.ra()}}function ag(l,h,p){var w=p instanceof Kr?jn(p):new Kr(p);if(w.g!="")h&&(w.g=h+"."+w.g),Fa(w,w.s);else{var b=a.location;w=b.protocol,h=h?h+"."+b.hostname:b.hostname,b=+b.port;var L=new Kr(null);w&&Va(L,w),h&&(L.g=h),b&&Fa(L,b),p&&(L.l=p),w=L}return p=l.D,h=l.ya,p&&h&&Ce(w,p,h),Ce(w,"VER",l.la),rs(l,w),w}function lg(l,h,p){if(h&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return h=l.Ca&&!l.pa?new Fe(new Ua({eb:p})):new Fe(l.pa),h.Ha(l.J),h}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function ug(){}t=ug.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Ha(){}Ha.prototype.g=function(l,h){return new Ft(l,h)};function Ft(l,h){ht.call(this),this.g=new Jm(h),this.l=l,this.h=h&&h.messageUrlParams||null,l=h&&h.messageHeaders||null,h&&h.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=h&&h.initMessageHeaders||null,h&&h.messageContentType&&(l?l["X-WebChannel-Content-Type"]=h.messageContentType:l={"X-WebChannel-Content-Type":h.messageContentType}),h&&h.va&&(l?l["X-WebChannel-Client-Profile"]=h.va:l={"X-WebChannel-Client-Profile":h.va}),this.g.S=l,(l=h&&h.Sb)&&!_(l)&&(this.g.m=l),this.v=h&&h.supportsCrossDomainXhr||!1,this.u=h&&h.sendRawJson||!1,(h=h&&h.httpSessionIdParam)&&!_(h)&&(this.g.D=h,l=this.h,l!==null&&h in l&&(l=this.h,h in l&&delete l[h])),this.j=new xi(this)}D(Ft,ht),Ft.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ft.prototype.close=function(){td(this.g)},Ft.prototype.o=function(l){var h=this.g;if(typeof l=="string"){var p={};p.__data__=l,l=p}else this.u&&(p={},p.__data__=$c(l),l=p);h.i.push(new gT(h.Ya++,l)),h.G==3&&Ya(h)},Ft.prototype.N=function(){this.g.l=null,delete this.j,td(this.g),delete this.g,Ft.aa.N.call(this)};function cg(l){Wc.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var h=l.__sm__;if(h){e:{for(const p in h){l=p;break e}l=void 0}(this.i=l)&&(l=this.i,h=h!==null&&l in h?h[l]:void 0),this.data=h}else this.data=l}D(cg,Wc);function dg(){Hc.call(this),this.status=1}D(dg,Hc);function xi(l){this.g=l}D(xi,ug),xi.prototype.ua=function(){Tt(this.g,"a")},xi.prototype.ta=function(l){Tt(this.g,new cg(l))},xi.prototype.sa=function(l){Tt(this.g,new dg)},xi.prototype.ra=function(){Tt(this.g,"b")},Ha.prototype.createWebChannel=Ha.prototype.g,Ft.prototype.send=Ft.prototype.o,Ft.prototype.open=Ft.prototype.m,Ft.prototype.close=Ft.prototype.close,sE=function(){return new Ha},oE=function(){return Ma()},iE=qr,ef={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Na.NO_ERROR=0,Na.TIMEOUT=8,Na.HTTP_ERROR=6,jl=Na,Im.COMPLETE="complete",rE=Im,Tm.EventType=Ho,Ho.OPEN="a",Ho.CLOSE="b",Ho.ERROR="c",Ho.MESSAGE="d",ht.prototype.listen=ht.prototype.K,Ts=Tm,Fe.prototype.listenOnce=Fe.prototype.L,Fe.prototype.getLastError=Fe.prototype.Ka,Fe.prototype.getLastErrorCode=Fe.prototype.Ba,Fe.prototype.getStatus=Fe.prototype.Z,Fe.prototype.getResponseJson=Fe.prototype.Oa,Fe.prototype.getResponseText=Fe.prototype.oa,Fe.prototype.send=Fe.prototype.ea,Fe.prototype.setWithCredentials=Fe.prototype.Ha,nE=Fe}).apply(typeof fl<"u"?fl:typeof self<"u"?self:typeof window<"u"?window:{});const jy="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}vt.UNAUTHENTICATED=new vt(null),vt.GOOGLE_CREDENTIALS=new vt("google-credentials-uid"),vt.FIRST_PARTY=new vt("first-party-uid"),vt.MOCK_USER=new vt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bo="11.0.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _i=new Kw("@firebase/firestore");function Oi(){return _i.logLevel}function Q(t,...e){if(_i.logLevel<=fe.DEBUG){const n=e.map(Rp);_i.debug(`Firestore (${Bo}): ${t}`,...n)}}function or(t,...e){if(_i.logLevel<=fe.ERROR){const n=e.map(Rp);_i.error(`Firestore (${Bo}): ${t}`,...n)}}function So(t,...e){if(_i.logLevel<=fe.WARN){const n=e.map(Rp);_i.warn(`Firestore (${Bo}): ${t}`,...n)}}function Rp(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function re(t="Unexpected state"){const e=`FIRESTORE (${Bo}) INTERNAL ASSERTION FAILED: `+t;throw or(e),new Error(e)}function _e(t,e){t||re()}function oe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class G extends Fo{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aE{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class qR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(vt.UNAUTHENTICATED))}shutdown(){}}class QR{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class KR{constructor(e){this.t=e,this.currentUser=vt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){_e(this.o===void 0);let r=this.i;const i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let o=new br;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new br,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const u=o;e.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},a=u=>{Q("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?a(u):(Q("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new br)}},0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Q("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(_e(typeof r.accessToken=="string"),new aE(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return _e(e===null||typeof e=="string"),new vt(e)}}class GR{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=vt.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class XR{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new GR(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(vt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class JR{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ZR{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){_e(this.o===void 0);const r=o=>{o.error!=null&&Q("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.R;return this.R=o.token,Q("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{Q("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):Q("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(_e(typeof n.token=="string"),this.R=n.token,new JR(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ex(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lE{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=ex(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}}function ce(t,e){return t<e?-1:t>e?1:0}function Do(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Je{static now(){return Je.fromMillis(Date.now())}static fromDate(e){return Je.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Je(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new G(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new G(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new G(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new G(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ce(this.nanoseconds,e.nanoseconds):ce(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{static fromTimestamp(e){return new ie(e)}static min(){return new ie(new Je(0,0))}static max(){return new ie(new Je(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(e,n,r){n===void 0?n=0:n>e.length&&re(),r===void 0?r=e.length-n:r>e.length-n&&re(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return la.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof la?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Pe extends la{construct(e,n,r){return new Pe(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new G(U.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Pe(n)}static emptyPath(){return new Pe([])}}const tx=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class lt extends la{construct(e,n,r){return new lt(e,n,r)}static isValidIdentifier(e){return tx.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),lt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new lt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new G(U.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new G(U.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new G(U.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new G(U.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new lt(n)}static emptyPath(){return new lt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(e){this.path=e}static fromPath(e){return new ee(Pe.fromString(e))}static fromName(e){return new ee(Pe.fromString(e).popFirst(5))}static empty(){return new ee(Pe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Pe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Pe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ee(new Pe(e.slice()))}}function nx(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ie.fromTimestamp(r===1e9?new Je(n+1,0):new Je(n,r));return new Fr(i,ee.empty(),e)}function rx(t){return new Fr(t.readTime,t.key,-1)}class Fr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Fr(ie.min(),ee.empty(),-1)}static max(){return new Fr(ie.max(),ee.empty(),-1)}}function ix(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ee.comparator(t.documentKey,e.documentKey),n!==0?n:ce(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ox="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class sx{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uo(t){if(t.code!==U.FAILED_PRECONDITION||t.message!==ox)throw t;Q("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&re(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new B((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof B?n:B.resolve(n)}catch(n){return B.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):B.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):B.reject(n)}static resolve(e){return new B((n,r)=>{n(e)})}static reject(e){return new B((n,r)=>{r(e)})}static waitFor(e){return new B((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},u=>r(u))}),s=!0,o===i&&n()})}static or(e){let n=B.resolve(!1);for(const r of e)n=n.next(i=>i?B.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new B((r,i)=>{const o=e.length,s=new Array(o);let a=0;for(let u=0;u<o;u++){const c=u;n(e[c]).next(d=>{s[c]=d,++a,a===o&&r(s)},d=>i(d))}})}static doWhile(e,n){return new B((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}function ax(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function jo(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}fc.oe=-1;function pc(t){return t==null}function xu(t){return t===0&&1/t==-1/0}function lx(t){return typeof t=="number"&&Number.isInteger(t)&&!xu(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ux(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=zy(e)),e=cx(t.get(n),e);return zy(e)}function cx(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const o=t.charAt(i);switch(o){case"\0":n+="";break;case"":n+="";break;default:n+=o}}return n}function zy(t){return t+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $y(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Di(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function uE(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ve{constructor(e,n){this.comparator=e,this.root=n||at.EMPTY}insert(e,n){return new Ve(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,at.BLACK,null,null))}remove(e){return new Ve(this.comparator,this.root.remove(e,this.comparator).copy(null,null,at.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new pl(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new pl(this.root,e,this.comparator,!1)}getReverseIterator(){return new pl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new pl(this.root,e,this.comparator,!0)}}class pl{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class at{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??at.RED,this.left=i??at.EMPTY,this.right=o??at.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new at(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return at.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return at.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,at.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,at.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw re();const e=this.left.check();if(e!==this.right.check())throw re();return e+(this.isRed()?0:1)}}at.EMPTY=null,at.RED=!0,at.BLACK=!1;at.EMPTY=new class{constructor(){this.size=0}get key(){throw re()}get value(){throw re()}get color(){throw re()}get left(){throw re()}get right(){throw re()}copy(e,n,r,i,o){return this}insert(e,n,r){return new at(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ze{constructor(e){this.comparator=e,this.data=new Ve(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Yy(this.data.getIterator())}getIteratorFrom(e){return new Yy(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Ze)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ze(this.comparator);return n.data=e,n}}class Yy{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e){this.fields=e,e.sort(lt.comparator)}static empty(){return new hn([])}unionWith(e){let n=new Ze(lt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new hn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Do(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new cE("Invalid base64 string: "+o):o}}(e);return new dt(n)}static fromUint8Array(e){const n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new dt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ce(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}dt.EMPTY_BYTE_STRING=new dt("");const dx=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Br(t){if(_e(!!t),typeof t=="string"){let e=0;const n=dx.exec(t);if(_e(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ze(t.seconds),nanos:ze(t.nanos)}}function ze(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ur(t){return typeof t=="string"?dt.fromBase64String(t):dt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xp(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function mc(t){const e=t.mapValue.fields.__previous_value__;return xp(e)?mc(e):e}function ua(t){const e=Br(t.mapValue.fields.__local_write_time__.timestampValue);return new Je(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hx{constructor(e,n,r,i,o,s,a,u,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=c}}class ca{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new ca("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof ca&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ml={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function jr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?xp(t)?4:px(t)?9007199254740991:fx(t)?10:11:re()}function Nn(t,e){if(t===e)return!0;const n=jr(t);if(n!==jr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ua(t).isEqual(ua(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=Br(i.timestampValue),a=Br(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return Ur(i.bytesValue).isEqual(Ur(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return ze(i.geoPointValue.latitude)===ze(o.geoPointValue.latitude)&&ze(i.geoPointValue.longitude)===ze(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return ze(i.integerValue)===ze(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=ze(i.doubleValue),a=ze(o.doubleValue);return s===a?xu(s)===xu(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return Do(t.arrayValue.values||[],e.arrayValue.values||[],Nn);case 10:case 11:return function(i,o){const s=i.mapValue.fields||{},a=o.mapValue.fields||{};if($y(s)!==$y(a))return!1;for(const u in s)if(s.hasOwnProperty(u)&&(a[u]===void 0||!Nn(s[u],a[u])))return!1;return!0}(t,e);default:return re()}}function da(t,e){return(t.values||[]).find(n=>Nn(n,e))!==void 0}function ko(t,e){if(t===e)return 0;const n=jr(t),r=jr(e);if(n!==r)return ce(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ce(t.booleanValue,e.booleanValue);case 2:return function(o,s){const a=ze(o.integerValue||o.doubleValue),u=ze(s.integerValue||s.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return Wy(t.timestampValue,e.timestampValue);case 4:return Wy(ua(t),ua(e));case 5:return ce(t.stringValue,e.stringValue);case 6:return function(o,s){const a=Ur(o),u=Ur(s);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){const a=o.split("/"),u=s.split("/");for(let c=0;c<a.length&&c<u.length;c++){const d=ce(a[c],u[c]);if(d!==0)return d}return ce(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){const a=ce(ze(o.latitude),ze(s.latitude));return a!==0?a:ce(ze(o.longitude),ze(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Hy(t.arrayValue,e.arrayValue);case 10:return function(o,s){var a,u,c,d;const f=o.fields||{},m=s.fields||{},g=(a=f.value)===null||a===void 0?void 0:a.arrayValue,D=(u=m.value)===null||u===void 0?void 0:u.arrayValue,E=ce(((c=g==null?void 0:g.values)===null||c===void 0?void 0:c.length)||0,((d=D==null?void 0:D.values)===null||d===void 0?void 0:d.length)||0);return E!==0?E:Hy(g,D)}(t.mapValue,e.mapValue);case 11:return function(o,s){if(o===ml.mapValue&&s===ml.mapValue)return 0;if(o===ml.mapValue)return 1;if(s===ml.mapValue)return-1;const a=o.fields||{},u=Object.keys(a),c=s.fields||{},d=Object.keys(c);u.sort(),d.sort();for(let f=0;f<u.length&&f<d.length;++f){const m=ce(u[f],d[f]);if(m!==0)return m;const g=ko(a[u[f]],c[d[f]]);if(g!==0)return g}return ce(u.length,d.length)}(t.mapValue,e.mapValue);default:throw re()}}function Wy(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ce(t,e);const n=Br(t),r=Br(e),i=ce(n.seconds,r.seconds);return i!==0?i:ce(n.nanos,r.nanos)}function Hy(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const o=ko(n[i],r[i]);if(o)return o}return ce(n.length,r.length)}function Co(t){return tf(t)}function tf(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Br(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Ur(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ee.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=tf(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${tf(n.fields[s])}`;return i+"}"}(t.mapValue):re()}function zl(t){switch(jr(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=mc(t);return e?16+zl(e):16;case 5:return 2*t.stringValue.length;case 6:return Ur(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+zl(o),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return Di(r.fields,(o,s)=>{i+=o.length+zl(s)}),i}(t.mapValue);default:throw re()}}function qy(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function nf(t){return!!t&&"integerValue"in t}function Ap(t){return!!t&&"arrayValue"in t}function Qy(t){return!!t&&"nullValue"in t}function Ky(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function $l(t){return!!t&&"mapValue"in t}function fx(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Ls(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Di(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Ls(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ls(t.arrayValue.values[n]);return e}return Object.assign({},t)}function px(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e){this.value=e}static empty(){return new en({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!$l(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ls(n)}setAll(e){let n=lt.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=Ls(s):i.push(a.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());$l(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Nn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];$l(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Di(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new en(Ls(this.value))}}function dE(t){const e=[];return Di(t.fields,(n,r)=>{const i=new lt([n]);if($l(r)){const o=dE(r.mapValue).fields;if(o.length===0)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new hn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new wt(e,0,ie.min(),ie.min(),ie.min(),en.empty(),0)}static newFoundDocument(e,n,r,i){return new wt(e,1,n,ie.min(),r,i,0)}static newNoDocument(e,n){return new wt(e,2,n,ie.min(),ie.min(),en.empty(),0)}static newUnknownDocument(e,n){return new wt(e,3,n,ie.min(),ie.min(),en.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ie.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=en.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=en.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ie.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof wt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new wt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Au{constructor(e,n){this.position=e,this.inclusive=n}}function Gy(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(o.field.isKeyField()?r=ee.comparator(ee.fromName(s.referenceValue),n.key):r=ko(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function Xy(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Nn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bu{constructor(e,n="asc"){this.field=e,this.dir=n}}function mx(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hE{}class Ke extends hE{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new yx(e,n,r):n==="array-contains"?new wx(e,r):n==="in"?new Ex(e,r):n==="not-in"?new Tx(e,r):n==="array-contains-any"?new Sx(e,r):new Ke(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new vx(e,r):new _x(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(ko(n,this.value)):n!==null&&jr(this.value)===jr(n)&&this.matchesComparison(ko(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return re()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class yn extends hE{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new yn(e,n)}matches(e){return fE(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function fE(t){return t.op==="and"}function pE(t){return gx(t)&&fE(t)}function gx(t){for(const e of t.filters)if(e instanceof yn)return!1;return!0}function rf(t){if(t instanceof Ke)return t.field.canonicalString()+t.op.toString()+Co(t.value);if(pE(t))return t.filters.map(e=>rf(e)).join(",");{const e=t.filters.map(n=>rf(n)).join(",");return`${t.op}(${e})`}}function mE(t,e){return t instanceof Ke?function(r,i){return i instanceof Ke&&r.op===i.op&&r.field.isEqual(i.field)&&Nn(r.value,i.value)}(t,e):t instanceof yn?function(r,i){return i instanceof yn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&mE(s,i.filters[a]),!0):!1}(t,e):void re()}function gE(t){return t instanceof Ke?function(n){return`${n.field.canonicalString()} ${n.op} ${Co(n.value)}`}(t):t instanceof yn?function(n){return n.op.toString()+" {"+n.getFilters().map(gE).join(" ,")+"}"}(t):"Filter"}class yx extends Ke{constructor(e,n,r){super(e,n,r),this.key=ee.fromName(r.referenceValue)}matches(e){const n=ee.comparator(e.key,this.key);return this.matchesComparison(n)}}class vx extends Ke{constructor(e,n){super(e,"in",n),this.keys=yE("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class _x extends Ke{constructor(e,n){super(e,"not-in",n),this.keys=yE("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function yE(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ee.fromName(r.referenceValue))}class wx extends Ke{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Ap(n)&&da(n.arrayValue,this.value)}}class Ex extends Ke{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&da(this.value.arrayValue,n)}}class Tx extends Ke{constructor(e,n){super(e,"not-in",n)}matches(e){if(da(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!da(this.value.arrayValue,n)}}class Sx extends Ke{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Ap(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>da(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dx{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ue=null}}function Jy(t,e=null,n=[],r=[],i=null,o=null,s=null){return new Dx(t,e,n,r,i,o,s)}function bp(t){const e=oe(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>rf(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),pc(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Co(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Co(r)).join(",")),e.ue=n}return e.ue}function Mp(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!mx(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!mE(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Xy(t.startAt,e.startAt)&&Xy(t.endAt,e.endAt)}function of(t){return ee.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ea{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function kx(t,e,n,r,i,o,s,a){return new Ea(t,e,n,r,i,o,s,a)}function vE(t){return new Ea(t)}function Zy(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function _E(t){return t.collectionGroup!==null}function Vs(t){const e=oe(t);if(e.ce===null){e.ce=[];const n=new Set;for(const o of e.explicitOrderBy)e.ce.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new Ze(lt.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.ce.push(new bu(o,r))}),n.has(lt.keyField().canonicalString())||e.ce.push(new bu(lt.keyField(),r))}return e.ce}function xn(t){const e=oe(t);return e.le||(e.le=Cx(e,Vs(t))),e.le}function Cx(t,e){if(t.limitType==="F")return Jy(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new bu(i.field,o)});const n=t.endAt?new Au(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Au(t.startAt.position,t.startAt.inclusive):null;return Jy(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function sf(t,e){const n=t.filters.concat([e]);return new Ea(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function af(t,e,n){return new Ea(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function gc(t,e){return Mp(xn(t),xn(e))&&t.limitType===e.limitType}function wE(t){return`${bp(xn(t))}|lt:${t.limitType}`}function Li(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>gE(i)).join(", ")}]`),pc(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Co(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Co(i)).join(",")),`Target(${r})`}(xn(t))}; limitType=${t.limitType})`}function yc(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):ee.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of Vs(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,a,u){const c=Gy(s,a,u);return s.inclusive?c<=0:c<0}(r.startAt,Vs(r),i)||r.endAt&&!function(s,a,u){const c=Gy(s,a,u);return s.inclusive?c>=0:c>0}(r.endAt,Vs(r),i))}(t,e)}function Ix(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function EE(t){return(e,n)=>{let r=!1;for(const i of Vs(t)){const o=Px(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function Px(t,e,n){const r=t.field.isKeyField()?ee.comparator(e.key,n.key):function(o,s,a){const u=s.data.field(o),c=a.data.field(o);return u!==null&&c!==null?ko(u,c):re()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return re()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Di(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return uE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rx=new Ve(ee.comparator);function sr(){return Rx}const TE=new Ve(ee.comparator);function Ss(...t){let e=TE;for(const n of t)e=e.insert(n.key,n);return e}function SE(t){let e=TE;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function ii(){return Fs()}function DE(){return Fs()}function Fs(){return new ki(t=>t.toString(),(t,e)=>t.isEqual(e))}const xx=new Ve(ee.comparator),Ax=new Ze(ee.comparator);function ue(...t){let e=Ax;for(const n of t)e=e.add(n);return e}const bx=new Ze(ce);function Mx(){return bx}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Np(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:xu(e)?"-0":e}}function kE(t){return{integerValue:""+t}}function Nx(t,e){return lx(e)?kE(e):Np(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vc{constructor(){this._=void 0}}function Ox(t,e,n){return t instanceof Mu?function(i,o){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&xp(o)&&(o=mc(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,e):t instanceof ha?IE(t,e):t instanceof fa?PE(t,e):function(i,o){const s=CE(i,o),a=ev(s)+ev(i.Pe);return nf(s)&&nf(i.Pe)?kE(a):Np(i.serializer,a)}(t,e)}function Lx(t,e,n){return t instanceof ha?IE(t,e):t instanceof fa?PE(t,e):n}function CE(t,e){return t instanceof Nu?function(r){return nf(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class Mu extends vc{}class ha extends vc{constructor(e){super(),this.elements=e}}function IE(t,e){const n=RE(e);for(const r of t.elements)n.some(i=>Nn(i,r))||n.push(r);return{arrayValue:{values:n}}}class fa extends vc{constructor(e){super(),this.elements=e}}function PE(t,e){let n=RE(e);for(const r of t.elements)n=n.filter(i=>!Nn(i,r));return{arrayValue:{values:n}}}class Nu extends vc{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function ev(t){return ze(t.integerValue||t.doubleValue)}function RE(t){return Ap(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function Vx(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof ha&&i instanceof ha||r instanceof fa&&i instanceof fa?Do(r.elements,i.elements,Nn):r instanceof Nu&&i instanceof Nu?Nn(r.Pe,i.Pe):r instanceof Mu&&i instanceof Mu}(t.transform,e.transform)}class Fx{constructor(e,n){this.version=e,this.transformResults=n}}class An{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new An}static exists(e){return new An(void 0,e)}static updateTime(e){return new An(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Yl(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class _c{}function xE(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new bE(t.key,An.none()):new Ta(t.key,t.data,An.none());{const n=t.data,r=en.empty();let i=new Ze(lt.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Ci(t.key,r,new hn(i.toArray()),An.none())}}function Bx(t,e,n){t instanceof Ta?function(i,o,s){const a=i.value.clone(),u=nv(i.fieldTransforms,o,s.transformResults);a.setAll(u),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Ci?function(i,o,s){if(!Yl(i.precondition,o))return void o.convertToUnknownDocument(s.version);const a=nv(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(AE(i)),u.setAll(a),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function Bs(t,e,n,r){return t instanceof Ta?function(o,s,a,u){if(!Yl(o.precondition,s))return a;const c=o.value.clone(),d=rv(o.fieldTransforms,u,s);return c.setAll(d),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof Ci?function(o,s,a,u){if(!Yl(o.precondition,s))return a;const c=rv(o.fieldTransforms,u,s),d=s.data;return d.setAll(AE(o)),d.setAll(c),s.convertToFoundDocument(s.version,d).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(o,s,a){return Yl(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function Ux(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=CE(r.transform,i||null);o!=null&&(n===null&&(n=en.empty()),n.set(r.field,o))}return n||null}function tv(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Do(r,i,(o,s)=>Vx(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Ta extends _c{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ci extends _c{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function AE(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function nv(t,e,n){const r=new Map;_e(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,Lx(s,a,n[i]))}return r}function rv(t,e,n){const r=new Map;for(const i of t){const o=i.transform,s=n.data.field(i.field);r.set(i.field,Ox(o,s,e))}return r}class bE extends _c{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class jx extends _c{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zx{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&Bx(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Bs(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Bs(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=DE();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;const u=xE(s,a);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(ie.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ue())}isEqual(e){return this.batchId===e.batchId&&Do(this.mutations,e.mutations,(n,r)=>tv(n,r))&&Do(this.baseMutations,e.baseMutations,(n,r)=>tv(n,r))}}class Op{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){_e(e.mutations.length===r.length);let i=function(){return xx}();const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new Op(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $x{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yx{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qe,de;function Wx(t){switch(t){default:return re();case U.CANCELLED:case U.UNKNOWN:case U.DEADLINE_EXCEEDED:case U.RESOURCE_EXHAUSTED:case U.INTERNAL:case U.UNAVAILABLE:case U.UNAUTHENTICATED:return!1;case U.INVALID_ARGUMENT:case U.NOT_FOUND:case U.ALREADY_EXISTS:case U.PERMISSION_DENIED:case U.FAILED_PRECONDITION:case U.ABORTED:case U.OUT_OF_RANGE:case U.UNIMPLEMENTED:case U.DATA_LOSS:return!0}}function ME(t){if(t===void 0)return or("GRPC error has no .code"),U.UNKNOWN;switch(t){case qe.OK:return U.OK;case qe.CANCELLED:return U.CANCELLED;case qe.UNKNOWN:return U.UNKNOWN;case qe.DEADLINE_EXCEEDED:return U.DEADLINE_EXCEEDED;case qe.RESOURCE_EXHAUSTED:return U.RESOURCE_EXHAUSTED;case qe.INTERNAL:return U.INTERNAL;case qe.UNAVAILABLE:return U.UNAVAILABLE;case qe.UNAUTHENTICATED:return U.UNAUTHENTICATED;case qe.INVALID_ARGUMENT:return U.INVALID_ARGUMENT;case qe.NOT_FOUND:return U.NOT_FOUND;case qe.ALREADY_EXISTS:return U.ALREADY_EXISTS;case qe.PERMISSION_DENIED:return U.PERMISSION_DENIED;case qe.FAILED_PRECONDITION:return U.FAILED_PRECONDITION;case qe.ABORTED:return U.ABORTED;case qe.OUT_OF_RANGE:return U.OUT_OF_RANGE;case qe.UNIMPLEMENTED:return U.UNIMPLEMENTED;case qe.DATA_LOSS:return U.DATA_LOSS;default:return re()}}(de=qe||(qe={}))[de.OK=0]="OK",de[de.CANCELLED=1]="CANCELLED",de[de.UNKNOWN=2]="UNKNOWN",de[de.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",de[de.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",de[de.NOT_FOUND=5]="NOT_FOUND",de[de.ALREADY_EXISTS=6]="ALREADY_EXISTS",de[de.PERMISSION_DENIED=7]="PERMISSION_DENIED",de[de.UNAUTHENTICATED=16]="UNAUTHENTICATED",de[de.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",de[de.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",de[de.ABORTED=10]="ABORTED",de[de.OUT_OF_RANGE=11]="OUT_OF_RANGE",de[de.UNIMPLEMENTED=12]="UNIMPLEMENTED",de[de.INTERNAL=13]="INTERNAL",de[de.UNAVAILABLE=14]="UNAVAILABLE",de[de.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hx(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qx=new ui([4294967295,4294967295],0);function iv(t){const e=Hx().encode(t),n=new tE;return n.update(e),new Uint8Array(n.digest())}function ov(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new ui([n,r],0),new ui([i,o],0)]}class Lp{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ds(`Invalid padding: ${n}`);if(r<0)throw new Ds(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ds(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ds(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ie=ui.fromNumber(this.Te)}Ee(e,n,r){let i=e.add(n.multiply(ui.fromNumber(r)));return i.compare(qx)===1&&(i=new ui([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ie).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=iv(e),[r,i]=ov(n);for(let o=0;o<this.hashCount;o++){const s=this.Ee(r,i,o);if(!this.de(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new Lp(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.Te===0)return;const n=iv(e),[r,i]=ov(n);for(let o=0;o<this.hashCount;o++){const s=this.Ee(r,i,o);this.Ae(s)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Ds extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wc{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Sa.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new wc(ie.min(),i,new Ve(ce),sr(),ue())}}class Sa{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Sa(r,n,ue(),ue(),ue())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wl{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class NE{constructor(e,n){this.targetId=e,this.me=n}}class OE{constructor(e,n,r=dt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class sv{constructor(){this.fe=0,this.ge=av(),this.pe=dt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=ue(),n=ue(),r=ue();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:re()}}),new Sa(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=av()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,_e(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class Qx{constructor(e){this.Le=e,this.Be=new Map,this.ke=sr(),this.qe=gl(),this.Qe=gl(),this.Ke=new Ve(ce)}$e(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(n,e.Ve):this.We(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.We(n,e.key,e.Ve)}Ge(e){this.forEachTarget(e,n=>{const r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.je(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.De(e.resumeToken));break;default:re()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.je(i)&&n(i)})}Je(e){const n=e.targetId,r=e.me.count,i=this.Ye(n);if(i){const o=i.target;if(of(o))if(r===0){const s=new ee(o.path);this.We(n,s,wt.newNoDocument(s,ie.min()))}else _e(r===1);else{const s=this.Ze(n);if(s!==r){const a=this.Xe(e),u=a?this.et(a,e,s):1;if(u!==0){this.He(n);const c=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,c)}}}}}Xe(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let s,a;try{s=Ur(r).toUint8Array()}catch(u){if(u instanceof cE)return So("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new Lp(s,i,o)}catch(u){return So(u instanceof Ds?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.Te===0?null:a}et(e,n,r){return n.me.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const s=this.Le.nt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.We(n,o,null),i++)}),i}it(e){const n=new Map;this.Be.forEach((o,s)=>{const a=this.Ye(s);if(a){if(o.current&&of(a.target)){const u=new ee(a.target.path);this.st(u).has(s)||this.ot(s,u)||this.We(s,u,wt.newNoDocument(u,e))}o.be&&(n.set(s,o.ve()),o.Ce())}});let r=ue();this.Qe.forEach((o,s)=>{let a=!0;s.forEachWhile(u=>{const c=this.Ye(u);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(e));const i=new wc(e,n,this.Ke,this.ke,r);return this.ke=sr(),this.qe=gl(),this.Qe=gl(),this.Ke=new Ve(ce),i}Ue(e,n){if(!this.je(e))return;const r=this.ot(e,n.key)?2:0;this.ze(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e)),this.Qe=this.Qe.insert(n.key,this._t(n.key).add(e))}We(e,n,r){if(!this.je(e))return;const i=this.ze(e);this.ot(e,n)?i.Fe(n,1):i.Me(n),this.Qe=this.Qe.insert(n,this._t(n).delete(e)),this.Qe=this.Qe.insert(n,this._t(n).add(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let n=this.Be.get(e);return n||(n=new sv,this.Be.set(e,n)),n}_t(e){let n=this.Qe.get(e);return n||(n=new Ze(ce),this.Qe=this.Qe.insert(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Ze(ce),this.qe=this.qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||Q("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ut(e)}He(e){this.Be.set(e,new sv),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}ot(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function gl(){return new Ve(ee.comparator)}function av(){return new Ve(ee.comparator)}const Kx={asc:"ASCENDING",desc:"DESCENDING"},Gx={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Xx={and:"AND",or:"OR"};class Jx{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function lf(t,e){return t.useProto3Json||pc(e)?e:{value:e}}function Ou(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function LE(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Zx(t,e){return Ou(t,e.toTimestamp())}function bn(t){return _e(!!t),ie.fromTimestamp(function(n){const r=Br(n);return new Je(r.seconds,r.nanos)}(t))}function Vp(t,e){return uf(t,e).canonicalString()}function uf(t,e){const n=function(i){return new Pe(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function VE(t){const e=Pe.fromString(t);return _e(zE(e)),e}function cf(t,e){return Vp(t.databaseId,e.path)}function Fd(t,e){const n=VE(e);if(n.get(1)!==t.databaseId.projectId)throw new G(U.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new G(U.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ee(BE(n))}function FE(t,e){return Vp(t.databaseId,e)}function eA(t){const e=VE(t);return e.length===4?Pe.emptyPath():BE(e)}function df(t){return new Pe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function BE(t){return _e(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function lv(t,e,n){return{name:cf(t,e),fields:n.value.mapValue.fields}}function tA(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:re()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(c,d){return c.useProto3Json?(_e(d===void 0||typeof d=="string"),dt.fromBase64String(d||"")):(_e(d===void 0||d instanceof Buffer||d instanceof Uint8Array),dt.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(c){const d=c.code===void 0?U.UNKNOWN:ME(c.code);return new G(d,c.message||"")}(s);n=new OE(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Fd(t,r.document.name),o=bn(r.document.updateTime),s=r.document.createTime?bn(r.document.createTime):ie.min(),a=new en({mapValue:{fields:r.document.fields}}),u=wt.newFoundDocument(i,o,s,a),c=r.targetIds||[],d=r.removedTargetIds||[];n=new Wl(c,d,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Fd(t,r.document),o=r.readTime?bn(r.readTime):ie.min(),s=wt.newNoDocument(i,o),a=r.removedTargetIds||[];n=new Wl([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Fd(t,r.document),o=r.removedTargetIds||[];n=new Wl([],o,i,null)}else{if(!("filter"in e))return re();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,s=new Yx(i,o),a=r.targetId;n=new NE(a,s)}}return n}function nA(t,e){let n;if(e instanceof Ta)n={update:lv(t,e.key,e.value)};else if(e instanceof bE)n={delete:cf(t,e.key)};else if(e instanceof Ci)n={update:lv(t,e.key,e.data),updateMask:dA(e.fieldMask)};else{if(!(e instanceof jx))return re();n={verify:cf(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){const a=s.transform;if(a instanceof Mu)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof ha)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof fa)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Nu)return{fieldPath:s.field.canonicalString(),increment:a.Pe};throw re()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:Zx(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:re()}(t,e.precondition)),n}function rA(t,e){return t&&t.length>0?(_e(e!==void 0),t.map(n=>function(i,o){let s=i.updateTime?bn(i.updateTime):bn(o);return s.isEqual(ie.min())&&(s=bn(o)),new Fx(s,i.transformResults||[])}(n,e))):[]}function iA(t,e){return{documents:[FE(t,e.path)]}}function oA(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=FE(t,i);const o=function(c){if(c.length!==0)return jE(yn.create(c,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const s=function(c){if(c.length!==0)return c.map(d=>function(m){return{field:Vi(m.field),direction:lA(m.dir)}}(d))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const a=lf(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{ct:n,parent:i}}function sA(t){let e=eA(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){_e(r===1);const d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let o=[];n.where&&(o=function(f){const m=UE(f);return m instanceof yn&&pE(m)?m.getFilters():[m]}(n.where));let s=[];n.orderBy&&(s=function(f){return f.map(m=>function(D){return new bu(Fi(D.field),function(C){switch(C){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(D.direction))}(m))}(n.orderBy));let a=null;n.limit&&(a=function(f){let m;return m=typeof f=="object"?f.value:f,pc(m)?null:m}(n.limit));let u=null;n.startAt&&(u=function(f){const m=!!f.before,g=f.values||[];return new Au(g,m)}(n.startAt));let c=null;return n.endAt&&(c=function(f){const m=!f.before,g=f.values||[];return new Au(g,m)}(n.endAt)),kx(e,i,s,o,a,"F",u,c)}function aA(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return re()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function UE(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Fi(n.unaryFilter.field);return Ke.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Fi(n.unaryFilter.field);return Ke.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Fi(n.unaryFilter.field);return Ke.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Fi(n.unaryFilter.field);return Ke.create(s,"!=",{nullValue:"NULL_VALUE"});default:return re()}}(t):t.fieldFilter!==void 0?function(n){return Ke.create(Fi(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return re()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return yn.create(n.compositeFilter.filters.map(r=>UE(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return re()}}(n.compositeFilter.op))}(t):re()}function lA(t){return Kx[t]}function uA(t){return Gx[t]}function cA(t){return Xx[t]}function Vi(t){return{fieldPath:t.canonicalString()}}function Fi(t){return lt.fromServerFormat(t.fieldPath)}function jE(t){return t instanceof Ke?function(n){if(n.op==="=="){if(Ky(n.value))return{unaryFilter:{field:Vi(n.field),op:"IS_NAN"}};if(Qy(n.value))return{unaryFilter:{field:Vi(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Ky(n.value))return{unaryFilter:{field:Vi(n.field),op:"IS_NOT_NAN"}};if(Qy(n.value))return{unaryFilter:{field:Vi(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Vi(n.field),op:uA(n.op),value:n.value}}}(t):t instanceof yn?function(n){const r=n.getFilters().map(i=>jE(i));return r.length===1?r[0]:{compositeFilter:{op:cA(n.op),filters:r}}}(t):re()}function dA(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function zE(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r{constructor(e,n,r,i,o=ie.min(),s=ie.min(),a=dt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new _r(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new _r(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new _r(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new _r(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hA{constructor(e){this.ht=e}}function fA(t){const e=sA({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?af(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pA{constructor(){this.ln=new mA}addToCollectionParentIndex(e,n){return this.ln.add(n),B.resolve()}getCollectionParents(e,n){return B.resolve(this.ln.getEntries(n))}addFieldIndex(e,n){return B.resolve()}deleteFieldIndex(e,n){return B.resolve()}deleteAllFieldIndexes(e){return B.resolve()}createTargetIndexes(e,n){return B.resolve()}getDocumentsMatchingTarget(e,n){return B.resolve(null)}getIndexType(e,n){return B.resolve(0)}getFieldIndexes(e,n){return B.resolve([])}getNextCollectionGroupToUpdate(e){return B.resolve(null)}getMinOffset(e,n){return B.resolve(Fr.min())}getMinOffsetFromCollectionGroup(e,n){return B.resolve(Fr.min())}updateCollectionGroup(e,n,r){return B.resolve()}updateIndexEntries(e,n){return B.resolve()}}class mA{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Ze(Pe.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ze(Pe.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class At{static withCacheSize(e){return new At(e,At.DEFAULT_COLLECTION_PERCENTILE,At.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */At.DEFAULT_COLLECTION_PERCENTILE=10,At.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,At.DEFAULT=new At(41943040,At.DEFAULT_COLLECTION_PERCENTILE,At.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),At.DISABLED=new At(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new Io(0)}static Qn(){return new Io(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cv([t,e],[n,r]){const i=ce(t,n);return i===0?ce(e,r):i}class gA{constructor(e){this.Gn=e,this.buffer=new Ze(cv),this.zn=0}jn(){return++this.zn}Hn(e){const n=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();cv(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class yA{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(e){Q("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){jo(n)?Q("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await Uo(n)}await this.Yn(3e5)})}}class vA{constructor(e,n){this.Zn=e,this.params=n}calculateTargetCount(e,n){return this.Zn.Xn(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return B.resolve(fc.oe);const r=new gA(n);return this.Zn.forEachTarget(e,i=>r.Hn(i.sequenceNumber)).next(()=>this.Zn.er(e,i=>r.Hn(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Zn.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Zn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Q("LruGarbageCollector","Garbage collection skipped; disabled"),B.resolve(uv)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Q("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),uv):this.tr(e,n))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,n){let r,i,o,s,a,u,c;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(Q("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),i=this.params.maximumSequenceNumbersToCollect):i=f,s=Date.now(),this.nthSequenceNumber(e,i))).next(f=>(r=f,a=Date.now(),this.removeTargets(e,r,n))).next(f=>(o=f,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(c=Date.now(),Oi()<=fe.DEBUG&&Q("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-d}ms
	Determined least recently used ${i} in `+(a-s)+`ms
	Removed ${o} targets in `+(u-a)+`ms
	Removed ${f} documents in `+(c-u)+`ms
Total Duration: ${c-d}ms`),B.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:f})))}}function _A(t,e){return new vA(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wA{constructor(){this.changes=new ki(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,wt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?B.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EA{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TA{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Bs(r.mutation,i,hn.empty(),Je.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ue()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ue()){const i=ii();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=Ss();return o.forEach((a,u)=>{s=s.insert(a,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=ii();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ue()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=sr();const s=Fs(),a=function(){return Fs()}();return n.forEach((u,c)=>{const d=r.get(c.key);i.has(c.key)&&(d===void 0||d.mutation instanceof Ci)?o=o.insert(c.key,c):d!==void 0?(s.set(c.key,d.mutation.getFieldMask()),Bs(d.mutation,c,d.mutation.getFieldMask(),Je.now())):s.set(c.key,hn.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((c,d)=>s.set(c,d)),n.forEach((c,d)=>{var f;return a.set(c,new EA(d,(f=s.get(c))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Fs();let i=new Ve((s,a)=>s-a),o=ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const a of s)a.keys().forEach(u=>{const c=n.get(u);if(c===null)return;let d=r.get(u)||hn.empty();d=a.applyToLocalView(c,d),r.set(u,d);const f=(i.get(a.batchId)||ue()).add(u);i=i.insert(a.batchId,f)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),c=u.key,d=u.value,f=DE();d.forEach(m=>{if(!o.has(m)){const g=xE(n.get(m),r.get(m));g!==null&&f.set(m,g),o=o.add(m)}}),s.push(this.documentOverlayCache.saveOverlays(e,c,f))}return B.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return ee.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):_E(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):B.resolve(ii());let a=-1,u=o;return s.next(c=>B.forEach(c,(d,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),o.get(d)?B.resolve():this.remoteDocumentCache.getEntry(e,d).next(m=>{u=u.insert(d,m)}))).next(()=>this.populateOverlays(e,c,o)).next(()=>this.computeViews(e,u,c,ue())).next(d=>({batchId:a,changes:SE(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ee(n)).next(r=>{let i=Ss();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let s=Ss();return this.indexManager.getCollectionParents(e,o).next(a=>B.forEach(a,u=>{const c=function(f,m){return new Ea(m,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(d=>{d.forEach((f,m)=>{s=s.insert(f,m)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((u,c)=>{const d=c.getKey();s.get(d)===null&&(s=s.insert(d,wt.newInvalidDocument(d)))});let a=Ss();return s.forEach((u,c)=>{const d=o.get(u);d!==void 0&&Bs(d.mutation,c,hn.empty(),Je.now()),yc(n,c)&&(a=a.insert(u,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SA{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,n){return B.resolve(this.Tr.get(n))}saveBundleMetadata(e,n){return this.Tr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:bn(i.createTime)}}(n)),B.resolve()}getNamedQuery(e,n){return B.resolve(this.Ir.get(n))}saveNamedQuery(e,n){return this.Ir.set(n.name,function(i){return{name:i.name,query:fA(i.bundledQuery),readTime:bn(i.readTime)}}(n)),B.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DA{constructor(){this.overlays=new Ve(ee.comparator),this.Er=new Map}getOverlay(e,n){return B.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ii();return B.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.Tt(e,n,o)}),B.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Er.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Er.delete(r)),B.resolve()}getOverlaysForCollection(e,n,r){const i=ii(),o=n.length+1,s=new ee(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const u=a.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return B.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new Ve((c,d)=>c-d);const s=this.overlays.getIterator();for(;s.hasNext();){const c=s.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let d=o.get(c.largestBatchId);d===null&&(d=ii(),o=o.insert(c.largestBatchId,d)),d.set(c.getKey(),c)}}const a=ii(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,d)=>a.set(c,d)),!(a.size()>=i)););return B.resolve(a)}Tt(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.Er.get(i.largestBatchId).delete(r.key);this.Er.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new $x(n,r));let o=this.Er.get(n);o===void 0&&(o=ue(),this.Er.set(n,o)),this.Er.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kA{constructor(){this.sessionToken=dt.EMPTY_BYTE_STRING}getSessionToken(e){return B.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,B.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fp{constructor(){this.dr=new Ze(et.Ar),this.Rr=new Ze(et.Vr)}isEmpty(){return this.dr.isEmpty()}addReference(e,n){const r=new et(e,n);this.dr=this.dr.add(r),this.Rr=this.Rr.add(r)}mr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.gr(new et(e,n))}pr(e,n){e.forEach(r=>this.removeReference(r,n))}yr(e){const n=new ee(new Pe([])),r=new et(n,e),i=new et(n,e+1),o=[];return this.Rr.forEachInRange([r,i],s=>{this.gr(s),o.push(s.key)}),o}wr(){this.dr.forEach(e=>this.gr(e))}gr(e){this.dr=this.dr.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const n=new ee(new Pe([])),r=new et(n,e),i=new et(n,e+1);let o=ue();return this.Rr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const n=new et(e,0),r=this.dr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class et{constructor(e,n){this.key=e,this.br=n}static Ar(e,n){return ee.comparator(e.key,n.key)||ce(e.br,n.br)}static Vr(e,n){return ce(e.br,n.br)||ee.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CA{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Dr=1,this.vr=new Ze(et.Ar)}checkEmpty(e){return B.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new zx(o,n,r,i);this.mutationQueue.push(s);for(const a of i)this.vr=this.vr.add(new et(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return B.resolve(s)}lookupMutationBatch(e,n){return B.resolve(this.Cr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Fr(r),o=i<0?0:i;return B.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return B.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(e){return B.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new et(n,0),i=new et(n,Number.POSITIVE_INFINITY),o=[];return this.vr.forEachInRange([r,i],s=>{const a=this.Cr(s.br);o.push(a)}),B.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ze(ce);return n.forEach(i=>{const o=new et(i,0),s=new et(i,Number.POSITIVE_INFINITY);this.vr.forEachInRange([o,s],a=>{r=r.add(a.br)})}),B.resolve(this.Mr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;ee.isDocumentKey(o)||(o=o.child(""));const s=new et(new ee(o),0);let a=new Ze(ce);return this.vr.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(u.br)),!0)},s),B.resolve(this.Mr(a))}Mr(e){const n=[];return e.forEach(r=>{const i=this.Cr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){_e(this.Or(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.vr;return B.forEach(n.mutations,i=>{const o=new et(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.vr=r})}Ln(e){}containsKey(e,n){const r=new et(n,0),i=this.vr.firstAfterOrEqual(r);return B.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,B.resolve()}Or(e,n){return this.Fr(e)}Fr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Cr(e){const n=this.Fr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IA{constructor(e){this.Nr=e,this.docs=function(){return new Ve(ee.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.Nr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return B.resolve(r?r.document.mutableCopy():wt.newInvalidDocument(n))}getEntries(e,n){let r=sr();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():wt.newInvalidDocument(i))}),B.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=sr();const s=n.path,a=new ee(s.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:c,value:{document:d}}=u.getNext();if(!s.isPrefixOf(c.path))break;c.path.length>s.length+1||ix(rx(d),r)<=0||(i.has(d.key)||yc(n,d))&&(o=o.insert(d.key,d.mutableCopy()))}return B.resolve(o)}getAllFromCollectionGroup(e,n,r,i){re()}Lr(e,n){return B.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new PA(this)}getSize(e){return B.resolve(this.size)}}class PA extends wA{constructor(e){super(),this.hr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.hr.addEntry(e,i)):this.hr.removeEntry(r)}),B.waitFor(n)}getFromCache(e,n){return this.hr.getEntry(e,n)}getAllFromCache(e,n){return this.hr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RA{constructor(e){this.persistence=e,this.Br=new ki(n=>bp(n),Mp),this.lastRemoteSnapshotVersion=ie.min(),this.highestTargetId=0,this.kr=0,this.qr=new Fp,this.targetCount=0,this.Qr=Io.qn()}forEachTarget(e,n){return this.Br.forEach((r,i)=>n(i)),B.resolve()}getLastRemoteSnapshotVersion(e){return B.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return B.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),B.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.kr&&(this.kr=n),B.resolve()}Un(e){this.Br.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Qr=new Io(n),this.highestTargetId=n),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,n){return this.Un(n),this.targetCount+=1,B.resolve()}updateTargetData(e,n){return this.Un(n),B.resolve()}removeTargetData(e,n){return this.Br.delete(n.target),this.qr.yr(n.targetId),this.targetCount-=1,B.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.Br.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Br.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),B.waitFor(o).next(()=>i)}getTargetCount(e){return B.resolve(this.targetCount)}getTargetData(e,n){const r=this.Br.get(n)||null;return B.resolve(r)}addMatchingKeys(e,n,r){return this.qr.mr(n,r),B.resolve()}removeMatchingKeys(e,n,r){this.qr.pr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),B.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.qr.yr(n),B.resolve()}getMatchingKeysForTargetId(e,n){const r=this.qr.Sr(n);return B.resolve(r)}containsKey(e,n){return B.resolve(this.qr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $E{constructor(e,n){this.Kr={},this.overlays={},this.$r=new fc(0),this.Ur=!1,this.Ur=!0,this.Wr=new kA,this.referenceDelegate=e(this),this.Gr=new RA(this),this.indexManager=new pA,this.remoteDocumentCache=function(i){return new IA(i)}(r=>this.referenceDelegate.zr(r)),this.serializer=new hA(n),this.jr=new SA(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new DA,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Kr[e.toKey()];return r||(r=new CA(n,this.referenceDelegate),this.Kr[e.toKey()]=r),r}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,n,r){Q("MemoryPersistence","Starting transaction:",e);const i=new xA(this.$r.next());return this.referenceDelegate.Hr(),r(i).next(o=>this.referenceDelegate.Jr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Yr(e,n){return B.or(Object.values(this.Kr).map(r=>()=>r.containsKey(e,n)))}}class xA extends sx{constructor(e){super(),this.currentSequenceNumber=e}}class Bp{constructor(e){this.persistence=e,this.Zr=new Fp,this.Xr=null}static ei(e){return new Bp(e)}get ti(){if(this.Xr)return this.Xr;throw re()}addReference(e,n,r){return this.Zr.addReference(r,n),this.ti.delete(r.toString()),B.resolve()}removeReference(e,n,r){return this.Zr.removeReference(r,n),this.ti.add(r.toString()),B.resolve()}markPotentiallyOrphaned(e,n){return this.ti.add(n.toString()),B.resolve()}removeTarget(e,n){this.Zr.yr(n.targetId).forEach(i=>this.ti.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.ti.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Hr(){this.Xr=new Set}Jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return B.forEach(this.ti,r=>{const i=ee.fromPath(r);return this.ni(e,i).next(o=>{o||n.removeEntry(i,ie.min())})}).next(()=>(this.Xr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ni(e,n).next(r=>{r?this.ti.delete(n.toString()):this.ti.add(n.toString())})}zr(e){return 0}ni(e,n){return B.or([()=>B.resolve(this.Zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Yr(e,n)])}}class Lu{constructor(e,n){this.persistence=e,this.ri=new ki(r=>ux(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=_A(this,n)}static ei(e,n){return new Lu(e,n)}Hr(){}Jr(e){return B.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}Xn(e){const n=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}nr(e){let n=0;return this.er(e,r=>{n++}).next(()=>n)}er(e,n){return B.forEach(this.ri,(r,i)=>this.ir(e,r,i).next(o=>o?B.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.Lr(e,s=>this.ir(e,s,n).next(a=>{a||(r++,o.removeEntry(s,ie.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.ri.set(n,e.currentSequenceNumber),B.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.ri.set(r,e.currentSequenceNumber),B.resolve()}removeReference(e,n,r){return this.ri.set(r,e.currentSequenceNumber),B.resolve()}updateLimboDocument(e,n){return this.ri.set(n,e.currentSequenceNumber),B.resolve()}zr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=zl(e.data.value)),n}ir(e,n,r){return B.or([()=>this.persistence.Yr(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.ri.get(n);return B.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Up{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Wi=r,this.Gi=i}static zi(e,n){let r=ue(),i=ue();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new Up(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AA{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bA{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return RP()?8:ax(IP())>0?6:4}()}initialize(e,n){this.Zi=e,this.indexManager=n,this.ji=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.Xi(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.es(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new AA;return this.ts(e,n,s).next(a=>{if(o.result=a,this.Hi)return this.ns(e,n,s,a.size)})}).next(()=>o.result)}ns(e,n,r,i){return r.documentReadCount<this.Ji?(Oi()<=fe.DEBUG&&Q("QueryEngine","SDK will not create cache indexes for query:",Li(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),B.resolve()):(Oi()<=fe.DEBUG&&Q("QueryEngine","Query:",Li(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Yi*i?(Oi()<=fe.DEBUG&&Q("QueryEngine","The SDK decides to create cache indexes for query:",Li(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,xn(n))):B.resolve())}Xi(e,n){if(Zy(n))return B.resolve(null);let r=xn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=af(n,null,"F"),r=xn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=ue(...o);return this.Zi.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const c=this.rs(n,a);return this.ss(n,c,s,u.readTime)?this.Xi(e,af(n,null,"F")):this.os(e,c,n,u)}))})))}es(e,n,r,i){return Zy(n)||i.isEqual(ie.min())?B.resolve(null):this.Zi.getDocuments(e,r).next(o=>{const s=this.rs(n,o);return this.ss(n,s,r,i)?B.resolve(null):(Oi()<=fe.DEBUG&&Q("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Li(n)),this.os(e,s,n,nx(i,-1)).next(a=>a))})}rs(e,n){let r=new Ze(EE(e));return n.forEach((i,o)=>{yc(e,o)&&(r=r.add(o))}),r}ss(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}ts(e,n,r){return Oi()<=fe.DEBUG&&Q("QueryEngine","Using full collection scan to execute query:",Li(n)),this.Zi.getDocumentsMatchingQuery(e,n,Fr.min(),r)}os(e,n,r,i){return this.Zi.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MA{constructor(e,n,r,i){this.persistence=e,this._s=n,this.serializer=i,this.us=new Ve(ce),this.cs=new ki(o=>bp(o),Mp),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(r)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new TA(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.us))}}function NA(t,e,n,r){return new MA(t,e,n,r)}async function YE(t,e){const n=oe(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.Ps(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let u=ue();for(const c of i){s.push(c.batchId);for(const d of c.mutations)u=u.add(d.key)}for(const c of o){a.push(c.batchId);for(const d of c.mutations)u=u.add(d.key)}return n.localDocuments.getDocuments(r,u).next(c=>({Ts:c,removedBatchIds:s,addedBatchIds:a}))})})}function OA(t,e){const n=oe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.hs.newChangeBuffer({trackRemovals:!0});return function(a,u,c,d){const f=c.batch,m=f.keys();let g=B.resolve();return m.forEach(D=>{g=g.next(()=>d.getEntry(u,D)).next(E=>{const C=c.docVersions.get(D);_e(C!==null),E.version.compareTo(C)<0&&(f.applyToRemoteDocument(E,c),E.isValidDocument()&&(E.setReadTime(c.commitVersion),d.addEntry(E)))})}),g.next(()=>a.mutationQueue.removeMutationBatch(u,f))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=ue();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(u=u.add(a.batch.mutations[c].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function WE(t){const e=oe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Gr.getLastRemoteSnapshotVersion(n))}function LA(t,e){const n=oe(t),r=e.snapshotVersion;let i=n.us;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.hs.newChangeBuffer({trackRemovals:!0});i=n.us;const a=[];e.targetChanges.forEach((d,f)=>{const m=i.get(f);if(!m)return;a.push(n.Gr.removeMatchingKeys(o,d.removedDocuments,f).next(()=>n.Gr.addMatchingKeys(o,d.addedDocuments,f)));let g=m.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(f)!==null?g=g.withResumeToken(dt.EMPTY_BYTE_STRING,ie.min()).withLastLimboFreeSnapshotVersion(ie.min()):d.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(d.resumeToken,r)),i=i.insert(f,g),function(E,C,v){return E.resumeToken.approximateByteSize()===0||C.snapshotVersion.toMicroseconds()-E.snapshotVersion.toMicroseconds()>=3e8?!0:v.addedDocuments.size+v.modifiedDocuments.size+v.removedDocuments.size>0}(m,g,d)&&a.push(n.Gr.updateTargetData(o,g))});let u=sr(),c=ue();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,d))}),a.push(VA(o,s,e.documentUpdates).next(d=>{u=d.Is,c=d.Es})),!r.isEqual(ie.min())){const d=n.Gr.getLastRemoteSnapshotVersion(o).next(f=>n.Gr.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(d)}return B.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,u,c)).next(()=>u)}).then(o=>(n.us=i,o))}function VA(t,e,n){let r=ue(),i=ue();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=sr();return n.forEach((a,u)=>{const c=o.get(a);u.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(ie.min())?(e.removeEntry(a,u.readTime),s=s.insert(a,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||u.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(u),s=s.insert(a,u)):Q("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",u.version)}),{Is:s,Es:i}})}function FA(t,e){const n=oe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function BA(t,e){const n=oe(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Gr.getTargetData(r,e).next(o=>o?(i=o,B.resolve(i)):n.Gr.allocateTargetId(r).next(s=>(i=new _r(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Gr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.us.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.us=n.us.insert(r.targetId,r),n.cs.set(e,r.targetId)),r})}async function hf(t,e,n){const r=oe(t),i=r.us.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!jo(s))throw s;Q("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.us=r.us.remove(e),r.cs.delete(i.target)}function dv(t,e,n){const r=oe(t);let i=ie.min(),o=ue();return r.persistence.runTransaction("Execute query","readwrite",s=>function(u,c,d){const f=oe(u),m=f.cs.get(d);return m!==void 0?B.resolve(f.us.get(m)):f.Gr.getTargetData(c,d)}(r,s,xn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Gr.getMatchingKeysForTargetId(s,a.targetId).next(u=>{o=u})}).next(()=>r._s.getDocumentsMatchingQuery(s,e,n?i:ie.min(),n?o:ue())).next(a=>(UA(r,Ix(e),a),{documents:a,ds:o})))}function UA(t,e,n){let r=t.ls.get(e)||ie.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.ls.set(e,r)}class hv{constructor(){this.activeTargetIds=Mx()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class jA{constructor(){this._o=new hv,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,n,r){this.ao[e]=n}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new hv,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zA{uo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fv{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){Q("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){Q("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yl=null;function Bd(){return yl===null?yl=function(){return 268435456+Math.round(2147483648*Math.random())}():yl++,"0x"+yl.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $A={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YA{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yt="WebChannelConnection";class WA extends class{get Co(){return!1}constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Fo=r+"://"+n.host,this.Mo=`projects/${i}/databases/${o}`,this.xo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}Oo(n,r,i,o,s){const a=Bd(),u=this.No(n,r.toUriEncodedString());Q("RestConnection",`Sending RPC '${n}' ${a}:`,u,i);const c={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Lo(c,o,s),this.Bo(n,u,c,i).then(d=>(Q("RestConnection",`Received RPC '${n}' ${a}: `,d),d),d=>{throw So("RestConnection",`RPC '${n}' ${a} failed with error: `,d,"url: ",u,"request:",i),d})}ko(n,r,i,o,s,a){return this.Oo(n,r,i,o,s)}Lo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Bo}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>n[s]=o),i&&i.headers.forEach((o,s)=>n[s]=o)}No(n,r){const i=$A[n];return`${this.Fo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Bo(e,n,r,i){const o=Bd();return new Promise((s,a)=>{const u=new nE;u.setWithCredentials(!0),u.listenOnce(rE.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case jl.NO_ERROR:const d=u.getResponseJson();Q(yt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(d)),s(d);break;case jl.TIMEOUT:Q(yt,`RPC '${e}' ${o} timed out`),a(new G(U.DEADLINE_EXCEEDED,"Request time out"));break;case jl.HTTP_ERROR:const f=u.getStatus();if(Q(yt,`RPC '${e}' ${o} failed with status:`,f,"response text:",u.getResponseText()),f>0){let m=u.getResponseJson();Array.isArray(m)&&(m=m[0]);const g=m==null?void 0:m.error;if(g&&g.status&&g.message){const D=function(C){const v=C.toLowerCase().replace(/_/g,"-");return Object.values(U).indexOf(v)>=0?v:U.UNKNOWN}(g.status);a(new G(D,g.message))}else a(new G(U.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new G(U.UNAVAILABLE,"Connection failed."));break;default:re()}}finally{Q(yt,`RPC '${e}' ${o} completed.`)}});const c=JSON.stringify(i);Q(yt,`RPC '${e}' ${o} sending request:`,i),u.send(n,"POST",c,r,15)})}qo(e,n,r){const i=Bd(),o=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=sE(),a=oE(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Lo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const d=o.join("");Q(yt,`Creating RPC '${e}' stream ${i}: ${d}`,u);const f=s.createWebChannel(d,u);let m=!1,g=!1;const D=new YA({Eo:C=>{g?Q(yt,`Not sending because RPC '${e}' stream ${i} is closed:`,C):(m||(Q(yt,`Opening RPC '${e}' stream ${i} transport.`),f.open(),m=!0),Q(yt,`RPC '${e}' stream ${i} sending:`,C),f.send(C))},Ao:()=>f.close()}),E=(C,v,_)=>{C.listen(v,k=>{try{_(k)}catch(A){setTimeout(()=>{throw A},0)}})};return E(f,Ts.EventType.OPEN,()=>{g||(Q(yt,`RPC '${e}' stream ${i} transport opened.`),D.So())}),E(f,Ts.EventType.CLOSE,()=>{g||(g=!0,Q(yt,`RPC '${e}' stream ${i} transport closed`),D.Do())}),E(f,Ts.EventType.ERROR,C=>{g||(g=!0,So(yt,`RPC '${e}' stream ${i} transport errored:`,C),D.Do(new G(U.UNAVAILABLE,"The operation could not be completed")))}),E(f,Ts.EventType.MESSAGE,C=>{var v;if(!g){const _=C.data[0];_e(!!_);const k=_,A=(k==null?void 0:k.error)||((v=k[0])===null||v===void 0?void 0:v.error);if(A){Q(yt,`RPC '${e}' stream ${i} received error:`,A);const N=A.status;let O=function(S){const P=qe[S];if(P!==void 0)return ME(P)}(N),T=A.message;O===void 0&&(O=U.INTERNAL,T="Unknown error status: "+N+" with message "+A.message),g=!0,D.Do(new G(O,T)),f.close()}else Q(yt,`RPC '${e}' stream ${i} received:`,_),D.vo(_)}}),E(a,iE.STAT_EVENT,C=>{C.stat===ef.PROXY?Q(yt,`RPC '${e}' stream ${i} detected buffering proxy`):C.stat===ef.NOPROXY&&Q(yt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{D.bo()},0),D}}function Ud(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ec(t){return new Jx(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HE{constructor(e,n,r=1e3,i=1.5,o=6e4){this.li=e,this.timerId=n,this.Qo=r,this.Ko=i,this.$o=o,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const n=Math.floor(this.Uo+this.Ho()),r=Math.max(0,Date.now()-this.Go),i=Math.max(0,n-r);i>0&&Q("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Uo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,i,()=>(this.Go=Date.now(),e())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qE{constructor(e,n,r,i,o,s,a,u){this.li=e,this.Yo=r,this.Zo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new HE(e,n)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,n){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,e!==4?this.r_.reset():n&&n.code===U.RESOURCE_EXHAUSTED?(or(n.toString()),or("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):n&&n.code===U.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(n)}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),n=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Xo===n&&this.I_(r,i)},r=>{e(()=>{const i=new G(U.UNKNOWN,"Fetching auth token failed: "+r.message);return this.E_(i)})})}I_(e,n){const r=this.T_(this.Xo);this.stream=this.d_(e,n),this.stream.Ro(()=>{r(()=>this.listener.Ro())}),this.stream.mo(()=>{r(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(i=>{r(()=>this.E_(i))}),this.stream.onMessage(i=>{r(()=>++this.n_==1?this.A_(i):this.onNext(i))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}E_(e){return Q("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}T_(e){return n=>{this.li.enqueueAndForget(()=>this.Xo===e?n():(Q("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class HA extends qE{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}d_(e,n){return this.connection.qo("Listen",e,n)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();const n=tA(this.serializer,e),r=function(o){if(!("targetChange"in o))return ie.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?ie.min():s.readTime?bn(s.readTime):ie.min()}(e);return this.listener.R_(n,r)}V_(e){const n={};n.database=df(this.serializer),n.addTarget=function(o,s){let a;const u=s.target;if(a=of(u)?{documents:iA(o,u)}:{query:oA(o,u).ct},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=LE(o,s.resumeToken);const c=lf(o,s.expectedCount);c!==null&&(a.expectedCount=c)}else if(s.snapshotVersion.compareTo(ie.min())>0){a.readTime=Ou(o,s.snapshotVersion.toTimestamp());const c=lf(o,s.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=aA(this.serializer,e);r&&(n.labels=r),this.c_(n)}m_(e){const n={};n.database=df(this.serializer),n.removeTarget=e,this.c_(n)}}class qA extends qE{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}d_(e,n){return this.connection.qo("Write",e,n)}A_(e){return _e(!!e.streamToken),this.lastStreamToken=e.streamToken,_e(!e.writeResults||e.writeResults.length===0),this.listener.p_()}onNext(e){_e(!!e.streamToken),this.lastStreamToken=e.streamToken,this.r_.reset();const n=rA(e.writeResults,e.commitTime),r=bn(e.commitTime);return this.listener.y_(r,n)}w_(){const e={};e.database=df(this.serializer),this.c_(e)}g_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>nA(this.serializer,r))};this.c_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QA extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.S_=!1}b_(){if(this.S_)throw new G(U.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,n,r,i){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Oo(e,uf(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new G(U.UNKNOWN,o.toString())})}ko(e,n,r,i,o){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.ko(e,uf(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new G(U.UNKNOWN,s.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class KA{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(e){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.M_("Offline")))}set(e){this.N_(),this.D_=0,e==="Online"&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(or(n),this.C_=!1):Q("OnlineStateTracker",n)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GA{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.L_=[],this.B_=new Map,this.k_=new Set,this.q_=[],this.Q_=o,this.Q_.uo(s=>{r.enqueueAndForget(async()=>{Ii(this)&&(Q("RemoteStore","Restarting streams for network reachability change."),await async function(u){const c=oe(u);c.k_.add(4),await Da(c),c.K_.set("Unknown"),c.k_.delete(4),await Tc(c)}(this))})}),this.K_=new KA(r,i)}}async function Tc(t){if(Ii(t))for(const e of t.q_)await e(!0)}async function Da(t){for(const e of t.q_)await e(!1)}function QE(t,e){const n=oe(t);n.B_.has(e.targetId)||(n.B_.set(e.targetId,e),Yp(n)?$p(n):zo(n).s_()&&zp(n,e))}function jp(t,e){const n=oe(t),r=zo(n);n.B_.delete(e),r.s_()&&KE(n,e),n.B_.size===0&&(r.s_()?r.a_():Ii(n)&&n.K_.set("Unknown"))}function zp(t,e){if(t.U_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ie.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}zo(t).V_(e)}function KE(t,e){t.U_.xe(e),zo(t).m_(e)}function $p(t){t.U_=new Qx({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>t.B_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),zo(t).start(),t.K_.F_()}function Yp(t){return Ii(t)&&!zo(t).i_()&&t.B_.size>0}function Ii(t){return oe(t).k_.size===0}function GE(t){t.U_=void 0}async function XA(t){t.K_.set("Online")}async function JA(t){t.B_.forEach((e,n)=>{zp(t,e)})}async function ZA(t,e){GE(t),Yp(t)?(t.K_.O_(e),$p(t)):t.K_.set("Unknown")}async function eb(t,e,n){if(t.K_.set("Online"),e instanceof OE&&e.state===2&&e.cause)try{await async function(i,o){const s=o.cause;for(const a of o.targetIds)i.B_.has(a)&&(await i.remoteSyncer.rejectListen(a,s),i.B_.delete(a),i.U_.removeTarget(a))}(t,e)}catch(r){Q("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Vu(t,r)}else if(e instanceof Wl?t.U_.$e(e):e instanceof NE?t.U_.Je(e):t.U_.Ge(e),!n.isEqual(ie.min()))try{const r=await WE(t.localStore);n.compareTo(r)>=0&&await function(o,s){const a=o.U_.it(s);return a.targetChanges.forEach((u,c)=>{if(u.resumeToken.approximateByteSize()>0){const d=o.B_.get(c);d&&o.B_.set(c,d.withResumeToken(u.resumeToken,s))}}),a.targetMismatches.forEach((u,c)=>{const d=o.B_.get(u);if(!d)return;o.B_.set(u,d.withResumeToken(dt.EMPTY_BYTE_STRING,d.snapshotVersion)),KE(o,u);const f=new _r(d.target,u,c,d.sequenceNumber);zp(o,f)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){Q("RemoteStore","Failed to raise snapshot:",r),await Vu(t,r)}}async function Vu(t,e,n){if(!jo(e))throw e;t.k_.add(1),await Da(t),t.K_.set("Offline"),n||(n=()=>WE(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Q("RemoteStore","Retrying IndexedDB access"),await n(),t.k_.delete(1),await Tc(t)})}function XE(t,e){return e().catch(n=>Vu(t,n,e))}async function Sc(t){const e=oe(t),n=zr(e);let r=e.L_.length>0?e.L_[e.L_.length-1].batchId:-1;for(;tb(e);)try{const i=await FA(e.localStore,r);if(i===null){e.L_.length===0&&n.a_();break}r=i.batchId,nb(e,i)}catch(i){await Vu(e,i)}JE(e)&&ZE(e)}function tb(t){return Ii(t)&&t.L_.length<10}function nb(t,e){t.L_.push(e);const n=zr(t);n.s_()&&n.f_&&n.g_(e.mutations)}function JE(t){return Ii(t)&&!zr(t).i_()&&t.L_.length>0}function ZE(t){zr(t).start()}async function rb(t){zr(t).w_()}async function ib(t){const e=zr(t);for(const n of t.L_)e.g_(n.mutations)}async function ob(t,e,n){const r=t.L_.shift(),i=Op.from(r,e,n);await XE(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Sc(t)}async function sb(t,e){e&&zr(t).f_&&await async function(r,i){if(function(s){return Wx(s)&&s!==U.ABORTED}(i.code)){const o=r.L_.shift();zr(r).__(),await XE(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await Sc(r)}}(t,e),JE(t)&&ZE(t)}async function pv(t,e){const n=oe(t);n.asyncQueue.verifyOperationInProgress(),Q("RemoteStore","RemoteStore received new credentials");const r=Ii(n);n.k_.add(3),await Da(n),r&&n.K_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.k_.delete(3),await Tc(n)}async function ab(t,e){const n=oe(t);e?(n.k_.delete(2),await Tc(n)):e||(n.k_.add(2),await Da(n),n.K_.set("Unknown"))}function zo(t){return t.W_||(t.W_=function(n,r,i){const o=oe(n);return o.b_(),new HA(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Ro:XA.bind(null,t),mo:JA.bind(null,t),po:ZA.bind(null,t),R_:eb.bind(null,t)}),t.q_.push(async e=>{e?(t.W_.__(),Yp(t)?$p(t):t.K_.set("Unknown")):(await t.W_.stop(),GE(t))})),t.W_}function zr(t){return t.G_||(t.G_=function(n,r,i){const o=oe(n);return o.b_(),new qA(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Ro:()=>Promise.resolve(),mo:rb.bind(null,t),po:sb.bind(null,t),p_:ib.bind(null,t),y_:ob.bind(null,t)}),t.q_.push(async e=>{e?(t.G_.__(),await Sc(t)):(await t.G_.stop(),t.L_.length>0&&(Q("RemoteStore",`Stopping write stream with ${t.L_.length} pending writes`),t.L_=[]))})),t.G_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wp{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new br,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const s=Date.now()+r,a=new Wp(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new G(U.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Hp(t,e){if(or("AsyncQueue",`${e}: ${t}`),jo(t))return new G(U.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo{static emptySet(e){return new oo(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||ee.comparator(n.key,r.key):(n,r)=>ee.comparator(n.key,r.key),this.keyedMap=Ss(),this.sortedSet=new Ve(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof oo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new oo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mv{constructor(){this.z_=new Ve(ee.comparator)}track(e){const n=e.doc.key,r=this.z_.get(n);r?e.type!==0&&r.type===3?this.z_=this.z_.insert(n,e):e.type===3&&r.type!==1?this.z_=this.z_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.z_=this.z_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.z_=this.z_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.z_=this.z_.remove(n):e.type===1&&r.type===2?this.z_=this.z_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.z_=this.z_.insert(n,{type:2,doc:e.doc}):re():this.z_=this.z_.insert(n,e)}j_(){const e=[];return this.z_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Po{constructor(e,n,r,i,o,s,a,u,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,o){const s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new Po(e,n,oo.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&gc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lb{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some(e=>e.Z_())}}class ub{constructor(){this.queries=gv(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(n,r){const i=oe(n),o=i.queries;i.queries=gv(),o.forEach((s,a)=>{for(const u of a.J_)u.onError(r)})})(this,new G(U.ABORTED,"Firestore shutting down"))}}function gv(){return new ki(t=>wE(t),gc)}async function cb(t,e){const n=oe(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.Y_()&&e.Z_()&&(r=2):(o=new lb,r=e.Z_()?0:1);try{switch(r){case 0:o.H_=await n.onListen(i,!0);break;case 1:o.H_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(s){const a=Hp(s,`Initialization of query '${Li(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,o),o.J_.push(e),e.ea(n.onlineState),o.H_&&e.ta(o.H_)&&qp(n)}async function db(t,e){const n=oe(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const s=o.J_.indexOf(e);s>=0&&(o.J_.splice(s,1),o.J_.length===0?i=e.Z_()?0:1:!o.Y_()&&e.Z_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function hb(t,e){const n=oe(t);let r=!1;for(const i of e){const o=i.query,s=n.queries.get(o);if(s){for(const a of s.J_)a.ta(i)&&(r=!0);s.H_=i}}r&&qp(n)}function fb(t,e,n){const r=oe(t),i=r.queries.get(e);if(i)for(const o of i.J_)o.onError(n);r.queries.delete(e)}function qp(t){t.X_.forEach(e=>{e.next()})}var ff,yv;(yv=ff||(ff={})).na="default",yv.Cache="cache";class pb{constructor(e,n,r){this.query=e,this.ra=n,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=r||{}}ta(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Po(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ia?this.oa(e)&&(this.ra.next(e),n=!0):this._a(e,this.onlineState)&&(this.aa(e),n=!0),this.sa=e,n}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let n=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),n=!0),n}_a(e,n){if(!e.fromCache||!this.Z_())return!0;const r=n!=="Offline";return(!this.options.ua||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}oa(e){if(e.docChanges.length>0)return!0;const n=this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}aa(e){e=Po.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==ff.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e1{constructor(e){this.key=e}}class t1{constructor(e){this.key=e}}class mb{constructor(e,n){this.query=e,this.da=n,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=ue(),this.mutatedKeys=ue(),this.Va=EE(e),this.ma=new oo(this.Va)}get fa(){return this.da}ga(e,n){const r=n?n.pa:new mv,i=n?n.ma:this.ma;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1;const u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,f)=>{const m=i.get(d),g=yc(this.query,f)?f:null,D=!!m&&this.mutatedKeys.has(m.key),E=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let C=!1;m&&g?m.data.isEqual(g.data)?D!==E&&(r.track({type:3,doc:g}),C=!0):this.ya(m,g)||(r.track({type:2,doc:g}),C=!0,(u&&this.Va(g,u)>0||c&&this.Va(g,c)<0)&&(a=!0)):!m&&g?(r.track({type:0,doc:g}),C=!0):m&&!g&&(r.track({type:1,doc:m}),C=!0,(u||c)&&(a=!0)),C&&(g?(s=s.add(g),o=E?o.add(d):o.delete(d)):(s=s.delete(d),o=o.delete(d)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const d=this.query.limitType==="F"?s.last():s.first();s=s.delete(d.key),o=o.delete(d.key),r.track({type:1,doc:d})}return{ma:s,pa:r,ss:a,mutatedKeys:o}}ya(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;const s=e.pa.j_();s.sort((d,f)=>function(g,D){const E=C=>{switch(C){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return re()}};return E(g)-E(D)}(d.type,f.type)||this.Va(d.doc,f.doc)),this.wa(r),i=i!=null&&i;const a=n&&!i?this.Sa():[],u=this.Ra.size===0&&this.current&&!i?1:0,c=u!==this.Aa;return this.Aa=u,s.length!==0||c?{snapshot:new Po(this.query,e.ma,o,s,e.mutatedKeys,u===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),ba:a}:{ba:a}}ea(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ma:this.ma,pa:new mv,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.da.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach(n=>this.da=this.da.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.da=this.da.delete(n)),this.current=e.current)}Sa(){if(!this.current)return[];const e=this.Ra;this.Ra=ue(),this.ma.forEach(r=>{this.Da(r.key)&&(this.Ra=this.Ra.add(r.key))});const n=[];return e.forEach(r=>{this.Ra.has(r)||n.push(new t1(r))}),this.Ra.forEach(r=>{e.has(r)||n.push(new e1(r))}),n}va(e){this.da=e.ds,this.Ra=ue();const n=this.ga(e.documents);return this.applyChanges(n,!0)}Ca(){return Po.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,this.Aa===0,this.hasCachedResults)}}class gb{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class yb{constructor(e){this.key=e,this.Fa=!1}}class vb{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Ma={},this.xa=new ki(a=>wE(a),gc),this.Oa=new Map,this.Na=new Set,this.La=new Ve(ee.comparator),this.Ba=new Map,this.ka=new Fp,this.qa={},this.Qa=new Map,this.Ka=Io.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function _b(t,e,n=!0){const r=a1(t);let i;const o=r.xa.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Ca()):i=await n1(r,e,n,!0),i}async function wb(t,e){const n=a1(t);await n1(n,e,!0,!1)}async function n1(t,e,n,r){const i=await BA(t.localStore,xn(e)),o=i.targetId,s=t.sharedClientState.addLocalQueryTarget(o,n);let a;return r&&(a=await Eb(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&QE(t.remoteStore,i),a}async function Eb(t,e,n,r,i){t.Ua=(f,m,g)=>async function(E,C,v,_){let k=C.view.ga(v);k.ss&&(k=await dv(E.localStore,C.query,!1).then(({documents:T})=>C.view.ga(T,k)));const A=_&&_.targetChanges.get(C.targetId),N=_&&_.targetMismatches.get(C.targetId)!=null,O=C.view.applyChanges(k,E.isPrimaryClient,A,N);return _v(E,C.targetId,O.ba),O.snapshot}(t,f,m,g);const o=await dv(t.localStore,e,!0),s=new mb(e,o.ds),a=s.ga(o.documents),u=Sa.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=s.applyChanges(a,t.isPrimaryClient,u);_v(t,n,c.ba);const d=new gb(e,n,s);return t.xa.set(e,d),t.Oa.has(n)?t.Oa.get(n).push(e):t.Oa.set(n,[e]),c.snapshot}async function Tb(t,e,n){const r=oe(t),i=r.xa.get(e),o=r.Oa.get(i.targetId);if(o.length>1)return r.Oa.set(i.targetId,o.filter(s=>!gc(s,e))),void r.xa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await hf(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&jp(r.remoteStore,i.targetId),pf(r,i.targetId)}).catch(Uo)):(pf(r,i.targetId),await hf(r.localStore,i.targetId,!0))}async function Sb(t,e){const n=oe(t),r=n.xa.get(e),i=n.Oa.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),jp(n.remoteStore,r.targetId))}async function Db(t,e,n){const r=Ab(t);try{const i=await function(s,a){const u=oe(s),c=Je.now(),d=a.reduce((g,D)=>g.add(D.key),ue());let f,m;return u.persistence.runTransaction("Locally write mutations","readwrite",g=>{let D=sr(),E=ue();return u.hs.getEntries(g,d).next(C=>{D=C,D.forEach((v,_)=>{_.isValidDocument()||(E=E.add(v))})}).next(()=>u.localDocuments.getOverlayedDocuments(g,D)).next(C=>{f=C;const v=[];for(const _ of a){const k=Ux(_,f.get(_.key).overlayedDocument);k!=null&&v.push(new Ci(_.key,k,dE(k.value.mapValue),An.exists(!0)))}return u.mutationQueue.addMutationBatch(g,c,v,a)}).next(C=>{m=C;const v=C.applyToLocalDocumentSet(f,E);return u.documentOverlayCache.saveOverlays(g,C.batchId,v)})}).then(()=>({batchId:m.batchId,changes:SE(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,u){let c=s.qa[s.currentUser.toKey()];c||(c=new Ve(ce)),c=c.insert(a,u),s.qa[s.currentUser.toKey()]=c}(r,i.batchId,n),await ka(r,i.changes),await Sc(r.remoteStore)}catch(i){const o=Hp(i,"Failed to persist write");n.reject(o)}}async function r1(t,e){const n=oe(t);try{const r=await LA(n.localStore,e);e.targetChanges.forEach((i,o)=>{const s=n.Ba.get(o);s&&(_e(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.Fa=!0:i.modifiedDocuments.size>0?_e(s.Fa):i.removedDocuments.size>0&&(_e(s.Fa),s.Fa=!1))}),await ka(n,r,e)}catch(r){await Uo(r)}}function vv(t,e,n){const r=oe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.xa.forEach((o,s)=>{const a=s.view.ea(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){const u=oe(s);u.onlineState=a;let c=!1;u.queries.forEach((d,f)=>{for(const m of f.J_)m.ea(a)&&(c=!0)}),c&&qp(u)}(r.eventManager,e),i.length&&r.Ma.R_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function kb(t,e,n){const r=oe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Ba.get(e),o=i&&i.key;if(o){let s=new Ve(ee.comparator);s=s.insert(o,wt.newNoDocument(o,ie.min()));const a=ue().add(o),u=new wc(ie.min(),new Map,new Ve(ce),s,a);await r1(r,u),r.La=r.La.remove(o),r.Ba.delete(e),Qp(r)}else await hf(r.localStore,e,!1).then(()=>pf(r,e,n)).catch(Uo)}async function Cb(t,e){const n=oe(t),r=e.batch.batchId;try{const i=await OA(n.localStore,e);o1(n,r,null),i1(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await ka(n,i)}catch(i){await Uo(i)}}async function Ib(t,e,n){const r=oe(t);try{const i=await function(s,a){const u=oe(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let d;return u.mutationQueue.lookupMutationBatch(c,a).next(f=>(_e(f!==null),d=f.keys(),u.mutationQueue.removeMutationBatch(c,f))).next(()=>u.mutationQueue.performConsistencyCheck(c)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(c,d,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,d)).next(()=>u.localDocuments.getDocuments(c,d))})}(r.localStore,e);o1(r,e,n),i1(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await ka(r,i)}catch(i){await Uo(i)}}function i1(t,e){(t.Qa.get(e)||[]).forEach(n=>{n.resolve()}),t.Qa.delete(e)}function o1(t,e,n){const r=oe(t);let i=r.qa[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.qa[r.currentUser.toKey()]=i}}function pf(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Oa.get(e))t.xa.delete(r),n&&t.Ma.Wa(r,n);t.Oa.delete(e),t.isPrimaryClient&&t.ka.yr(e).forEach(r=>{t.ka.containsKey(r)||s1(t,r)})}function s1(t,e){t.Na.delete(e.path.canonicalString());const n=t.La.get(e);n!==null&&(jp(t.remoteStore,n),t.La=t.La.remove(e),t.Ba.delete(n),Qp(t))}function _v(t,e,n){for(const r of n)r instanceof e1?(t.ka.addReference(r.key,e),Pb(t,r)):r instanceof t1?(Q("SyncEngine","Document no longer in limbo: "+r.key),t.ka.removeReference(r.key,e),t.ka.containsKey(r.key)||s1(t,r.key)):re()}function Pb(t,e){const n=e.key,r=n.path.canonicalString();t.La.get(n)||t.Na.has(r)||(Q("SyncEngine","New document in limbo: "+n),t.Na.add(r),Qp(t))}function Qp(t){for(;t.Na.size>0&&t.La.size<t.maxConcurrentLimboResolutions;){const e=t.Na.values().next().value;t.Na.delete(e);const n=new ee(Pe.fromString(e)),r=t.Ka.next();t.Ba.set(r,new yb(n)),t.La=t.La.insert(n,r),QE(t.remoteStore,new _r(xn(vE(n.path)),r,"TargetPurposeLimboResolution",fc.oe))}}async function ka(t,e,n){const r=oe(t),i=[],o=[],s=[];r.xa.isEmpty()||(r.xa.forEach((a,u)=>{s.push(r.Ua(u,e,n).then(c=>{var d;if((c||n)&&r.isPrimaryClient){const f=c?!c.fromCache:(d=n==null?void 0:n.targetChanges.get(u.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(u.targetId,f?"current":"not-current")}if(c){i.push(c);const f=Up.zi(u.targetId,c);o.push(f)}}))}),await Promise.all(s),r.Ma.R_(i),await async function(u,c){const d=oe(u);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>B.forEach(c,m=>B.forEach(m.Wi,g=>d.persistence.referenceDelegate.addReference(f,m.targetId,g)).next(()=>B.forEach(m.Gi,g=>d.persistence.referenceDelegate.removeReference(f,m.targetId,g)))))}catch(f){if(!jo(f))throw f;Q("LocalStore","Failed to update sequence numbers: "+f)}for(const f of c){const m=f.targetId;if(!f.fromCache){const g=d.us.get(m),D=g.snapshotVersion,E=g.withLastLimboFreeSnapshotVersion(D);d.us=d.us.insert(m,E)}}}(r.localStore,o))}async function Rb(t,e){const n=oe(t);if(!n.currentUser.isEqual(e)){Q("SyncEngine","User change. New user:",e.toKey());const r=await YE(n.localStore,e);n.currentUser=e,function(o,s){o.Qa.forEach(a=>{a.forEach(u=>{u.reject(new G(U.CANCELLED,s))})}),o.Qa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await ka(n,r.Ts)}}function xb(t,e){const n=oe(t),r=n.Ba.get(e);if(r&&r.Fa)return ue().add(r.key);{let i=ue();const o=n.Oa.get(e);if(!o)return i;for(const s of o){const a=n.xa.get(s);i=i.unionWith(a.view.fa)}return i}}function a1(t){const e=oe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=r1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=xb.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=kb.bind(null,e),e.Ma.R_=hb.bind(null,e.eventManager),e.Ma.Wa=fb.bind(null,e.eventManager),e}function Ab(t){const e=oe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Cb.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Ib.bind(null,e),e}class Fu{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ec(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,n){return null}Ya(e,n){return null}Ha(e){return NA(this.persistence,new bA,e.initialUser,this.serializer)}ja(e){return new $E(Bp.ei,this.serializer)}za(e){return new jA}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Fu.provider={build:()=>new Fu};class bb extends Fu{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,n){_e(this.persistence.referenceDelegate instanceof Lu);const r=this.persistence.referenceDelegate.garbageCollector;return new yA(r,e.asyncQueue,n)}ja(e){const n=this.cacheSizeBytes!==void 0?At.withCacheSize(this.cacheSizeBytes):At.DEFAULT;return new $E(r=>Lu.ei(r,n),this.serializer)}}class mf{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>vv(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Rb.bind(null,this.syncEngine),await ab(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new ub}()}createDatastore(e){const n=Ec(e.databaseInfo.databaseId),r=function(o){return new WA(o)}(e.databaseInfo);return function(o,s,a,u){return new QA(o,s,a,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,s,a){return new GA(r,i,o,s,a)}(this.localStore,this.datastore,e.asyncQueue,n=>vv(this.syncEngine,n,0),function(){return fv.p()?new fv:new zA}())}createSyncEngine(e,n){return function(i,o,s,a,u,c,d){const f=new vb(i,o,s,a,u,c);return d&&(f.$a=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const o=oe(i);Q("RemoteStore","RemoteStore shutting down."),o.k_.add(5),await Da(o),o.Q_.shutdown(),o.K_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}mf.provider={build:()=>new mf};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mb{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):or("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nb{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=vt.UNAUTHENTICATED,this.clientId=lE.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async s=>{Q("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(Q("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new br;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Hp(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function jd(t,e){t.asyncQueue.verifyOperationInProgress(),Q("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await YE(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function wv(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Ob(t);Q("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>pv(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>pv(e.remoteStore,i)),t._onlineComponents=e}async function Ob(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Q("FirestoreClient","Using user provided OfflineComponentProvider");try{await jd(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===U.FAILED_PRECONDITION||i.code===U.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;So("Error using user provided cache. Falling back to memory cache: "+n),await jd(t,new Fu)}}else Q("FirestoreClient","Using default OfflineComponentProvider"),await jd(t,new bb(void 0));return t._offlineComponents}async function l1(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Q("FirestoreClient","Using user provided OnlineComponentProvider"),await wv(t,t._uninitializedComponentsProvider._online)):(Q("FirestoreClient","Using default OnlineComponentProvider"),await wv(t,new mf))),t._onlineComponents}function Lb(t){return l1(t).then(e=>e.syncEngine)}async function Vb(t){const e=await l1(t),n=e.eventManager;return n.onListen=_b.bind(null,e.syncEngine),n.onUnlisten=Tb.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=wb.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Sb.bind(null,e.syncEngine),n}function Fb(t,e,n={}){const r=new br;return t.asyncQueue.enqueueAndForget(async()=>function(o,s,a,u,c){const d=new Mb({next:m=>{d.eu(),s.enqueueAndForget(()=>db(o,f)),m.fromCache&&u.source==="server"?c.reject(new G(U.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(m)},error:m=>c.reject(m)}),f=new pb(a,d,{includeMetadataChanges:!0,ua:!0});return cb(o,f)}(await Vb(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u1(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ev=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c1(t,e,n){if(!n)throw new G(U.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Bb(t,e,n,r){if(e===!0&&r===!0)throw new G(U.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Tv(t){if(!ee.isDocumentKey(t))throw new G(U.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Sv(t){if(ee.isDocumentKey(t))throw new G(U.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Dc(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":re()}function Ro(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new G(U.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Dc(t);throw new G(U.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dv{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new G(U.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new G(U.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Bb("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=u1((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new G(U.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new G(U.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new G(U.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class kc{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Dv({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new G(U.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new G(U.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Dv(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new qR;switch(r.type){case"firstParty":return new XR(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new G(U.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Ev.get(n);r&&(Q("ComponentProvider","Removing Datastore"),Ev.delete(n),r.terminate())}(this),Promise.resolve()}}function Ub(t,e,n,r={}){var i;const o=(t=Ro(t,kc))._getSettings(),s=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&So("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,u;if(typeof r.mockUserToken=="string")a=r.mockUserToken,u=vt.MOCK_USER;else{a=CP(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new G(U.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new vt(c)}t._authCredentials=new QR(new aE(a,u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $o{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new $o(this.firestore,e,this._query)}}class Wt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Mr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Wt(this.firestore,e,this._key)}}class Mr extends $o{constructor(e,n,r){super(e,n,vE(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Wt(this.firestore,null,new ee(e))}withConverter(e){return new Mr(this.firestore,e,this._path)}}function vl(t,e,...n){if(t=To(t),c1("collection","path",e),t instanceof kc){const r=Pe.fromString(e,...n);return Sv(r),new Mr(t,null,r)}{if(!(t instanceof Wt||t instanceof Mr))throw new G(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Pe.fromString(e,...n));return Sv(r),new Mr(t.firestore,null,r)}}function d1(t,e,...n){if(t=To(t),arguments.length===1&&(e=lE.newId()),c1("doc","path",e),t instanceof kc){const r=Pe.fromString(e,...n);return Tv(r),new Wt(t,null,new ee(r))}{if(!(t instanceof Wt||t instanceof Mr))throw new G(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Pe.fromString(e,...n));return Tv(r),new Wt(t.firestore,t instanceof Mr?t.converter:null,new ee(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kv{constructor(e=Promise.resolve()){this.Iu=[],this.Eu=!1,this.du=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new HE(this,"async_queue_retry"),this.fu=()=>{const r=Ud();r&&Q("AsyncQueue","Visibility state changed to "+r.visibilityState),this.r_.Jo()},this.gu=e;const n=Ud();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.Eu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.Eu){this.Eu=!0,this.Vu=e||!1;const n=Ud();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.Eu)return new Promise(()=>{});const n=new br;return this.yu(()=>this.Eu&&this.Vu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Iu.push(e),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(e){if(!jo(e))throw e;Q("AsyncQueue","Operation failed with retryable error: "+e)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(e){const n=this.gu.then(()=>(this.Ru=!0,e().catch(r=>{this.Au=r,this.Ru=!1;const i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw or("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Ru=!1,r))));return this.gu=n,n}enqueueAfterDelay(e,n,r){this.pu(),this.mu.indexOf(e)>-1&&(n=0);const i=Wp.createAndSchedule(this,e,n,r,o=>this.Su(o));return this.du.push(i),i}pu(){this.Au&&re()}verifyOperationInProgress(){}async bu(){let e;do e=this.gu,await e;while(e!==this.gu)}Du(e){for(const n of this.du)if(n.timerId===e)return!0;return!1}vu(e){return this.bu().then(()=>{this.du.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.du)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.bu()})}Cu(e){this.mu.push(e)}Su(e){const n=this.du.indexOf(e);this.du.splice(n,1)}}class Cc extends kc{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new kv,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new kv(e),this._firestoreClient=void 0,await e}}}function jb(t,e){const n=typeof t=="object"?t:OR(),r=typeof t=="string"?t:"(default)",i=AR(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=DP("firestore");o&&Ub(i,...o)}return i}function h1(t){if(t._terminated)throw new G(U.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||zb(t),t._firestoreClient}function zb(t){var e,n,r;const i=t._freezeSettings(),o=function(a,u,c,d){return new hx(a,u,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,u1(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new Nb(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(a){const u=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(u),_online:u}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new xo(dt.fromBase64String(e))}catch(n){throw new G(U.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new xo(dt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kp{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new G(U.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new lt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f1{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gp{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new G(U.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new G(U.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ce(this._lat,e._lat)||ce(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xp{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $b=/^__.*__$/;class Yb{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Ci(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ta(e,this.data,n,this.fieldTransforms)}}function p1(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw re()}}class Jp{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Fu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(e){return new Jp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.xu({path:r,Nu:!1});return i.Lu(e),i}Bu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.xu({path:r,Nu:!1});return i.Fu(),i}ku(e){return this.xu({path:void 0,Nu:!0})}qu(e){return Bu(e,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Fu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Lu(this.path.get(e))}Lu(e){if(e.length===0)throw this.qu("Document fields must not be empty");if(p1(this.Mu)&&$b.test(e))throw this.qu('Document fields cannot begin and end with "__"')}}class Wb{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Ec(e)}$u(e,n,r,i=!1){return new Jp({Mu:e,methodName:n,Ku:r,path:lt.emptyPath(),Nu:!1,Qu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Zp(t){const e=t._freezeSettings(),n=Ec(t._databaseId);return new Wb(t._databaseId,!!e.ignoreUndefinedProperties,n)}function m1(t,e,n,r,i,o={}){const s=t.$u(o.merge||o.mergeFields?2:0,e,n,i);v1("Data must be an object, but it was:",s,r);const a=g1(r,s);let u,c;if(o.merge)u=new hn(s.fieldMask),c=s.fieldTransforms;else if(o.mergeFields){const d=[];for(const f of o.mergeFields){const m=qb(e,f,n);if(!s.contains(m))throw new G(U.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);Kb(d,m)||d.push(m)}u=new hn(d),c=s.fieldTransforms.filter(f=>u.covers(f.field))}else u=null,c=s.fieldTransforms;return new Yb(new en(a),u,c)}function Hb(t,e,n,r=!1){return em(n,t.$u(r?4:3,e))}function em(t,e){if(y1(t=To(t)))return v1("Unsupported field value:",e,t),g1(t,e);if(t instanceof f1)return function(r,i){if(!p1(i.Mu))throw i.qu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.qu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Nu&&e.Mu!==4)throw e.qu("Nested arrays are not supported");return function(r,i){const o=[];let s=0;for(const a of r){let u=em(a,i.ku(s));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=To(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Nx(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=Je.fromDate(r);return{timestampValue:Ou(i.serializer,o)}}if(r instanceof Je){const o=new Je(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Ou(i.serializer,o)}}if(r instanceof Gp)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof xo)return{bytesValue:LE(i.serializer,r._byteString)};if(r instanceof Wt){const o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.qu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Vp(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Xp)return function(s,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map(u=>{if(typeof u!="number")throw a.qu("VectorValues must only contain numeric values.");return Np(a.serializer,u)})}}}}}}(r,i);throw i.qu(`Unsupported field value: ${Dc(r)}`)}(t,e)}function g1(t,e){const n={};return uE(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Di(t,(r,i)=>{const o=em(i,e.Ou(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function y1(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Je||t instanceof Gp||t instanceof xo||t instanceof Wt||t instanceof f1||t instanceof Xp)}function v1(t,e,n){if(!y1(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Dc(n);throw r==="an object"?e.qu(t+" a custom object"):e.qu(t+" "+r)}}function qb(t,e,n){if((e=To(e))instanceof Kp)return e._internalPath;if(typeof e=="string")return _1(t,e);throw Bu("Field path arguments must be of type string or ",t,!1,void 0,n)}const Qb=new RegExp("[~\\*/\\[\\]]");function _1(t,e,n){if(e.search(Qb)>=0)throw Bu(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Kp(...e.split("."))._internalPath}catch{throw Bu(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Bu(t,e,n,r,i){const o=r&&!r.isEmpty(),s=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new G(U.INVALID_ARGUMENT,a+t+u)}function Kb(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w1{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Wt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Gb(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(tm("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Gb extends w1{data(){return super.data()}}function tm(t,e){return typeof e=="string"?_1(t,e):e instanceof Kp?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xb(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new G(U.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class nm{}class Jb extends nm{}function Zb(t,e,...n){let r=[];e instanceof nm&&r.push(e),r=r.concat(n),function(o){const s=o.filter(u=>u instanceof rm).length,a=o.filter(u=>u instanceof Ic).length;if(s>1||s>0&&a>0)throw new G(U.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Ic extends Jb{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Ic(e,n,r)}_apply(e){const n=this._parse(e);return E1(e._query,n),new $o(e.firestore,e.converter,sf(e._query,n))}_parse(e){const n=Zp(e.firestore);return function(o,s,a,u,c,d,f){let m;if(c.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new G(U.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){Iv(f,d);const g=[];for(const D of f)g.push(Cv(u,o,D));m={arrayValue:{values:g}}}else m=Cv(u,o,f)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||Iv(f,d),m=Hb(a,s,f,d==="in"||d==="not-in");return Ke.create(c,d,m)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function eM(t,e,n){const r=e,i=tm("where",t);return Ic._create(i,r,n)}class rm extends nm{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new rm(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:yn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,o){let s=i;const a=o.getFlattenedFilters();for(const u of a)E1(s,u),s=sf(s,u)}(e._query,n),new $o(e.firestore,e.converter,sf(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function Cv(t,e,n){if(typeof(n=To(n))=="string"){if(n==="")throw new G(U.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!_E(e)&&n.indexOf("/")!==-1)throw new G(U.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Pe.fromString(n));if(!ee.isDocumentKey(r))throw new G(U.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return qy(t,new ee(r))}if(n instanceof Wt)return qy(t,n._key);throw new G(U.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Dc(n)}.`)}function Iv(t,e){if(!Array.isArray(t)||t.length===0)throw new G(U.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function E1(t,e){const n=function(i,o){for(const s of i)for(const a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new G(U.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new G(U.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class tM{convertValue(e,n="none"){switch(jr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ze(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ur(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw re()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Di(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,i;const o=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>ze(s.doubleValue));return new Xp(o)}convertGeoPoint(e){return new Gp(ze(e.latitude),ze(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=mc(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(ua(e));default:return null}}convertTimestamp(e){const n=Br(e);return new Je(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Pe.fromString(e);_e(zE(r));const i=new ca(r.get(1),r.get(3)),o=new ee(r.popFirst(5));return i.isEqual(n)||or(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T1(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _l{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class nM extends w1{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Hl(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(tm("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Hl extends nM{data(e={}){return super.data(e)}}class rM{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new _l(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Hl(this._firestore,this._userDataWriter,r.key,r,new _l(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new G(U.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{const u=new Hl(i._firestore,i._userDataWriter,a.doc.key,a.doc,new _l(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{const u=new Hl(i._firestore,i._userDataWriter,a.doc.key,a.doc,new _l(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,d=-1;return a.type!==0&&(c=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),d=s.indexOf(a.doc.key)),{type:iM(a.type),doc:u,oldIndex:c,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function iM(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return re()}}class oM extends tM{constructor(e){super(),this.firestore=e}convertBytes(e){return new xo(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Wt(this.firestore,null,n)}}function zd(t){t=Ro(t,$o);const e=Ro(t.firestore,Cc),n=h1(e),r=new oM(e);return Xb(t._query),Fb(n,t._query).then(i=>new rM(e,r,t,i))}function sM(t,e,n){t=Ro(t,Wt);const r=Ro(t.firestore,Cc),i=T1(t.converter,e,n);return S1(r,[m1(Zp(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,An.none())])}function aM(t,e){const n=Ro(t.firestore,Cc),r=d1(t),i=T1(t.converter,e);return S1(n,[m1(Zp(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,An.exists(!1))]).then(()=>r)}function S1(t,e){return function(r,i){const o=new br;return r.asyncQueue.enqueueAndForget(async()=>Db(await Lb(r),i,o)),o.promise}(h1(t),e)}(function(e,n=!0){(function(i){Bo=i})(NR),Ru(new sa("firestore",(r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),a=new Cc(new KR(r.getProvider("auth-internal")),new ZR(r.getProvider("app-check-internal")),function(c,d){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new G(U.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ca(c.options.projectId,d)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),io(jy,"4.7.5",e),io(jy,"4.7.5","esm2017")})();const lM={apiKey:"AIzaSyBEQ4Yk8OvBQII1uVmdm6HisnT5PZF34e0",authDomain:"rota-scheduler-cc485.firebaseapp.com",projectId:"rota-scheduler-cc485",storageBucket:"rota-scheduler-cc485.firebasestorage.app",messagingSenderId:"677039349773",appId:"1:677039349773:web:7cf204d16a737d60d8b544",databaseURL:void 0},uM=Jw(lM),ms=jb(uM);class Ao{static async getAllMembers(e="162nd"){const n=vl(ms,`churches/${e}/members`);return(await zd(n)).docs.map(i=>({...i.data(),id:i.id}))}static async addMember(e,n="162nd"){if(await this.checkIfMemberExists(e.name,n))throw new Error("Member already exists");const i=vl(ms,`churches/${n}/members`);await aM(i,{...e,name:e.name.toLowerCase()})}static async checkIfMemberExists(e,n){const r=vl(ms,`churches/${n}/members`),i=Zb(r,eM("name","==",e.toLowerCase()));return!(await zd(i)).empty}static async getSchedules(e,n){const r=vl(ms,`churches/${e}/teams/${n}/schedules`);return(await zd(r)).docs.map(o=>({id:o.id,...o.data()}))}static async updateSchedule(e,n,r){const i=d1(ms,`churches/${e}/teams/${n}/schedules/${r.date}`);await sM(i,r,{merge:!0})}}function D1(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=D1(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function nt(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=D1(t))&&(r&&(r+=" "),r+=e);return r}function Pc(){return typeof window<"u"}function Yo(t){return k1(t)?(t.nodeName||"").toLowerCase():"#document"}function Ht(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Ln(t){var e;return(e=(k1(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function k1(t){return Pc()?t instanceof Node||t instanceof Ht(t).Node:!1}function It(t){return Pc()?t instanceof Element||t instanceof Ht(t).Element:!1}function On(t){return Pc()?t instanceof HTMLElement||t instanceof Ht(t).HTMLElement:!1}function Pv(t){return!Pc()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Ht(t).ShadowRoot}function Ca(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=sn(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(i)}function cM(t){return["table","td","th"].includes(Yo(t))}function Rc(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function im(t){const e=om(),n=It(t)?sn(t):t;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function dM(t){let e=$r(t);for(;On(e)&&!bo(e);){if(im(e))return e;if(Rc(e))return null;e=$r(e)}return null}function om(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function bo(t){return["html","body","#document"].includes(Yo(t))}function sn(t){return Ht(t).getComputedStyle(t)}function xc(t){return It(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function $r(t){if(Yo(t)==="html")return t;const e=t.assignedSlot||t.parentNode||Pv(t)&&t.host||Ln(t);return Pv(e)?e.host:e}function C1(t){const e=$r(t);return bo(e)?t.ownerDocument?t.ownerDocument.body:t.body:On(e)&&Ca(e)?e:C1(e)}function pa(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=C1(t),o=i===((r=t.ownerDocument)==null?void 0:r.body),s=Ht(i);if(o){const a=gf(s);return e.concat(s,s.visualViewport||[],Ca(i)?i:[],a&&n?pa(a):[])}return e.concat(i,pa(i,[],n))}function gf(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}const Mo=Math.min,ci=Math.max,Uu=Math.round,wl=Math.floor,Mn=t=>({x:t,y:t}),hM={left:"right",right:"left",bottom:"top",top:"bottom"},fM={start:"end",end:"start"};function pM(t,e,n){return ci(t,Mo(e,n))}function Ac(t,e){return typeof t=="function"?t(e):t}function No(t){return t.split("-")[0]}function Ia(t){return t.split("-")[1]}function mM(t){return t==="x"?"y":"x"}function sm(t){return t==="y"?"height":"width"}function ma(t){return["top","bottom"].includes(No(t))?"y":"x"}function am(t){return mM(ma(t))}function gM(t,e,n){n===void 0&&(n=!1);const r=Ia(t),i=am(t),o=sm(i);let s=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(s=ju(s)),[s,ju(s)]}function yM(t){const e=ju(t);return[yf(t),e,yf(e)]}function yf(t){return t.replace(/start|end/g,e=>fM[e])}function vM(t,e,n){const r=["left","right"],i=["right","left"],o=["top","bottom"],s=["bottom","top"];switch(t){case"top":case"bottom":return n?e?i:r:e?r:i;case"left":case"right":return e?o:s;default:return[]}}function _M(t,e,n,r){const i=Ia(t);let o=vM(No(t),n==="start",r);return i&&(o=o.map(s=>s+"-"+i),e&&(o=o.concat(o.map(yf)))),o}function ju(t){return t.replace(/left|right|bottom|top/g,e=>hM[e])}function wM(t){return{top:0,right:0,bottom:0,left:0,...t}}function I1(t){return typeof t!="number"?wM(t):{top:t,right:t,bottom:t,left:t}}function zu(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function Rv(t,e,n){let{reference:r,floating:i}=t;const o=ma(e),s=am(e),a=sm(s),u=No(e),c=o==="y",d=r.x+r.width/2-i.width/2,f=r.y+r.height/2-i.height/2,m=r[a]/2-i[a]/2;let g;switch(u){case"top":g={x:d,y:r.y-i.height};break;case"bottom":g={x:d,y:r.y+r.height};break;case"right":g={x:r.x+r.width,y:f};break;case"left":g={x:r.x-i.width,y:f};break;default:g={x:r.x,y:r.y}}switch(Ia(e)){case"start":g[s]-=m*(n&&c?-1:1);break;case"end":g[s]+=m*(n&&c?-1:1);break}return g}const EM=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:o=[],platform:s}=n,a=o.filter(Boolean),u=await(s.isRTL==null?void 0:s.isRTL(e));let c=await s.getElementRects({reference:t,floating:e,strategy:i}),{x:d,y:f}=Rv(c,r,u),m=r,g={},D=0;for(let E=0;E<a.length;E++){const{name:C,fn:v}=a[E],{x:_,y:k,data:A,reset:N}=await v({x:d,y:f,initialPlacement:r,placement:m,strategy:i,middlewareData:g,rects:c,platform:s,elements:{reference:t,floating:e}});d=_??d,f=k??f,g={...g,[C]:{...g[C],...A}},N&&D<=50&&(D++,typeof N=="object"&&(N.placement&&(m=N.placement),N.rects&&(c=N.rects===!0?await s.getElementRects({reference:t,floating:e,strategy:i}):N.rects),{x:d,y:f}=Rv(c,m,u)),E=-1)}return{x:d,y:f,placement:m,strategy:i,middlewareData:g}};async function TM(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:o,rects:s,elements:a,strategy:u}=t,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:m=!1,padding:g=0}=Ac(e,t),D=I1(g),C=a[m?f==="floating"?"reference":"floating":f],v=zu(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(C)))==null||n?C:C.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(a.floating)),boundary:c,rootBoundary:d,strategy:u})),_=f==="floating"?{x:r,y:i,width:s.floating.width,height:s.floating.height}:s.reference,k=await(o.getOffsetParent==null?void 0:o.getOffsetParent(a.floating)),A=await(o.isElement==null?void 0:o.isElement(k))?await(o.getScale==null?void 0:o.getScale(k))||{x:1,y:1}:{x:1,y:1},N=zu(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:_,offsetParent:k,strategy:u}):_);return{top:(v.top-N.top+D.top)/A.y,bottom:(N.bottom-v.bottom+D.bottom)/A.y,left:(v.left-N.left+D.left)/A.x,right:(N.right-v.right+D.right)/A.x}}const SM=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:o,platform:s,elements:a,middlewareData:u}=e,{element:c,padding:d=0}=Ac(t,e)||{};if(c==null)return{};const f=I1(d),m={x:n,y:r},g=am(i),D=sm(g),E=await s.getDimensions(c),C=g==="y",v=C?"top":"left",_=C?"bottom":"right",k=C?"clientHeight":"clientWidth",A=o.reference[D]+o.reference[g]-m[g]-o.floating[D],N=m[g]-o.reference[g],O=await(s.getOffsetParent==null?void 0:s.getOffsetParent(c));let T=O?O[k]:0;(!T||!await(s.isElement==null?void 0:s.isElement(O)))&&(T=a.floating[k]||o.floating[D]);const y=A/2-N/2,S=T/2-E[D]/2-1,P=Mo(f[v],S),x=Mo(f[_],S),R=P,I=T-E[D]-x,Z=T/2-E[D]/2+y,ne=pM(R,Z,I),X=!u.arrow&&Ia(i)!=null&&Z!==ne&&o.reference[D]/2-(Z<R?P:x)-E[D]/2<0,te=X?Z<R?Z-R:Z-I:0;return{[g]:m[g]+te,data:{[g]:ne,centerOffset:Z-ne-te,...X&&{alignmentOffset:te}},reset:X}}}),DM=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:o,rects:s,initialPlacement:a,platform:u,elements:c}=e,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:m,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:D="none",flipAlignment:E=!0,...C}=Ac(t,e);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const v=No(i),_=ma(a),k=No(a)===a,A=await(u.isRTL==null?void 0:u.isRTL(c.floating)),N=m||(k||!E?[ju(a)]:yM(a)),O=D!=="none";!m&&O&&N.push(..._M(a,E,D,A));const T=[a,...N],y=await TM(e,C),S=[];let P=((r=o.flip)==null?void 0:r.overflows)||[];if(d&&S.push(y[v]),f){const Z=gM(i,s,A);S.push(y[Z[0]],y[Z[1]])}if(P=[...P,{placement:i,overflows:S}],!S.every(Z=>Z<=0)){var x,R;const Z=(((x=o.flip)==null?void 0:x.index)||0)+1,ne=T[Z];if(ne)return{data:{index:Z,overflows:P},reset:{placement:ne}};let X=(R=P.filter(te=>te.overflows[0]<=0).sort((te,F)=>te.overflows[1]-F.overflows[1])[0])==null?void 0:R.placement;if(!X)switch(g){case"bestFit":{var I;const te=(I=P.filter(F=>{if(O){const q=ma(F.placement);return q===_||q==="y"}return!0}).map(F=>[F.placement,F.overflows.filter(q=>q>0).reduce((q,J)=>q+J,0)]).sort((F,q)=>F[1]-q[1])[0])==null?void 0:I[0];te&&(X=te);break}case"initialPlacement":X=a;break}if(i!==X)return{reset:{placement:X}}}return{}}}};async function kM(t,e){const{placement:n,platform:r,elements:i}=t,o=await(r.isRTL==null?void 0:r.isRTL(i.floating)),s=No(n),a=Ia(n),u=ma(n)==="y",c=["left","top"].includes(s)?-1:1,d=o&&u?-1:1,f=Ac(e,t);let{mainAxis:m,crossAxis:g,alignmentAxis:D}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return a&&typeof D=="number"&&(g=a==="end"?D*-1:D),u?{x:g*d,y:m*c}:{x:m*c,y:g*d}}const CM=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:o,placement:s,middlewareData:a}=e,u=await kM(e,t);return s===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+u.x,y:o+u.y,data:{...u,placement:s}}}}};function P1(t){const e=sn(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=On(t),o=i?t.offsetWidth:n,s=i?t.offsetHeight:r,a=Uu(n)!==o||Uu(r)!==s;return a&&(n=o,r=s),{width:n,height:r,$:a}}function lm(t){return It(t)?t:t.contextElement}function so(t){const e=lm(t);if(!On(e))return Mn(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:o}=P1(e);let s=(o?Uu(n.width):n.width)/r,a=(o?Uu(n.height):n.height)/i;return(!s||!Number.isFinite(s))&&(s=1),(!a||!Number.isFinite(a))&&(a=1),{x:s,y:a}}const IM=Mn(0);function R1(t){const e=Ht(t);return!om()||!e.visualViewport?IM:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function PM(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Ht(t)?!1:e}function wi(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),o=lm(t);let s=Mn(1);e&&(r?It(r)&&(s=so(r)):s=so(t));const a=PM(o,n,r)?R1(o):Mn(0);let u=(i.left+a.x)/s.x,c=(i.top+a.y)/s.y,d=i.width/s.x,f=i.height/s.y;if(o){const m=Ht(o),g=r&&It(r)?Ht(r):r;let D=m,E=gf(D);for(;E&&r&&g!==D;){const C=so(E),v=E.getBoundingClientRect(),_=sn(E),k=v.left+(E.clientLeft+parseFloat(_.paddingLeft))*C.x,A=v.top+(E.clientTop+parseFloat(_.paddingTop))*C.y;u*=C.x,c*=C.y,d*=C.x,f*=C.y,u+=k,c+=A,D=Ht(E),E=gf(D)}}return zu({width:d,height:f,x:u,y:c})}function um(t,e){const n=xc(t).scrollLeft;return e?e.left+n:wi(Ln(t)).left+n}function x1(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),i=r.left+e.scrollLeft-(n?0:um(t,r)),o=r.top+e.scrollTop;return{x:i,y:o}}function RM(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const o=i==="fixed",s=Ln(r),a=e?Rc(e.floating):!1;if(r===s||a&&o)return n;let u={scrollLeft:0,scrollTop:0},c=Mn(1);const d=Mn(0),f=On(r);if((f||!f&&!o)&&((Yo(r)!=="body"||Ca(s))&&(u=xc(r)),On(r))){const g=wi(r);c=so(r),d.x=g.x+r.clientLeft,d.y=g.y+r.clientTop}const m=s&&!f&&!o?x1(s,u,!0):Mn(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-u.scrollLeft*c.x+d.x+m.x,y:n.y*c.y-u.scrollTop*c.y+d.y+m.y}}function xM(t){return Array.from(t.getClientRects())}function AM(t){const e=Ln(t),n=xc(t),r=t.ownerDocument.body,i=ci(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),o=ci(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let s=-n.scrollLeft+um(t);const a=-n.scrollTop;return sn(r).direction==="rtl"&&(s+=ci(e.clientWidth,r.clientWidth)-i),{width:i,height:o,x:s,y:a}}function bM(t,e){const n=Ht(t),r=Ln(t),i=n.visualViewport;let o=r.clientWidth,s=r.clientHeight,a=0,u=0;if(i){o=i.width,s=i.height;const c=om();(!c||c&&e==="fixed")&&(a=i.offsetLeft,u=i.offsetTop)}return{width:o,height:s,x:a,y:u}}function MM(t,e){const n=wi(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,o=On(t)?so(t):Mn(1),s=t.clientWidth*o.x,a=t.clientHeight*o.y,u=i*o.x,c=r*o.y;return{width:s,height:a,x:u,y:c}}function xv(t,e,n){let r;if(e==="viewport")r=bM(t,n);else if(e==="document")r=AM(Ln(t));else if(It(e))r=MM(e,n);else{const i=R1(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return zu(r)}function A1(t,e){const n=$r(t);return n===e||!It(n)||bo(n)?!1:sn(n).position==="fixed"||A1(n,e)}function NM(t,e){const n=e.get(t);if(n)return n;let r=pa(t,[],!1).filter(a=>It(a)&&Yo(a)!=="body"),i=null;const o=sn(t).position==="fixed";let s=o?$r(t):t;for(;It(s)&&!bo(s);){const a=sn(s),u=im(s);!u&&a.position==="fixed"&&(i=null),(o?!u&&!i:!u&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||Ca(s)&&!u&&A1(t,s))?r=r.filter(d=>d!==s):i=a,s=$r(s)}return e.set(t,r),r}function OM(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const s=[...n==="clippingAncestors"?Rc(e)?[]:NM(e,this._c):[].concat(n),r],a=s[0],u=s.reduce((c,d)=>{const f=xv(e,d,i);return c.top=ci(f.top,c.top),c.right=Mo(f.right,c.right),c.bottom=Mo(f.bottom,c.bottom),c.left=ci(f.left,c.left),c},xv(e,a,i));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function LM(t){const{width:e,height:n}=P1(t);return{width:e,height:n}}function VM(t,e,n){const r=On(e),i=Ln(e),o=n==="fixed",s=wi(t,!0,o,e);let a={scrollLeft:0,scrollTop:0};const u=Mn(0);if(r||!r&&!o)if((Yo(e)!=="body"||Ca(i))&&(a=xc(e)),r){const m=wi(e,!0,o,e);u.x=m.x+e.clientLeft,u.y=m.y+e.clientTop}else i&&(u.x=um(i));const c=i&&!r&&!o?x1(i,a):Mn(0),d=s.left+a.scrollLeft-u.x-c.x,f=s.top+a.scrollTop-u.y-c.y;return{x:d,y:f,width:s.width,height:s.height}}function $d(t){return sn(t).position==="static"}function Av(t,e){if(!On(t)||sn(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Ln(t)===n&&(n=n.ownerDocument.body),n}function b1(t,e){const n=Ht(t);if(Rc(t))return n;if(!On(t)){let i=$r(t);for(;i&&!bo(i);){if(It(i)&&!$d(i))return i;i=$r(i)}return n}let r=Av(t,e);for(;r&&cM(r)&&$d(r);)r=Av(r,e);return r&&bo(r)&&$d(r)&&!im(r)?n:r||dM(t)||n}const FM=async function(t){const e=this.getOffsetParent||b1,n=this.getDimensions,r=await n(t.floating);return{reference:VM(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function BM(t){return sn(t).direction==="rtl"}const UM={convertOffsetParentRelativeRectToViewportRelativeRect:RM,getDocumentElement:Ln,getClippingRect:OM,getOffsetParent:b1,getElementRects:FM,getClientRects:xM,getDimensions:LM,getScale:so,isElement:It,isRTL:BM};function jM(t,e){let n=null,r;const i=Ln(t);function o(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function s(a,u){a===void 0&&(a=!1),u===void 0&&(u=1),o();const{left:c,top:d,width:f,height:m}=t.getBoundingClientRect();if(a||e(),!f||!m)return;const g=wl(d),D=wl(i.clientWidth-(c+f)),E=wl(i.clientHeight-(d+m)),C=wl(c),_={rootMargin:-g+"px "+-D+"px "+-E+"px "+-C+"px",threshold:ci(0,Mo(1,u))||1};let k=!0;function A(N){const O=N[0].intersectionRatio;if(O!==u){if(!k)return s();O?s(!1,O):r=setTimeout(()=>{s(!1,1e-7)},1e3)}k=!1}try{n=new IntersectionObserver(A,{..._,root:i.ownerDocument})}catch{n=new IntersectionObserver(A,_)}n.observe(t)}return s(!0),o}function zM(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:u=!1}=r,c=lm(t),d=i||o?[...c?pa(c):[],...pa(e)]:[];d.forEach(v=>{i&&v.addEventListener("scroll",n,{passive:!0}),o&&v.addEventListener("resize",n)});const f=c&&a?jM(c,n):null;let m=-1,g=null;s&&(g=new ResizeObserver(v=>{let[_]=v;_&&_.target===c&&g&&(g.unobserve(e),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var k;(k=g)==null||k.observe(e)})),n()}),c&&!u&&g.observe(c),g.observe(e));let D,E=u?wi(t):null;u&&C();function C(){const v=wi(t);E&&(v.x!==E.x||v.y!==E.y||v.width!==E.width||v.height!==E.height)&&n(),E=v,D=requestAnimationFrame(C)}return n(),()=>{var v;d.forEach(_=>{i&&_.removeEventListener("scroll",n),o&&_.removeEventListener("resize",n)}),f==null||f(),(v=g)==null||v.disconnect(),g=null,u&&cancelAnimationFrame(D)}}const $M=CM,YM=DM,bv=SM,WM=(t,e,n)=>{const r=new Map,i={platform:UM,...n},o={...i.platform,_c:r};return EM(t,e,{...i,platform:o})};var ql=typeof document<"u"?M.useLayoutEffect:M.useEffect;function $u(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!$u(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const o=i[r];if(!(o==="_owner"&&t.$$typeof)&&!$u(t[o],e[o]))return!1}return!0}return t!==t&&e!==e}function M1(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function Mv(t,e){const n=M1(t);return Math.round(e*n)/n}function Yd(t){const e=M.useRef(t);return ql(()=>{e.current=t}),e}function HM(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:o,floating:s}={},transform:a=!0,whileElementsMounted:u,open:c}=t,[d,f]=M.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[m,g]=M.useState(r);$u(m,r)||g(r);const[D,E]=M.useState(null),[C,v]=M.useState(null),_=M.useCallback(F=>{F!==O.current&&(O.current=F,E(F))},[]),k=M.useCallback(F=>{F!==T.current&&(T.current=F,v(F))},[]),A=o||D,N=s||C,O=M.useRef(null),T=M.useRef(null),y=M.useRef(d),S=u!=null,P=Yd(u),x=Yd(i),R=Yd(c),I=M.useCallback(()=>{if(!O.current||!T.current)return;const F={placement:e,strategy:n,middleware:m};x.current&&(F.platform=x.current),WM(O.current,T.current,F).then(q=>{const J={...q,isPositioned:R.current!==!1};Z.current&&!$u(y.current,J)&&(y.current=J,vp.flushSync(()=>{f(J)}))})},[m,e,n,x,R]);ql(()=>{c===!1&&y.current.isPositioned&&(y.current.isPositioned=!1,f(F=>({...F,isPositioned:!1})))},[c]);const Z=M.useRef(!1);ql(()=>(Z.current=!0,()=>{Z.current=!1}),[]),ql(()=>{if(A&&(O.current=A),N&&(T.current=N),A&&N){if(P.current)return P.current(A,N,I);I()}},[A,N,I,P,S]);const ne=M.useMemo(()=>({reference:O,floating:T,setReference:_,setFloating:k}),[_,k]),X=M.useMemo(()=>({reference:A,floating:N}),[A,N]),te=M.useMemo(()=>{const F={position:n,left:0,top:0};if(!X.floating)return F;const q=Mv(X.floating,d.x),J=Mv(X.floating,d.y);return a?{...F,transform:"translate("+q+"px, "+J+"px)",...M1(X.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:q,top:J}},[n,a,X.floating,d.x,d.y]);return M.useMemo(()=>({...d,update:I,refs:ne,elements:X,floatingStyles:te}),[d,I,ne,X,te])}const qM=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?bv({element:r.current,padding:i}).fn(n):{}:r?bv({element:r,padding:i}).fn(n):{}}}},QM=(t,e)=>({...$M(t),options:[t,e]}),KM=(t,e)=>({...YM(t),options:[t,e]}),GM=(t,e)=>({...qM(t),options:[t,e]}),N1={...I_},XM=N1.useInsertionEffect,JM=XM||(t=>t());function ZM(t){const e=M.useRef(()=>{});return JM(()=>{e.current=t}),M.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e.current==null?void 0:e.current(...r)},[])}var Yu=typeof document<"u"?M.useLayoutEffect:M.useEffect;function vf(){return vf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vf.apply(this,arguments)}let Nv=!1,eN=0;const Ov=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+eN++;function tN(){const[t,e]=M.useState(()=>Nv?Ov():void 0);return Yu(()=>{t==null&&e(Ov())},[]),M.useEffect(()=>{Nv=!0},[]),t}const nN=N1.useId,O1=nN||tN,rN=M.forwardRef(function(e,n){const{context:{placement:r,elements:{floating:i},middlewareData:{arrow:o,shift:s}},width:a=14,height:u=7,tipRadius:c=0,strokeWidth:d=0,staticOffset:f,stroke:m,d:g,style:{transform:D,...E}={},...C}=e,v=O1(),[_,k]=M.useState(!1);if(Yu(()=>{if(!i)return;sn(i).direction==="rtl"&&k(!0)},[i]),!i)return null;const[A,N]=r.split("-"),O=A==="top"||A==="bottom";let T=f;(O&&s!=null&&s.x||!O&&s!=null&&s.y)&&(T=null);const y=d*2,S=y/2,P=a/2*(c/-8+1),x=u/2*c/4,R=!!g,I=T&&N==="end"?"bottom":"top";let Z=T&&N==="end"?"right":"left";T&&_&&(Z=N==="end"?"left":"right");const ne=(o==null?void 0:o.x)!=null?T||o.x:"",X=(o==null?void 0:o.y)!=null?T||o.y:"",te=g||"M0,0"+(" H"+a)+(" L"+(a-P)+","+(u-x))+(" Q"+a/2+","+u+" "+P+","+(u-x))+" Z",F={top:R?"rotate(180deg)":"",left:R?"rotate(90deg)":"rotate(-90deg)",bottom:R?"":"rotate(180deg)",right:R?"rotate(-90deg)":"rotate(90deg)"}[A];return M.createElement("svg",vf({},C,{"aria-hidden":!0,ref:n,width:R?a:a+y,height:a,viewBox:"0 0 "+a+" "+(u>a?u:a),style:{position:"absolute",pointerEvents:"none",[Z]:ne,[I]:X,[A]:O||R?"100%":"calc(100% - "+y/2+"px)",transform:[F,D].filter(q=>!!q).join(" "),...E}}),y>0&&M.createElement("path",{clipPath:"url(#"+v+")",fill:"none",stroke:m,strokeWidth:y+(g?0:1),d:te}),M.createElement("path",{stroke:y&&!g?C.fill:"none",d:te}),M.createElement("clipPath",{id:v},M.createElement("rect",{x:-S,y:S*(R?-1:1),width:a+y,height:a})))});function iN(){const t=new Map;return{emit(e,n){var r;(r=t.get(e))==null||r.forEach(i=>i(n))},on(e,n){t.set(e,[...t.get(e)||[],n])},off(e,n){var r;t.set(e,((r=t.get(e))==null?void 0:r.filter(i=>i!==n))||[])}}}const oN=M.createContext(null),sN=M.createContext(null),aN=()=>{var t;return((t=M.useContext(oN))==null?void 0:t.id)||null},lN=()=>M.useContext(sN);function uN(t){const{open:e=!1,onOpenChange:n,elements:r}=t,i=O1(),o=M.useRef({}),[s]=M.useState(()=>iN()),a=aN()!=null,[u,c]=M.useState(r.reference),d=ZM((g,D,E)=>{o.current.openEvent=g?D:void 0,s.emit("openchange",{open:g,event:D,reason:E,nested:a}),n==null||n(g,D,E)}),f=M.useMemo(()=>({setPositionReference:c}),[]),m=M.useMemo(()=>({reference:u||r.reference||null,floating:r.floating||null,domReference:r.reference}),[u,r.reference,r.floating]);return M.useMemo(()=>({dataRef:o,open:e,onOpenChange:d,elements:m,events:s,floatingId:i,refs:f}),[e,d,m,s,i,f])}function cN(t){t===void 0&&(t={});const{nodeId:e}=t,n=uN({...t,elements:{reference:null,floating:null,...t.elements}}),r=t.rootContext||n,i=r.elements,[o,s]=M.useState(null),[a,u]=M.useState(null),d=(i==null?void 0:i.domReference)||o,f=M.useRef(null),m=lN();Yu(()=>{d&&(f.current=d)},[d]);const g=HM({...t,elements:{...i,...a&&{reference:a}}}),D=M.useCallback(k=>{const A=It(k)?{getBoundingClientRect:()=>k.getBoundingClientRect(),contextElement:k}:k;u(A),g.refs.setReference(A)},[g.refs]),E=M.useCallback(k=>{(It(k)||k===null)&&(f.current=k,s(k)),(It(g.refs.reference.current)||g.refs.reference.current===null||k!==null&&!It(k))&&g.refs.setReference(k)},[g.refs]),C=M.useMemo(()=>({...g.refs,setReference:E,setPositionReference:D,domReference:f}),[g.refs,E,D]),v=M.useMemo(()=>({...g.elements,domReference:d}),[g.elements,d]),_=M.useMemo(()=>({...g,...r,refs:C,elements:v,nodeId:e}),[g,C,v,e,r]);return Yu(()=>{r.dataRef.current.floatingContext=_;const k=m==null?void 0:m.nodesRef.current.find(A=>A.id===e);k&&(k.context=_)}),M.useMemo(()=>({...g,context:_,refs:C,elements:v}),[g,C,v,_])}/*!
  react-datepicker v7.5.0
  https://github.com/Hacker0x01/react-datepicker
  Released under the MIT License.
*/var _f=function(e,n){return _f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},_f(e,n)};function it(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");_f(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var pe=function(){return pe=Object.assign||function(n){for(var r,i=1,o=arguments.length;i<o;i++){r=arguments[i];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(n[s]=r[s])}return n},pe.apply(this,arguments)};function kn(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))}var dN=function(t){var e=t.showTimeSelectOnly,n=e===void 0?!1:e,r=t.showTime,i=r===void 0?!1:r,o=t.className,s=t.children,a=n?"Choose Time":"Choose Date".concat(i?" and Time":"");return V.createElement("div",{className:o,role:"dialog","aria-label":a,"aria-modal":"true"},s)},hN=function(t,e){var n=M.useRef(null),r=M.useRef(t);r.current=t;var i=M.useCallback(function(o){var s;n.current&&!n.current.contains(o.target)&&(e&&o.target instanceof HTMLElement&&o.target.classList.contains(e)||(s=r.current)===null||s===void 0||s.call(r,o))},[e]);return M.useEffect(function(){return document.addEventListener("mousedown",i),function(){document.removeEventListener("mousedown",i)}},[i]),n},bc=function(t){var e=t.children,n=t.onClickOutside,r=t.className,i=t.containerRef,o=t.style,s=t.ignoreClass,a=hN(n,s);return V.createElement("div",{className:r,style:o,ref:function(u){a.current=u,i&&(i.current=u)}},e)},Y;(function(t){t.ArrowUp="ArrowUp",t.ArrowDown="ArrowDown",t.ArrowLeft="ArrowLeft",t.ArrowRight="ArrowRight",t.PageUp="PageUp",t.PageDown="PageDown",t.Home="Home",t.End="End",t.Enter="Enter",t.Space=" ",t.Tab="Tab",t.Escape="Escape",t.Backspace="Backspace",t.X="x"})(Y||(Y={}));function L1(){var t=typeof window<"u"?window:globalThis;return t}var Pa=12,fN=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g;function Te(t){if(t==null)return new Date;var e=typeof t=="string"?VI(t):W(t);return Wn(e)?e:new Date}function Wd(t,e,n,r,i){var o,s=null,a=di(n)||di(Us()),u=!0;if(Array.isArray(e))return e.forEach(function(d){var f=bd(t,d,new Date,{locale:a,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});r&&(u=Wn(f,i)&&t===xe(f,d,n)),Wn(f,i)&&u&&(s=f)}),s;if(s=bd(t,e,new Date,{locale:a,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0}),r)u=Wn(s)&&t===xe(s,e,n);else if(!Wn(s)){var c=((o=e.match(fN))!==null&&o!==void 0?o:[]).map(function(d){var f=d[0];if(f==="p"||f==="P"){var m=ku[f];return a?m(d,a.formatLong):f}return d}).join("");t.length>0&&(s=bd(t,c.slice(0,t.length),new Date,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})),Wn(s)||(s=new Date(t))}return Wn(s)&&u?s:null}function Wn(t,e){return Eu(t)&&!vi(t,e??new Date("1/1/1800"))}function xe(t,e,n){if(n==="en")return ro(t,e,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});var r=n?di(n):void 0;return n&&!r&&console.warn('A locale object was not found for the provided string ["'.concat(n,'"].')),!r&&Us()&&di(Us())&&(r=di(Us())),ro(t,e,{locale:r,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})}function Gt(t,e){var n=e.dateFormat,r=e.locale,i=Array.isArray(n)&&n.length>0?n[0]:n;return t&&xe(t,i,r)||""}function pN(t,e,n){if(!t)return"";var r=Gt(t,n),i=e?Gt(e,n):"";return"".concat(r," - ").concat(i)}function mN(t,e){if(!(t!=null&&t.length))return"";var n=t[0]?Gt(t[0],e):"";if(t.length===1)return n;if(t.length===2&&t[1]){var r=Gt(t[1],e);return"".concat(n,", ").concat(r)}var i=t.length-1;return"".concat(n," (+").concat(i,")")}function Hd(t,e){var n=e.hour,r=n===void 0?0:n,i=e.minute,o=i===void 0?0:i,s=e.second,a=s===void 0?0:s;return Fl(Bl(Ul(t,a),o),r)}function gN(t){return Sp(t)}function yN(t,e){return xe(t,"ddd",e)}function Ql(t){return yi(t)}function Nr(t,e,n){var r=di(e||Us());return $t(t,{locale:r,weekStartsOn:n})}function Jn(t){return Tp(t)}function ks(t){return hc(t)}function Lv(t){return Wh(t)}function Vv(){return yi(Te())}function Fv(t){return bw(t)}function vN(t){return zk(t)}function _N(t){return Ep(t)}function En(t,e){return t&&e?OI(t,e):!t&&!e}function kt(t,e){return t&&e?MI(t,e):!t&&!e}function Wu(t,e){return t&&e?NI(t,e):!t&&!e}function he(t,e){return t&&e?Bk(t,e):!t&&!e}function oi(t,e){return t&&e?FC(t,e):!t&&!e}function Cs(t,e,n){var r,i=yi(e),o=bw(n);try{r=oa(t,{start:i,end:o})}catch{r=!1}return r}function Us(){var t=L1();return t.__localeId__}function di(t){if(typeof t=="string"){var e=L1();return e.__localeData__?e.__localeData__[t]:void 0}else return t}function wN(t,e,n){return e(xe(t,"EEEE",n))}function EN(t,e){return xe(t,"EEEEEE",e)}function TN(t,e){return xe(t,"EEE",e)}function cm(t,e){return xe(jt(Te(),t),"LLLL",e)}function V1(t,e){return xe(jt(Te(),t),"LLL",e)}function SN(t,e){return xe(Ni(Te(),t),"QQQ",e)}function Zt(t,e){var n=e===void 0?{}:e,r=n.minDate,i=n.maxDate,o=n.excludeDates,s=n.excludeDateIntervals,a=n.includeDates,u=n.includeDateIntervals,c=n.filterDate;return Ra(t,{minDate:r,maxDate:i})||o&&o.some(function(d){return d instanceof Date?he(t,d):he(t,d.date)})||s&&s.some(function(d){var f=d.start,m=d.end;return oa(t,{start:f,end:m})})||a&&!a.some(function(d){return he(t,d)})||u&&!u.some(function(d){var f=d.start,m=d.end;return oa(t,{start:f,end:m})})||c&&!c(Te(t))||!1}function dm(t,e){var n=e===void 0?{}:e,r=n.excludeDates,i=n.excludeDateIntervals;return i&&i.length>0?i.some(function(o){var s=o.start,a=o.end;return oa(t,{start:s,end:a})}):r&&r.some(function(o){var s;return o instanceof Date?he(t,o):he(t,(s=o.date)!==null&&s!==void 0?s:new Date)})||!1}function F1(t,e){var n=e===void 0?{}:e,r=n.minDate,i=n.maxDate,o=n.excludeDates,s=n.includeDates,a=n.filterDate;return Ra(t,{minDate:r?Tp(r):void 0,maxDate:i?Ep(i):void 0})||(o==null?void 0:o.some(function(u){return kt(t,u instanceof Date?u:u.date)}))||s&&!s.some(function(u){return kt(t,u)})||a&&!a(Te(t))||!1}function El(t,e,n,r){var i=ae(t),o=Ct(t),s=ae(e),a=Ct(e),u=ae(r);return i===s&&i===u?o<=n&&n<=a:i<s?u===i&&o<=n||u===s&&a>=n||u<s&&u>i:!1}function DN(t,e){var n=e===void 0?{}:e,r=n.minDate,i=n.maxDate,o=n.excludeDates,s=n.includeDates;return Ra(t,{minDate:r,maxDate:i})||o&&o.some(function(a){return kt(a instanceof Date?a:a.date,t)})||s&&!s.some(function(a){return kt(a,t)})||!1}function Tl(t,e){var n=e===void 0?{}:e,r=n.minDate,i=n.maxDate,o=n.excludeDates,s=n.includeDates,a=n.filterDate;return Ra(t,{minDate:r,maxDate:i})||(o==null?void 0:o.some(function(u){return Wu(t,u instanceof Date?u:u.date)}))||s&&!s.some(function(u){return Wu(t,u)})||a&&!a(Te(t))||!1}function Sl(t,e,n){if(!e||!n||!Eu(e)||!Eu(n))return!1;var r=ae(e),i=ae(n);return r<=t&&i>=t}function Kl(t,e){var n=e===void 0?{}:e,r=n.minDate,i=n.maxDate,o=n.excludeDates,s=n.includeDates,a=n.filterDate,u=new Date(t,0,1);return Ra(u,{minDate:r?hc(r):void 0,maxDate:i?Mw(i):void 0})||(o==null?void 0:o.some(function(c){return En(u,c instanceof Date?c:c.date)}))||s&&!s.some(function(c){return En(u,c)})||a&&!a(Te(u))||!1}function Dl(t,e,n,r){var i=ae(t),o=li(t),s=ae(e),a=li(e),u=ae(r);return i===s&&i===u?o<=n&&n<=a:i<s?u===i&&o<=n||u===s&&a>=n||u<s&&u>i:!1}function Ra(t,e){var n,r=e===void 0?{}:e,i=r.minDate,o=r.maxDate;return(n=i&&_o(t,i)<0||o&&_o(t,o)>0)!==null&&n!==void 0?n:!1}function Bv(t,e){return e.some(function(n){return Pn(n)===Pn(t)&&Rn(n)===Rn(t)&&Xn(n)===Xn(t)})}function Uv(t,e){var n=e===void 0?{}:e,r=n.excludeTimes,i=n.includeTimes,o=n.filterTime;return r&&Bv(t,r)||i&&!Bv(t,i)||o&&!o(t)||!1}function jv(t,e){var n=e.minTime,r=e.maxTime;if(!n||!r)throw new Error("Both minTime and maxTime props required");var i=Te();i=Fl(i,Pn(t)),i=Bl(i,Rn(t)),i=Ul(i,Xn(t));var o=Te();o=Fl(o,Pn(n)),o=Bl(o,Rn(n)),o=Ul(o,Xn(n));var s=Te();s=Fl(s,Pn(r)),s=Bl(s,Rn(r)),s=Ul(s,Xn(r));var a;try{a=!oa(i,{start:o,end:s})}catch{a=!1}return a}function zv(t,e){var n=e===void 0?{}:e,r=n.minDate,i=n.includeDates,o=wo(t,1);return r&&Tu(r,o)>0||i&&i.every(function(s){return Tu(s,o)>0})||!1}function $v(t,e){var n=e===void 0?{}:e,r=n.maxDate,i=n.includeDates,o=gn(t,1);return r&&Tu(o,r)>0||i&&i.every(function(s){return Tu(o,s)>0})||!1}function kN(t,e){var n=e===void 0?{}:e,r=n.minDate,i=n.includeDates,o=hc(t),s=Yw(o,1);return r&&Su(r,s)>0||i&&i.every(function(a){return Su(a,s)>0})||!1}function CN(t,e){var n=e===void 0?{}:e,r=n.maxDate,i=n.includeDates,o=Mw(t),s=wp(o,1);return r&&Su(s,r)>0||i&&i.every(function(a){return Su(s,a)>0})||!1}function Yv(t,e){var n=e===void 0?{}:e,r=n.minDate,i=n.includeDates,o=Eo(t,1);return r&&Du(r,o)>0||i&&i.every(function(s){return Du(s,o)>0})||!1}function IN(t,e){var n=e===void 0?{}:e,r=n.minDate,i=n.yearItemNumber,o=i===void 0?Pa:i,s=ks(Eo(t,o)),a=wr(s,o).endPeriod,u=r&&ae(r);return u&&u>a||!1}function Wv(t,e){var n=e===void 0?{}:e,r=n.maxDate,i=n.includeDates,o=Kn(t,1);return r&&Du(o,r)>0||i&&i.every(function(s){return Du(o,s)>0})||!1}function PN(t,e){var n=e===void 0?{}:e,r=n.maxDate,i=n.yearItemNumber,o=i===void 0?Pa:i,s=Kn(t,o),a=wr(s,o).startPeriod,u=r&&ae(r);return u&&u<a||!1}function B1(t){var e=t.minDate,n=t.includeDates;if(n&&e){var r=n.filter(function(i){return _o(i,e)>=0});return Ty(r)}else return n?Ty(n):e}function U1(t){var e=t.maxDate,n=t.includeDates;if(n&&e){var r=n.filter(function(i){return _o(i,e)<=0});return Ey(r)}else return n?Ey(n):e}function Hv(t,e){var n;t===void 0&&(t=[]),e===void 0&&(e="react-datepicker__day--highlighted");for(var r=new Map,i=0,o=t.length;i<o;i++){var s=t[i];if(Gn(s)){var a=xe(s,"MM.dd.yyyy"),u=r.get(a)||[];u.includes(e)||(u.push(e),r.set(a,u))}else if(typeof s=="object"){var c=Object.keys(s),d=(n=c[0])!==null&&n!==void 0?n:"",f=s[d];if(typeof d=="string"&&Array.isArray(f))for(var m=0,g=f.length;m<g;m++){var D=f[m];if(D){var a=xe(D,"MM.dd.yyyy"),u=r.get(a)||[];u.includes(d)||(u.push(d),r.set(a,u))}}}}return r}function RN(t,e){return t.length!==e.length?!1:t.every(function(n,r){return n===e[r]})}function xN(t,e){t===void 0&&(t=[]),e===void 0&&(e="react-datepicker__day--holidays");var n=new Map;return t.forEach(function(r){var i=r.date,o=r.holidayName;if(Gn(i)){var s=xe(i,"MM.dd.yyyy"),a=n.get(s)||{className:"",holidayNames:[]};if(!("className"in a&&a.className===e&&RN(a.holidayNames,[o]))){a.className=e;var u=a.holidayNames;a.holidayNames=u?kn(kn([],u,!0),[o],!1):[o],n.set(s,a)}}}),n}function AN(t,e,n,r,i){for(var o=i.length,s=[],a=0;a<o;a++){var u=t,c=i[a];c&&(u=Ok(u,Pn(c)),u=Yh(u,Rn(c)),u=Fk(u,Xn(c)));var d=Yh(t,(n+1)*r);Vr(u,e)&&vi(u,d)&&c!=null&&s.push(c)}return s}function qv(t){return t<10?"0".concat(t):"".concat(t)}function wr(t,e){e===void 0&&(e=Pa);var n=Math.ceil(ae(t)/e)*e,r=n-(e-1);return{startPeriod:r,endPeriod:n}}function bN(t){var e=new Date(t.getFullYear(),t.getMonth(),t.getDate()),n=new Date(t.getFullYear(),t.getMonth(),t.getDate(),24);return Math.round((+n-+e)/36e5)}function Qv(t){var e=t.getSeconds(),n=t.getMilliseconds();return W(t.getTime()-e*1e3-n)}function MN(t,e){return Qv(t).getTime()===Qv(e).getTime()}function Kv(t){if(!Gn(t))throw new Error("Invalid date");var e=new Date(t);return e.setHours(0,0,0,0),e}function Gv(t,e){if(!Gn(t)||!Gn(e))throw new Error("Invalid date received");var n=Kv(t),r=Kv(e);return vi(n,r)}function j1(t){return t.key===Y.Space}var NN=function(t){it(e,t);function e(n){var r=t.call(this,n)||this;return r.inputRef=V.createRef(),r.onTimeChange=function(i){var o,s;r.setState({time:i});var a=r.props.date,u=a instanceof Date&&!isNaN(+a),c=u?a:new Date;if(i!=null&&i.includes(":")){var d=i.split(":"),f=d[0],m=d[1];c.setHours(Number(f)),c.setMinutes(Number(m))}(s=(o=r.props).onChange)===null||s===void 0||s.call(o,c)},r.renderTimeInput=function(){var i=r.state.time,o=r.props,s=o.date,a=o.timeString,u=o.customTimeInput;return u?M.cloneElement(u,{date:s,value:i,onChange:r.onTimeChange}):V.createElement("input",{type:"time",className:"react-datepicker-time__input",placeholder:"Time",name:"time-input",ref:r.inputRef,onClick:function(){var c;(c=r.inputRef.current)===null||c===void 0||c.focus()},required:!0,value:i,onChange:function(c){r.onTimeChange(c.target.value||a)}})},r.state={time:r.props.timeString},r}return e.getDerivedStateFromProps=function(n,r){return n.timeString!==r.time?{time:n.timeString}:null},e.prototype.render=function(){return V.createElement("div",{className:"react-datepicker__input-time-container"},V.createElement("div",{className:"react-datepicker-time__caption"},this.props.timeInputLabel),V.createElement("div",{className:"react-datepicker-time__input-container"},V.createElement("div",{className:"react-datepicker-time__input"},this.renderTimeInput())))},e}(M.Component),ON=function(t){it(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.dayEl=M.createRef(),n.handleClick=function(r){!n.isDisabled()&&n.props.onClick&&n.props.onClick(r)},n.handleMouseEnter=function(r){!n.isDisabled()&&n.props.onMouseEnter&&n.props.onMouseEnter(r)},n.handleOnKeyDown=function(r){var i,o,s=r.key;s===Y.Space&&(r.preventDefault(),r.key=Y.Enter),(o=(i=n.props).handleOnKeyDown)===null||o===void 0||o.call(i,r)},n.isSameDay=function(r){return he(n.props.day,r)},n.isKeyboardSelected=function(){var r;if(n.props.disabledKeyboardNavigation)return!1;var i=n.props.selectsMultiple?(r=n.props.selectedDates)===null||r===void 0?void 0:r.some(function(s){return n.isSameDayOrWeek(s)}):n.isSameDayOrWeek(n.props.selected),o=n.props.preSelection&&n.isDisabled(n.props.preSelection);return!i&&n.isSameDayOrWeek(n.props.preSelection)&&!o},n.isDisabled=function(r){return r===void 0&&(r=n.props.day),Zt(r,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals,includeDateIntervals:n.props.includeDateIntervals,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.isExcluded=function(){return dm(n.props.day,{excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals})},n.isStartOfWeek=function(){return he(n.props.day,Nr(n.props.day,n.props.locale,n.props.calendarStartDay))},n.isSameWeek=function(r){return n.props.showWeekPicker&&he(r,Nr(n.props.day,n.props.locale,n.props.calendarStartDay))},n.isSameDayOrWeek=function(r){return n.isSameDay(r)||n.isSameWeek(r)},n.getHighLightedClass=function(){var r=n.props,i=r.day,o=r.highlightDates;if(!o)return!1;var s=xe(i,"MM.dd.yyyy");return o.get(s)},n.getHolidaysClass=function(){var r,i=n.props,o=i.day,s=i.holidays;if(!s)return[void 0];var a=xe(o,"MM.dd.yyyy");return s.has(a)?[(r=s.get(a))===null||r===void 0?void 0:r.className]:[void 0]},n.isInRange=function(){var r=n.props,i=r.day,o=r.startDate,s=r.endDate;return!o||!s?!1:Cs(i,o,s)},n.isInSelectingRange=function(){var r,i=n.props,o=i.day,s=i.selectsStart,a=i.selectsEnd,u=i.selectsRange,c=i.selectsDisabledDaysInRange,d=i.startDate,f=i.endDate,m=(r=n.props.selectingDate)!==null&&r!==void 0?r:n.props.preSelection;return!(s||a||u)||!m||!c&&n.isDisabled()?!1:s&&f&&(vi(m,f)||oi(m,f))?Cs(o,m,f):a&&d&&(Vr(m,d)||oi(m,d))||u&&d&&!f&&(Vr(m,d)||oi(m,d))?Cs(o,d,m):!1},n.isSelectingRangeStart=function(){var r;if(!n.isInSelectingRange())return!1;var i=n.props,o=i.day,s=i.startDate,a=i.selectsStart,u=(r=n.props.selectingDate)!==null&&r!==void 0?r:n.props.preSelection;return a?he(o,u):he(o,s)},n.isSelectingRangeEnd=function(){var r;if(!n.isInSelectingRange())return!1;var i=n.props,o=i.day,s=i.endDate,a=i.selectsEnd,u=i.selectsRange,c=(r=n.props.selectingDate)!==null&&r!==void 0?r:n.props.preSelection;return a||u?he(o,c):he(o,s)},n.isRangeStart=function(){var r=n.props,i=r.day,o=r.startDate,s=r.endDate;return!o||!s?!1:he(o,i)},n.isRangeEnd=function(){var r=n.props,i=r.day,o=r.startDate,s=r.endDate;return!o||!s?!1:he(s,i)},n.isWeekend=function(){var r=NC(n.props.day);return r===0||r===6},n.isAfterMonth=function(){return n.props.month!==void 0&&(n.props.month+1)%12===Ct(n.props.day)},n.isBeforeMonth=function(){return n.props.month!==void 0&&(Ct(n.props.day)+1)%12===n.props.month},n.isCurrentDay=function(){return n.isSameDay(Te())},n.isSelected=function(){var r;return n.props.selectsMultiple?(r=n.props.selectedDates)===null||r===void 0?void 0:r.some(function(i){return n.isSameDayOrWeek(i)}):n.isSameDayOrWeek(n.props.selected)},n.getClassNames=function(r){var i=n.props.dayClassName?n.props.dayClassName(r):void 0;return nt("react-datepicker__day",i,"react-datepicker__day--"+yN(n.props.day),{"react-datepicker__day--disabled":n.isDisabled(),"react-datepicker__day--excluded":n.isExcluded(),"react-datepicker__day--selected":n.isSelected(),"react-datepicker__day--keyboard-selected":n.isKeyboardSelected(),"react-datepicker__day--range-start":n.isRangeStart(),"react-datepicker__day--range-end":n.isRangeEnd(),"react-datepicker__day--in-range":n.isInRange(),"react-datepicker__day--in-selecting-range":n.isInSelectingRange(),"react-datepicker__day--selecting-range-start":n.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":n.isSelectingRangeEnd(),"react-datepicker__day--today":n.isCurrentDay(),"react-datepicker__day--weekend":n.isWeekend(),"react-datepicker__day--outside-month":n.isAfterMonth()||n.isBeforeMonth()},n.getHighLightedClass(),n.getHolidaysClass())},n.getAriaLabel=function(){var r=n.props,i=r.day,o=r.ariaLabelPrefixWhenEnabled,s=o===void 0?"Choose":o,a=r.ariaLabelPrefixWhenDisabled,u=a===void 0?"Not available":a,c=n.isDisabled()||n.isExcluded()?u:s;return"".concat(c," ").concat(xe(i,"PPPP",n.props.locale))},n.getTitle=function(){var r=n.props,i=r.day,o=r.holidays,s=o===void 0?new Map:o,a=r.excludeDates,u=xe(i,"MM.dd.yyyy"),c=[];return s.has(u)&&c.push.apply(c,s.get(u).holidayNames),n.isExcluded()&&c.push(a==null?void 0:a.filter(function(d){return d instanceof Date?he(d,i):he(d==null?void 0:d.date,i)}).map(function(d){if(!(d instanceof Date))return d==null?void 0:d.message})),c.join(", ")},n.getTabIndex=function(){var r=n.props.selected,i=n.props.preSelection,o=!(n.props.showWeekPicker&&(n.props.showWeekNumber||!n.isStartOfWeek()))&&(n.isKeyboardSelected()||n.isSameDay(r)&&he(i,r))?0:-1;return o},n.handleFocusDay=function(){var r;n.shouldFocusDay()&&((r=n.dayEl.current)===null||r===void 0||r.focus({preventScroll:!0}))},n.renderDayContents=function(){return n.props.monthShowsDuplicateDaysEnd&&n.isAfterMonth()||n.props.monthShowsDuplicateDaysStart&&n.isBeforeMonth()?null:n.props.renderDayContents?n.props.renderDayContents(Py(n.props.day),n.props.day):Py(n.props.day)},n.render=function(){return V.createElement("div",{ref:n.dayEl,className:n.getClassNames(n.props.day),onKeyDown:n.handleOnKeyDown,onClick:n.handleClick,onMouseEnter:n.props.usePointerEvent?void 0:n.handleMouseEnter,onPointerEnter:n.props.usePointerEvent?n.handleMouseEnter:void 0,tabIndex:n.getTabIndex(),"aria-label":n.getAriaLabel(),role:"option",title:n.getTitle(),"aria-disabled":n.isDisabled(),"aria-current":n.isCurrentDay()?"date":void 0,"aria-selected":n.isSelected()||n.isInRange()},n.renderDayContents(),n.getTitle()!==""&&V.createElement("span",{className:"overlay"},n.getTitle()))},n}return e.prototype.componentDidMount=function(){this.handleFocusDay()},e.prototype.componentDidUpdate=function(){this.handleFocusDay()},e.prototype.shouldFocusDay=function(){var n=!1;return this.getTabIndex()===0&&this.isSameDay(this.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(n=!0),this.props.inline&&!this.props.shouldFocusDayInline&&(n=!1),this.isDayActiveElement()&&(n=!0),this.isDuplicateDay()&&(n=!1)),n},e.prototype.isDayActiveElement=function(){var n,r,i;return((r=(n=this.props.containerRef)===null||n===void 0?void 0:n.current)===null||r===void 0?void 0:r.contains(document.activeElement))&&((i=document.activeElement)===null||i===void 0?void 0:i.classList.contains("react-datepicker__day"))},e.prototype.isDuplicateDay=function(){return this.props.monthShowsDuplicateDaysEnd&&this.isAfterMonth()||this.props.monthShowsDuplicateDaysStart&&this.isBeforeMonth()},e}(M.Component),LN=function(t){it(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.weekNumberEl=M.createRef(),n.handleClick=function(r){n.props.onClick&&n.props.onClick(r)},n.handleOnKeyDown=function(r){var i,o,s=r.key;s===Y.Space&&(r.preventDefault(),r.key=Y.Enter),(o=(i=n.props).handleOnKeyDown)===null||o===void 0||o.call(i,r)},n.isKeyboardSelected=function(){return!n.props.disabledKeyboardNavigation&&!he(n.props.date,n.props.selected)&&he(n.props.date,n.props.preSelection)},n.getTabIndex=function(){return n.props.showWeekPicker&&n.props.showWeekNumber&&(n.isKeyboardSelected()||he(n.props.date,n.props.selected)&&he(n.props.preSelection,n.props.selected))?0:-1},n.handleFocusWeekNumber=function(r){var i=!1;n.getTabIndex()===0&&!(r!=null&&r.isInputFocused)&&he(n.props.date,n.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(i=!0),n.props.inline&&!n.props.shouldFocusDayInline&&(i=!1),n.props.containerRef&&n.props.containerRef.current&&n.props.containerRef.current.contains(document.activeElement)&&document.activeElement&&document.activeElement.classList.contains("react-datepicker__week-number")&&(i=!0)),i&&n.weekNumberEl.current&&n.weekNumberEl.current.focus({preventScroll:!0})},n}return Object.defineProperty(e,"defaultProps",{get:function(){return{ariaLabelPrefix:"week "}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){this.handleFocusWeekNumber()},e.prototype.componentDidUpdate=function(n){this.handleFocusWeekNumber(n)},e.prototype.render=function(){var n=this.props,r=n.weekNumber,i=n.ariaLabelPrefix,o=i===void 0?e.defaultProps.ariaLabelPrefix:i,s=n.onClick,a={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!s,"react-datepicker__week-number--selected":!!s&&he(this.props.date,this.props.selected),"react-datepicker__week-number--keyboard-selected":this.isKeyboardSelected()};return V.createElement("div",{ref:this.weekNumberEl,className:nt(a),"aria-label":"".concat(o," ").concat(this.props.weekNumber),onClick:this.handleClick,onKeyDown:this.handleOnKeyDown,tabIndex:this.getTabIndex()},r)},e}(M.Component),VN=function(t){it(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.isDisabled=function(r){return Zt(r,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals,includeDateIntervals:n.props.includeDateIntervals,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.handleDayClick=function(r,i){n.props.onDayClick&&n.props.onDayClick(r,i)},n.handleDayMouseEnter=function(r){n.props.onDayMouseEnter&&n.props.onDayMouseEnter(r)},n.handleWeekClick=function(r,i,o){for(var s,a,u,c=new Date(r),d=0;d<7;d++){var f=new Date(r);f.setDate(f.getDate()+d);var m=!n.isDisabled(f);if(m){c=f;break}}typeof n.props.onWeekSelect=="function"&&n.props.onWeekSelect(c,i,o),n.props.showWeekPicker&&n.handleDayClick(c,o),((s=n.props.shouldCloseOnSelect)!==null&&s!==void 0?s:e.defaultProps.shouldCloseOnSelect)&&((u=(a=n.props).setOpen)===null||u===void 0||u.call(a,!1))},n.formatWeekNumber=function(r){return n.props.formatWeekNumber?n.props.formatWeekNumber(r):gN(r)},n.renderDays=function(){var r=n.startOfWeek(),i=[],o=n.formatWeekNumber(r);if(n.props.showWeekNumber){var s=n.props.onWeekSelect||n.props.showWeekPicker?n.handleWeekClick.bind(n,r,o):void 0;i.push(V.createElement(LN,pe({key:"W"},e.defaultProps,n.props,{weekNumber:o,date:r,onClick:s})))}return i.concat([0,1,2,3,4,5,6].map(function(a){var u=rr(r,a);return V.createElement(ON,pe({},e.defaultProps,n.props,{ariaLabelPrefixWhenEnabled:n.props.chooseDayAriaLabelPrefix,ariaLabelPrefixWhenDisabled:n.props.disabledDayAriaLabelPrefix,key:u.valueOf(),day:u,onClick:n.handleDayClick.bind(n,u),onMouseEnter:n.handleDayMouseEnter.bind(n,u)}))}))},n.startOfWeek=function(){return Nr(n.props.day,n.props.locale,n.props.calendarStartDay)},n.isKeyboardSelected=function(){return!n.props.disabledKeyboardNavigation&&!he(n.startOfWeek(),n.props.selected)&&he(n.startOfWeek(),n.props.preSelection)},n}return Object.defineProperty(e,"defaultProps",{get:function(){return{shouldCloseOnSelect:!0}},enumerable:!1,configurable:!0}),e.prototype.render=function(){var n={"react-datepicker__week":!0,"react-datepicker__week--selected":he(this.startOfWeek(),this.props.selected),"react-datepicker__week--keyboard-selected":this.isKeyboardSelected()};return V.createElement("div",{className:nt(n)},this.renderDays())},e}(M.Component),gs,FN=6,ao={TWO_COLUMNS:"two_columns",THREE_COLUMNS:"three_columns",FOUR_COLUMNS:"four_columns"},qd=(gs={},gs[ao.TWO_COLUMNS]={grid:[[0,1],[2,3],[4,5],[6,7],[8,9],[10,11]],verticalNavigationOffset:2},gs[ao.THREE_COLUMNS]={grid:[[0,1,2],[3,4,5],[6,7,8],[9,10,11]],verticalNavigationOffset:3},gs[ao.FOUR_COLUMNS]={grid:[[0,1,2,3],[4,5,6,7],[8,9,10,11]],verticalNavigationOffset:4},gs),kl=1;function Xv(t,e){return t?ao.FOUR_COLUMNS:e?ao.TWO_COLUMNS:ao.THREE_COLUMNS}var BN=function(t){it(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.MONTH_REFS=kn([],Array(12),!0).map(function(){return M.createRef()}),n.QUARTER_REFS=kn([],Array(4),!0).map(function(){return M.createRef()}),n.isDisabled=function(r){return Zt(r,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals,includeDateIntervals:n.props.includeDateIntervals,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.isExcluded=function(r){return dm(r,{excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals})},n.handleDayClick=function(r,i){var o,s;(s=(o=n.props).onDayClick)===null||s===void 0||s.call(o,r,i,n.props.orderInDisplay)},n.handleDayMouseEnter=function(r){var i,o;(o=(i=n.props).onDayMouseEnter)===null||o===void 0||o.call(i,r)},n.handleMouseLeave=function(){var r,i;(i=(r=n.props).onMouseLeave)===null||i===void 0||i.call(r)},n.isRangeStartMonth=function(r){var i=n.props,o=i.day,s=i.startDate,a=i.endDate;return!s||!a?!1:kt(jt(o,r),s)},n.isRangeStartQuarter=function(r){var i=n.props,o=i.day,s=i.startDate,a=i.endDate;return!s||!a?!1:Wu(Ni(o,r),s)},n.isRangeEndMonth=function(r){var i=n.props,o=i.day,s=i.startDate,a=i.endDate;return!s||!a?!1:kt(jt(o,r),a)},n.isRangeEndQuarter=function(r){var i=n.props,o=i.day,s=i.startDate,a=i.endDate;return!s||!a?!1:Wu(Ni(o,r),a)},n.isInSelectingRangeMonth=function(r){var i,o=n.props,s=o.day,a=o.selectsStart,u=o.selectsEnd,c=o.selectsRange,d=o.startDate,f=o.endDate,m=(i=n.props.selectingDate)!==null&&i!==void 0?i:n.props.preSelection;return!(a||u||c)||!m?!1:a&&f?El(m,f,r,s):u&&d||c&&d&&!f?El(d,m,r,s):!1},n.isSelectingMonthRangeStart=function(r){var i;if(!n.isInSelectingRangeMonth(r))return!1;var o=n.props,s=o.day,a=o.startDate,u=o.selectsStart,c=jt(s,r),d=(i=n.props.selectingDate)!==null&&i!==void 0?i:n.props.preSelection;return u?kt(c,d):kt(c,a)},n.isSelectingMonthRangeEnd=function(r){var i;if(!n.isInSelectingRangeMonth(r))return!1;var o=n.props,s=o.day,a=o.endDate,u=o.selectsEnd,c=o.selectsRange,d=jt(s,r),f=(i=n.props.selectingDate)!==null&&i!==void 0?i:n.props.preSelection;return u||c?kt(d,f):kt(d,a)},n.isInSelectingRangeQuarter=function(r){var i,o=n.props,s=o.day,a=o.selectsStart,u=o.selectsEnd,c=o.selectsRange,d=o.startDate,f=o.endDate,m=(i=n.props.selectingDate)!==null&&i!==void 0?i:n.props.preSelection;return!(a||u||c)||!m?!1:a&&f?Dl(m,f,r,s):u&&d||c&&d&&!f?Dl(d,m,r,s):!1},n.isWeekInMonth=function(r){var i=n.props.day,o=rr(r,6);return kt(r,i)||kt(o,i)},n.isCurrentMonth=function(r,i){return ae(r)===ae(Te())&&i===Ct(Te())},n.isCurrentQuarter=function(r,i){return ae(r)===ae(Te())&&i===li(Te())},n.isSelectedMonth=function(r,i,o){return Ct(o)===i&&ae(r)===ae(o)},n.isSelectMonthInList=function(r,i,o){return o.some(function(s){return n.isSelectedMonth(r,i,s)})},n.isSelectedQuarter=function(r,i,o){return li(r)===i&&ae(r)===ae(o)},n.renderWeeks=function(){for(var r=[],i=n.props.fixedHeight,o=0,s=!1,a=Nr(Jn(n.props.day),n.props.locale,n.props.calendarStartDay),u=function(D){return n.props.showWeekPicker?Nr(D,n.props.locale,n.props.calendarStartDay):n.props.preSelection},c=function(D){return n.props.showWeekPicker?Nr(D,n.props.locale,n.props.calendarStartDay):n.props.selected},d=n.props.selected?c(n.props.selected):void 0,f=n.props.preSelection?u(n.props.preSelection):void 0;r.push(V.createElement(VN,pe({},n.props,{ariaLabelPrefix:n.props.weekAriaLabelPrefix,key:o,day:a,month:Ct(n.props.day),onDayClick:n.handleDayClick,onDayMouseEnter:n.handleDayMouseEnter,selected:d,preSelection:f,showWeekNumber:n.props.showWeekNumbers}))),!s;){o++,a=ia(a,1);var m=i&&o>=FN,g=!i&&!n.isWeekInMonth(a);if(m||g)if(n.props.peekNextMonth)s=!0;else break}return r},n.onMonthClick=function(r,i){var o=n.isMonthDisabledForLabelDate(i),s=o.isDisabled,a=o.labelDate;s||n.handleDayClick(Jn(a),r)},n.onMonthMouseEnter=function(r){var i=n.isMonthDisabledForLabelDate(r),o=i.isDisabled,s=i.labelDate;o||n.handleDayMouseEnter(Jn(s))},n.handleMonthNavigation=function(r,i){var o,s,a,u;(s=(o=n.props).setPreSelection)===null||s===void 0||s.call(o,i),(u=(a=n.MONTH_REFS[r])===null||a===void 0?void 0:a.current)===null||u===void 0||u.focus()},n.handleKeyboardNavigation=function(r,i,o){var s,a=n.props,u=a.selected,c=a.preSelection,d=a.setPreSelection,f=a.minDate,m=a.maxDate,g=a.showFourColumnMonthYearPicker,D=a.showTwoColumnMonthYearPicker;if(c){var E=Xv(g,D),C=n.getVerticalOffset(E),v=(s=qd[E])===null||s===void 0?void 0:s.grid,_=function(T,y,S){var P,x,R=y,I=S;switch(T){case Y.ArrowRight:R=gn(y,kl),I=S===11?0:S+kl;break;case Y.ArrowLeft:R=wo(y,kl),I=S===0?11:S-kl;break;case Y.ArrowUp:R=wo(y,C),I=!((P=v==null?void 0:v[0])===null||P===void 0)&&P.includes(S)?S+12-C:S-C;break;case Y.ArrowDown:R=gn(y,C),I=!((x=v==null?void 0:v[v.length-1])===null||x===void 0)&&x.includes(S)?S-12+C:S+C;break}return{newCalculatedDate:R,newCalculatedMonth:I}},k=function(T,y,S){for(var P=40,x=T,R=!1,I=0,Z=_(x,y,S),ne=Z.newCalculatedDate,X=Z.newCalculatedMonth;!R;){if(I>=P){ne=y,X=S;break}if(f&&ne<f){x=Y.ArrowRight;var te=_(x,ne,X);ne=te.newCalculatedDate,X=te.newCalculatedMonth}if(m&&ne>m){x=Y.ArrowLeft;var te=_(x,ne,X);ne=te.newCalculatedDate,X=te.newCalculatedMonth}if(DN(ne,n.props)){var te=_(x,ne,X);ne=te.newCalculatedDate,X=te.newCalculatedMonth}else R=!0;I++}return{newCalculatedDate:ne,newCalculatedMonth:X}};if(i===Y.Enter){n.isMonthDisabled(o)||(n.onMonthClick(r,o),d==null||d(u));return}var A=k(i,c,o),N=A.newCalculatedDate,O=A.newCalculatedMonth;switch(i){case Y.ArrowRight:case Y.ArrowLeft:case Y.ArrowUp:case Y.ArrowDown:n.handleMonthNavigation(O,N);break}}},n.getVerticalOffset=function(r){var i,o;return(o=(i=qd[r])===null||i===void 0?void 0:i.verticalNavigationOffset)!==null&&o!==void 0?o:0},n.onMonthKeyDown=function(r,i){var o=n.props,s=o.disabledKeyboardNavigation,a=o.handleOnMonthKeyDown,u=r.key;u!==Y.Tab&&r.preventDefault(),s||n.handleKeyboardNavigation(r,u,i),a&&a(r)},n.onQuarterClick=function(r,i){var o=Ni(n.props.day,i);Tl(o,n.props)||n.handleDayClick(Lv(o),r)},n.onQuarterMouseEnter=function(r){var i=Ni(n.props.day,r);Tl(i,n.props)||n.handleDayMouseEnter(Lv(i))},n.handleQuarterNavigation=function(r,i){var o,s,a,u;n.isDisabled(i)||n.isExcluded(i)||((s=(o=n.props).setPreSelection)===null||s===void 0||s.call(o,i),(u=(a=n.QUARTER_REFS[r-1])===null||a===void 0?void 0:a.current)===null||u===void 0||u.focus())},n.onQuarterKeyDown=function(r,i){var o,s,a=r.key;if(!n.props.disabledKeyboardNavigation)switch(a){case Y.Enter:n.onQuarterClick(r,i),(s=(o=n.props).setPreSelection)===null||s===void 0||s.call(o,n.props.selected);break;case Y.ArrowRight:if(!n.props.preSelection)break;n.handleQuarterNavigation(i===4?1:i+1,wp(n.props.preSelection,1));break;case Y.ArrowLeft:if(!n.props.preSelection)break;n.handleQuarterNavigation(i===1?4:i-1,Yw(n.props.preSelection,1));break}},n.isMonthDisabledForLabelDate=function(r){var i,o=n.props,s=o.day,a=o.minDate,u=o.maxDate,c=o.excludeDates,d=o.includeDates,f=jt(s,r);return{isDisabled:(i=(a||u||c||d)&&F1(f,n.props))!==null&&i!==void 0?i:!1,labelDate:f}},n.isMonthDisabled=function(r){var i=n.isMonthDisabledForLabelDate(r).isDisabled;return i},n.getMonthClassNames=function(r){var i=n.props,o=i.day,s=i.startDate,a=i.endDate,u=i.preSelection,c=i.monthClassName,d=c?c(jt(o,r)):void 0,f=n.getSelection();return nt("react-datepicker__month-text","react-datepicker__month-".concat(r),d,{"react-datepicker__month-text--disabled":n.isMonthDisabled(r),"react-datepicker__month-text--selected":f?n.isSelectMonthInList(o,r,f):void 0,"react-datepicker__month-text--keyboard-selected":!n.props.disabledKeyboardNavigation&&u&&n.isSelectedMonth(o,r,u)&&!n.isMonthDisabled(r),"react-datepicker__month-text--in-selecting-range":n.isInSelectingRangeMonth(r),"react-datepicker__month-text--in-range":s&&a?El(s,a,r,o):void 0,"react-datepicker__month-text--range-start":n.isRangeStartMonth(r),"react-datepicker__month-text--range-end":n.isRangeEndMonth(r),"react-datepicker__month-text--selecting-range-start":n.isSelectingMonthRangeStart(r),"react-datepicker__month-text--selecting-range-end":n.isSelectingMonthRangeEnd(r),"react-datepicker__month-text--today":n.isCurrentMonth(o,r)})},n.getTabIndex=function(r){if(n.props.preSelection==null)return"-1";var i=Ct(n.props.preSelection),o=n.isMonthDisabledForLabelDate(i).isDisabled,s=r===i&&!(o||n.props.disabledKeyboardNavigation)?"0":"-1";return s},n.getQuarterTabIndex=function(r){if(n.props.preSelection==null)return"-1";var i=li(n.props.preSelection),o=Tl(n.props.day,n.props),s=r===i&&!(o||n.props.disabledKeyboardNavigation)?"0":"-1";return s},n.getAriaLabel=function(r){var i=n.props,o=i.chooseDayAriaLabelPrefix,s=o===void 0?"Choose":o,a=i.disabledDayAriaLabelPrefix,u=a===void 0?"Not available":a,c=i.day,d=i.locale,f=jt(c,r),m=n.isDisabled(f)||n.isExcluded(f)?u:s;return"".concat(m," ").concat(xe(f,"MMMM yyyy",d))},n.getQuarterClassNames=function(r){var i=n.props,o=i.day,s=i.startDate,a=i.endDate,u=i.selected,c=i.minDate,d=i.maxDate,f=i.excludeDates,m=i.includeDates,g=i.filterDate,D=i.preSelection,E=i.disabledKeyboardNavigation,C=(c||d||f||m||g)&&Tl(Ni(o,r),n.props);return nt("react-datepicker__quarter-text","react-datepicker__quarter-".concat(r),{"react-datepicker__quarter-text--disabled":C,"react-datepicker__quarter-text--selected":u?n.isSelectedQuarter(o,r,u):void 0,"react-datepicker__quarter-text--keyboard-selected":!E&&D&&n.isSelectedQuarter(o,r,D)&&!C,"react-datepicker__quarter-text--in-selecting-range":n.isInSelectingRangeQuarter(r),"react-datepicker__quarter-text--in-range":s&&a?Dl(s,a,r,o):void 0,"react-datepicker__quarter-text--range-start":n.isRangeStartQuarter(r),"react-datepicker__quarter-text--range-end":n.isRangeEndQuarter(r)})},n.getMonthContent=function(r){var i=n.props,o=i.showFullMonthYearPicker,s=i.renderMonthContent,a=i.locale,u=i.day,c=V1(r,a),d=cm(r,a);return s?s(r,c,d,u):o?d:c},n.getQuarterContent=function(r){var i,o=n.props,s=o.renderQuarterContent,a=o.locale,u=SN(r,a);return(i=s==null?void 0:s(r,u))!==null&&i!==void 0?i:u},n.renderMonths=function(){var r,i=n.props,o=i.showTwoColumnMonthYearPicker,s=i.showFourColumnMonthYearPicker,a=i.day,u=i.selected,c=(r=qd[Xv(s,o)])===null||r===void 0?void 0:r.grid;return c==null?void 0:c.map(function(d,f){return V.createElement("div",{className:"react-datepicker__month-wrapper",key:f},d.map(function(m,g){return V.createElement("div",{ref:n.MONTH_REFS[m],key:g,onClick:function(D){n.onMonthClick(D,m)},onKeyDown:function(D){j1(D)&&(D.preventDefault(),D.key=Y.Enter),n.onMonthKeyDown(D,m)},onMouseEnter:n.props.usePointerEvent?void 0:function(){return n.onMonthMouseEnter(m)},onPointerEnter:n.props.usePointerEvent?function(){return n.onMonthMouseEnter(m)}:void 0,tabIndex:Number(n.getTabIndex(m)),className:n.getMonthClassNames(m),"aria-disabled":n.isMonthDisabled(m),role:"option","aria-label":n.getAriaLabel(m),"aria-current":n.isCurrentMonth(a,m)?"date":void 0,"aria-selected":u?n.isSelectedMonth(a,m,u):void 0},n.getMonthContent(m))}))})},n.renderQuarters=function(){var r=n.props,i=r.day,o=r.selected,s=[1,2,3,4];return V.createElement("div",{className:"react-datepicker__quarter-wrapper"},s.map(function(a,u){return V.createElement("div",{key:u,ref:n.QUARTER_REFS[u],role:"option",onClick:function(c){n.onQuarterClick(c,a)},onKeyDown:function(c){n.onQuarterKeyDown(c,a)},onMouseEnter:n.props.usePointerEvent?void 0:function(){return n.onQuarterMouseEnter(a)},onPointerEnter:n.props.usePointerEvent?function(){return n.onQuarterMouseEnter(a)}:void 0,className:n.getQuarterClassNames(a),"aria-selected":o?n.isSelectedQuarter(i,a,o):void 0,tabIndex:Number(n.getQuarterTabIndex(a)),"aria-current":n.isCurrentQuarter(i,a)?"date":void 0},n.getQuarterContent(a))}))},n.getClassNames=function(){var r=n.props,i=r.selectingDate,o=r.selectsStart,s=r.selectsEnd,a=r.showMonthYearPicker,u=r.showQuarterYearPicker,c=r.showWeekPicker;return nt("react-datepicker__month",{"react-datepicker__month--selecting-range":i&&(o||s)},{"react-datepicker__monthPicker":a},{"react-datepicker__quarterPicker":u},{"react-datepicker__weekPicker":c})},n}return e.prototype.getSelection=function(){var n=this.props,r=n.selected,i=n.selectedDates,o=n.selectsMultiple;if(o)return i;if(r)return[r]},e.prototype.render=function(){var n=this.props,r=n.showMonthYearPicker,i=n.showQuarterYearPicker,o=n.day,s=n.ariaLabelPrefix,a=s===void 0?"Month ":s,u=a?a.trim()+" ":"";return V.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":"".concat(u).concat(xe(o,"MMMM, yyyy",this.props.locale)),role:"listbox"},r?this.renderMonths():i?this.renderQuarters():this.renderWeeks())},e}(M.Component),UN=function(t){it(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.isSelectedMonth=function(r){return n.props.month===r},n.renderOptions=function(){return n.props.monthNames.map(function(r,i){return V.createElement("div",{className:n.isSelectedMonth(i)?"react-datepicker__month-option react-datepicker__month-option--selected_month":"react-datepicker__month-option",key:r,onClick:n.onChange.bind(n,i),"aria-selected":n.isSelectedMonth(i)?"true":void 0},n.isSelectedMonth(i)?V.createElement("span",{className:"react-datepicker__month-option--selected"},"✓"):"",r)})},n.onChange=function(r){return n.props.onChange(r)},n.handleClickOutside=function(){return n.props.onCancel()},n}return e.prototype.render=function(){return V.createElement(bc,{className:"react-datepicker__month-dropdown",onClickOutside:this.handleClickOutside},this.renderOptions())},e}(M.Component),jN=function(t){it(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.state={dropdownVisible:!1},n.renderSelectOptions=function(r){return r.map(function(i,o){return V.createElement("option",{key:i,value:o},i)})},n.renderSelectMode=function(r){return V.createElement("select",{value:n.props.month,className:"react-datepicker__month-select",onChange:function(i){return n.onChange(parseInt(i.target.value))}},n.renderSelectOptions(r))},n.renderReadView=function(r,i){return V.createElement("div",{key:"read",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:n.toggleDropdown},V.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}),V.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},i[n.props.month]))},n.renderDropdown=function(r){return V.createElement(UN,pe({key:"dropdown"},n.props,{monthNames:r,onChange:n.onChange,onCancel:n.toggleDropdown}))},n.renderScrollMode=function(r){var i=n.state.dropdownVisible,o=[n.renderReadView(!i,r)];return i&&o.unshift(n.renderDropdown(r)),o},n.onChange=function(r){n.toggleDropdown(),r!==n.props.month&&n.props.onChange(r)},n.toggleDropdown=function(){return n.setState({dropdownVisible:!n.state.dropdownVisible})},n}return e.prototype.render=function(){var n=this,r=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(o){return V1(o,n.props.locale)}:function(o){return cm(o,n.props.locale)}),i;switch(this.props.dropdownMode){case"scroll":i=this.renderScrollMode(r);break;case"select":i=this.renderSelectMode(r);break}return V.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--".concat(this.props.dropdownMode)},i)},e}(M.Component);function zN(t,e){for(var n=[],r=Jn(t),i=Jn(e);!Vr(r,i);)n.push(Te(r)),r=gn(r,1);return n}var $N=function(t){it(e,t);function e(n){var r=t.call(this,n)||this;return r.renderOptions=function(){return r.state.monthYearsList.map(function(i){var o=qh(i),s=En(r.props.date,i)&&kt(r.props.date,i);return V.createElement("div",{className:s?"react-datepicker__month-year-option--selected_month-year":"react-datepicker__month-year-option",key:o,onClick:r.onChange.bind(r,o),"aria-selected":s?"true":void 0},s?V.createElement("span",{className:"react-datepicker__month-year-option--selected"},"✓"):"",xe(i,r.props.dateFormat,r.props.locale))})},r.onChange=function(i){return r.props.onChange(i)},r.handleClickOutside=function(){r.props.onCancel()},r.state={monthYearsList:zN(r.props.minDate,r.props.maxDate)},r}return e.prototype.render=function(){var n=nt({"react-datepicker__month-year-dropdown":!0,"react-datepicker__month-year-dropdown--scrollable":this.props.scrollableMonthYearDropdown});return V.createElement(bc,{className:n,onClickOutside:this.handleClickOutside},this.renderOptions())},e}(M.Component),YN=function(t){it(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.state={dropdownVisible:!1},n.renderSelectOptions=function(){for(var r=Jn(n.props.minDate),i=Jn(n.props.maxDate),o=[];!Vr(r,i);){var s=qh(r);o.push(V.createElement("option",{key:s,value:s},xe(r,n.props.dateFormat,n.props.locale))),r=gn(r,1)}return o},n.onSelectChange=function(r){n.onChange(parseInt(r.target.value))},n.renderSelectMode=function(){return V.createElement("select",{value:qh(Jn(n.props.date)),className:"react-datepicker__month-year-select",onChange:n.onSelectChange},n.renderSelectOptions())},n.renderReadView=function(r){var i=xe(n.props.date,n.props.dateFormat,n.props.locale);return V.createElement("div",{key:"read",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__month-year-read-view",onClick:n.toggleDropdown},V.createElement("span",{className:"react-datepicker__month-year-read-view--down-arrow"}),V.createElement("span",{className:"react-datepicker__month-year-read-view--selected-month-year"},i))},n.renderDropdown=function(){return V.createElement($N,pe({key:"dropdown"},n.props,{onChange:n.onChange,onCancel:n.toggleDropdown}))},n.renderScrollMode=function(){var r=n.state.dropdownVisible,i=[n.renderReadView(!r)];return r&&i.unshift(n.renderDropdown()),i},n.onChange=function(r){n.toggleDropdown();var i=Te(r);En(n.props.date,i)&&kt(n.props.date,i)||n.props.onChange(i)},n.toggleDropdown=function(){return n.setState({dropdownVisible:!n.state.dropdownVisible})},n}return e.prototype.render=function(){var n;switch(this.props.dropdownMode){case"scroll":n=this.renderScrollMode();break;case"select":n=this.renderSelectMode();break}return V.createElement("div",{className:"react-datepicker__month-year-dropdown-container react-datepicker__month-year-dropdown-container--".concat(this.props.dropdownMode)},n)},e}(M.Component),WN=function(t){it(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.state={height:null},n.scrollToTheSelectedTime=function(){requestAnimationFrame(function(){var r,i,o;n.list&&(n.list.scrollTop=(o=n.centerLi&&e.calcCenterPosition(n.props.monthRef?n.props.monthRef.clientHeight-((i=(r=n.header)===null||r===void 0?void 0:r.clientHeight)!==null&&i!==void 0?i:0):n.list.clientHeight,n.centerLi))!==null&&o!==void 0?o:0)})},n.handleClick=function(r){var i,o;(n.props.minTime||n.props.maxTime)&&jv(r,n.props)||(n.props.excludeTimes||n.props.includeTimes||n.props.filterTime)&&Uv(r,n.props)||(o=(i=n.props).onChange)===null||o===void 0||o.call(i,r)},n.isSelectedTime=function(r){return n.props.selected&&MN(n.props.selected,r)},n.isDisabledTime=function(r){return(n.props.minTime||n.props.maxTime)&&jv(r,n.props)||(n.props.excludeTimes||n.props.includeTimes||n.props.filterTime)&&Uv(r,n.props)},n.liClasses=function(r){var i,o=["react-datepicker__time-list-item",n.props.timeClassName?n.props.timeClassName(r):void 0];return n.isSelectedTime(r)&&o.push("react-datepicker__time-list-item--selected"),n.isDisabledTime(r)&&o.push("react-datepicker__time-list-item--disabled"),n.props.injectTimes&&(Pn(r)*3600+Rn(r)*60+Xn(r))%(((i=n.props.intervals)!==null&&i!==void 0?i:e.defaultProps.intervals)*60)!==0&&o.push("react-datepicker__time-list-item--injected"),o.join(" ")},n.handleOnKeyDown=function(r,i){var o,s;r.key===Y.Space&&(r.preventDefault(),r.key=Y.Enter),(r.key===Y.ArrowUp||r.key===Y.ArrowLeft)&&r.target instanceof HTMLElement&&r.target.previousSibling&&(r.preventDefault(),r.target.previousSibling instanceof HTMLElement&&r.target.previousSibling.focus()),(r.key===Y.ArrowDown||r.key===Y.ArrowRight)&&r.target instanceof HTMLElement&&r.target.nextSibling&&(r.preventDefault(),r.target.nextSibling instanceof HTMLElement&&r.target.nextSibling.focus()),r.key===Y.Enter&&n.handleClick(i),(s=(o=n.props).handleOnKeyDown)===null||s===void 0||s.call(o,r)},n.renderTimes=function(){for(var r,i=[],o=typeof n.props.format=="string"?n.props.format:"p",s=(r=n.props.intervals)!==null&&r!==void 0?r:e.defaultProps.intervals,a=n.props.selected||n.props.openToDate||Te(),u=Ql(a),c=n.props.injectTimes&&n.props.injectTimes.sort(function(C,v){return C.getTime()-v.getTime()}),d=60*bN(a),f=d/s,m=0;m<f;m++){var g=Yh(u,m*s);if(i.push(g),c){var D=AN(u,g,m,s,c);i=i.concat(D)}}var E=i.reduce(function(C,v){return v.getTime()<=a.getTime()?v:C},i[0]);return i.map(function(C){return V.createElement("li",{key:C.valueOf(),onClick:n.handleClick.bind(n,C),className:n.liClasses(C),ref:function(v){C===E&&(n.centerLi=v)},onKeyDown:function(v){n.handleOnKeyDown(v,C)},tabIndex:C===E?0:-1,role:"option","aria-selected":n.isSelectedTime(C)?"true":void 0,"aria-disabled":n.isDisabledTime(C)?"true":void 0},xe(C,o,n.props.locale))})},n.renderTimeCaption=function(){return n.props.showTimeCaption===!1?V.createElement(V.Fragment,null):V.createElement("div",{className:"react-datepicker__header react-datepicker__header--time ".concat(n.props.showTimeSelectOnly?"react-datepicker__header--time--only":""),ref:function(r){n.header=r}},V.createElement("div",{className:"react-datepicker-time__header"},n.props.timeCaption))},n}return Object.defineProperty(e,"defaultProps",{get:function(){return{intervals:30,todayButton:null,timeCaption:"Time",showTimeCaption:!0}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){this.scrollToTheSelectedTime(),this.props.monthRef&&this.header&&this.setState({height:this.props.monthRef.clientHeight-this.header.clientHeight})},e.prototype.render=function(){var n=this,r,i=this.state.height;return V.createElement("div",{className:"react-datepicker__time-container ".concat(((r=this.props.todayButton)!==null&&r!==void 0?r:e.defaultProps.todayButton)?"react-datepicker__time-container--with-today-button":"")},this.renderTimeCaption(),V.createElement("div",{className:"react-datepicker__time"},V.createElement("div",{className:"react-datepicker__time-box"},V.createElement("ul",{className:"react-datepicker__time-list",ref:function(o){n.list=o},style:i?{height:i}:{},role:"listbox","aria-label":this.props.timeCaption},this.renderTimes()))))},e.calcCenterPosition=function(n,r){return r.offsetTop-(n/2-r.clientHeight/2)},e}(M.Component),Jv=3,HN=function(t){it(e,t);function e(n){var r=t.call(this,n)||this;return r.YEAR_REFS=kn([],Array(r.props.yearItemNumber),!0).map(function(){return M.createRef()}),r.isDisabled=function(i){return Zt(i,{minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,includeDates:r.props.includeDates,filterDate:r.props.filterDate})},r.isExcluded=function(i){return dm(i,{excludeDates:r.props.excludeDates})},r.selectingDate=function(){var i;return(i=r.props.selectingDate)!==null&&i!==void 0?i:r.props.preSelection},r.updateFocusOnPaginate=function(i){var o=function(){var s,a;(a=(s=r.YEAR_REFS[i])===null||s===void 0?void 0:s.current)===null||a===void 0||a.focus()};window.requestAnimationFrame(o)},r.handleYearClick=function(i,o){r.props.onDayClick&&r.props.onDayClick(i,o)},r.handleYearNavigation=function(i,o){var s,a,u,c,d=r.props,f=d.date,m=d.yearItemNumber;if(!(f===void 0||m===void 0)){var g=wr(f,m).startPeriod;r.isDisabled(o)||r.isExcluded(o)||((a=(s=r.props).setPreSelection)===null||a===void 0||a.call(s,o),i-g<0?r.updateFocusOnPaginate(m-(g-i)):i-g>=m?r.updateFocusOnPaginate(Math.abs(m-(i-g))):(c=(u=r.YEAR_REFS[i-g])===null||u===void 0?void 0:u.current)===null||c===void 0||c.focus())}},r.isSameDay=function(i,o){return he(i,o)},r.isCurrentYear=function(i){return i===ae(Te())},r.isRangeStart=function(i){return r.props.startDate&&r.props.endDate&&En(wn(Te(),i),r.props.startDate)},r.isRangeEnd=function(i){return r.props.startDate&&r.props.endDate&&En(wn(Te(),i),r.props.endDate)},r.isInRange=function(i){return Sl(i,r.props.startDate,r.props.endDate)},r.isInSelectingRange=function(i){var o=r.props,s=o.selectsStart,a=o.selectsEnd,u=o.selectsRange,c=o.startDate,d=o.endDate;return!(s||a||u)||!r.selectingDate()?!1:s&&d?Sl(i,r.selectingDate(),d):a&&c||u&&c&&!d?Sl(i,c,r.selectingDate()):!1},r.isSelectingRangeStart=function(i){var o;if(!r.isInSelectingRange(i))return!1;var s=r.props,a=s.startDate,u=s.selectsStart,c=wn(Te(),i);return u?En(c,(o=r.selectingDate())!==null&&o!==void 0?o:null):En(c,a??null)},r.isSelectingRangeEnd=function(i){var o;if(!r.isInSelectingRange(i))return!1;var s=r.props,a=s.endDate,u=s.selectsEnd,c=s.selectsRange,d=wn(Te(),i);return u||c?En(d,(o=r.selectingDate())!==null&&o!==void 0?o:null):En(d,a??null)},r.isKeyboardSelected=function(i){if(!(r.props.date===void 0||r.props.selected==null||r.props.preSelection==null)){var o=r.props,s=o.minDate,a=o.maxDate,u=o.excludeDates,c=o.includeDates,d=o.filterDate,f=ks(wn(r.props.date,i)),m=(s||a||u||c||d)&&Kl(i,r.props);return!r.props.disabledKeyboardNavigation&&!r.props.inline&&!he(f,ks(r.props.selected))&&he(f,ks(r.props.preSelection))&&!m}},r.onYearClick=function(i,o){var s=r.props.date;s!==void 0&&r.handleYearClick(ks(wn(s,o)),i)},r.onYearKeyDown=function(i,o){var s,a,u=i.key,c=r.props,d=c.date,f=c.yearItemNumber,m=c.handleOnKeyDown;if(u!==Y.Tab&&i.preventDefault(),!r.props.disabledKeyboardNavigation)switch(u){case Y.Enter:if(r.props.selected==null)break;r.onYearClick(i,o),(a=(s=r.props).setPreSelection)===null||a===void 0||a.call(s,r.props.selected);break;case Y.ArrowRight:if(r.props.preSelection==null)break;r.handleYearNavigation(o+1,Kn(r.props.preSelection,1));break;case Y.ArrowLeft:if(r.props.preSelection==null)break;r.handleYearNavigation(o-1,Eo(r.props.preSelection,1));break;case Y.ArrowUp:{if(d===void 0||f===void 0||r.props.preSelection==null)break;var g=wr(d,f).startPeriod,D=Jv,E=o-D;if(E<g){var C=f%D;o>=g&&o<g+C?D=C:D+=C,E=o-D}r.handleYearNavigation(E,Eo(r.props.preSelection,D));break}case Y.ArrowDown:{if(d===void 0||f===void 0||r.props.preSelection==null)break;var v=wr(d,f).endPeriod,D=Jv,E=o+D;if(E>v){var C=f%D;o<=v&&o>v-C?D=C:D+=C,E=o+D}r.handleYearNavigation(E,Kn(r.props.preSelection,D));break}}m&&m(i)},r.getYearClassNames=function(i){var o=r.props,s=o.date,a=o.minDate,u=o.maxDate,c=o.selected,d=o.excludeDates,f=o.includeDates,m=o.filterDate,g=o.yearClassName;return nt("react-datepicker__year-text","react-datepicker__year-".concat(i),s?g==null?void 0:g(wn(s,i)):void 0,{"react-datepicker__year-text--selected":c?i===ae(c):void 0,"react-datepicker__year-text--disabled":(a||u||d||f||m)&&Kl(i,r.props),"react-datepicker__year-text--keyboard-selected":r.isKeyboardSelected(i),"react-datepicker__year-text--range-start":r.isRangeStart(i),"react-datepicker__year-text--range-end":r.isRangeEnd(i),"react-datepicker__year-text--in-range":r.isInRange(i),"react-datepicker__year-text--in-selecting-range":r.isInSelectingRange(i),"react-datepicker__year-text--selecting-range-start":r.isSelectingRangeStart(i),"react-datepicker__year-text--selecting-range-end":r.isSelectingRangeEnd(i),"react-datepicker__year-text--today":r.isCurrentYear(i)})},r.getYearTabIndex=function(i){if(r.props.disabledKeyboardNavigation||r.props.preSelection==null)return"-1";var o=ae(r.props.preSelection),s=Kl(i,r.props);return i===o&&!s?"0":"-1"},r.getYearContainerClassNames=function(){var i=r.props,o=i.selectingDate,s=i.selectsStart,a=i.selectsEnd,u=i.selectsRange;return nt("react-datepicker__year",{"react-datepicker__year--selecting-range":o&&(s||a||u)})},r.getYearContent=function(i){return r.props.renderYearContent?r.props.renderYearContent(i):i},r}return e.prototype.render=function(){var n=this,r=[],i=this.props,o=i.date,s=i.yearItemNumber,a=i.onYearMouseEnter,u=i.onYearMouseLeave;if(o===void 0)return null;for(var c=wr(o,s),d=c.startPeriod,f=c.endPeriod,m=function(E){r.push(V.createElement("div",{ref:g.YEAR_REFS[E-d],onClick:function(C){n.onYearClick(C,E)},onKeyDown:function(C){j1(C)&&(C.preventDefault(),C.key=Y.Enter),n.onYearKeyDown(C,E)},tabIndex:Number(g.getYearTabIndex(E)),className:g.getYearClassNames(E),onMouseEnter:g.props.usePointerEvent?void 0:function(C){return a(C,E)},onPointerEnter:g.props.usePointerEvent?function(C){return a(C,E)}:void 0,onMouseLeave:g.props.usePointerEvent?void 0:function(C){return u(C,E)},onPointerLeave:g.props.usePointerEvent?function(C){return u(C,E)}:void 0,key:E,"aria-current":g.isCurrentYear(E)?"date":void 0},g.getYearContent(E)))},g=this,D=d;D<=f;D++)m(D);return V.createElement("div",{className:this.getYearContainerClassNames()},V.createElement("div",{className:"react-datepicker__year-wrapper",onMouseLeave:this.props.usePointerEvent?void 0:this.props.clearSelectingDate,onPointerLeave:this.props.usePointerEvent?this.props.clearSelectingDate:void 0},r))},e}(M.Component);function qN(t,e,n,r){for(var i=[],o=0;o<2*e+1;o++){var s=t+e-o,a=!0;n&&(a=ae(n)<=s),r&&a&&(a=ae(r)>=s),a&&i.push(s)}return i}var QN=function(t){it(e,t);function e(n){var r=t.call(this,n)||this;r.renderOptions=function(){var a=r.props.year,u=r.state.yearsList.map(function(f){return V.createElement("div",{className:a===f?"react-datepicker__year-option react-datepicker__year-option--selected_year":"react-datepicker__year-option",key:f,onClick:r.onChange.bind(r,f),"aria-selected":a===f?"true":void 0},a===f?V.createElement("span",{className:"react-datepicker__year-option--selected"},"✓"):"",f)}),c=r.props.minDate?ae(r.props.minDate):null,d=r.props.maxDate?ae(r.props.maxDate):null;return(!d||!r.state.yearsList.find(function(f){return f===d}))&&u.unshift(V.createElement("div",{className:"react-datepicker__year-option",key:"upcoming",onClick:r.incrementYears},V.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),(!c||!r.state.yearsList.find(function(f){return f===c}))&&u.push(V.createElement("div",{className:"react-datepicker__year-option",key:"previous",onClick:r.decrementYears},V.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),u},r.onChange=function(a){r.props.onChange(a)},r.handleClickOutside=function(){r.props.onCancel()},r.shiftYears=function(a){var u=r.state.yearsList.map(function(c){return c+a});r.setState({yearsList:u})},r.incrementYears=function(){return r.shiftYears(1)},r.decrementYears=function(){return r.shiftYears(-1)};var i=n.yearDropdownItemNumber,o=n.scrollableYearDropdown,s=i||(o?10:5);return r.state={yearsList:qN(r.props.year,s,r.props.minDate,r.props.maxDate)},r.dropdownRef=M.createRef(),r}return e.prototype.componentDidMount=function(){var n=this.dropdownRef.current;if(n){var r=n.children?Array.from(n.children):null,i=r?r.find(function(o){return o.ariaSelected}):null;n.scrollTop=i&&i instanceof HTMLElement?i.offsetTop+(i.clientHeight-n.clientHeight)/2:(n.scrollHeight-n.clientHeight)/2}},e.prototype.render=function(){var n=nt({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return V.createElement(bc,{className:n,containerRef:this.dropdownRef,onClickOutside:this.handleClickOutside},this.renderOptions())},e}(M.Component),KN=function(t){it(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.state={dropdownVisible:!1},n.renderSelectOptions=function(){for(var r=n.props.minDate?ae(n.props.minDate):1900,i=n.props.maxDate?ae(n.props.maxDate):2100,o=[],s=r;s<=i;s++)o.push(V.createElement("option",{key:s,value:s},s));return o},n.onSelectChange=function(r){n.onChange(parseInt(r.target.value))},n.renderSelectMode=function(){return V.createElement("select",{value:n.props.year,className:"react-datepicker__year-select",onChange:n.onSelectChange},n.renderSelectOptions())},n.renderReadView=function(r){return V.createElement("div",{key:"read",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:function(i){return n.toggleDropdown(i)}},V.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),V.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},n.props.year))},n.renderDropdown=function(){return V.createElement(QN,pe({key:"dropdown"},n.props,{onChange:n.onChange,onCancel:n.toggleDropdown}))},n.renderScrollMode=function(){var r=n.state.dropdownVisible,i=[n.renderReadView(!r)];return r&&i.unshift(n.renderDropdown()),i},n.onChange=function(r){n.toggleDropdown(),r!==n.props.year&&n.props.onChange(r)},n.toggleDropdown=function(r){n.setState({dropdownVisible:!n.state.dropdownVisible},function(){n.props.adjustDateOnChange&&n.handleYearChange(n.props.date,r)})},n.handleYearChange=function(r,i){var o;(o=n.onSelect)===null||o===void 0||o.call(n,r,i),n.setOpen()},n.onSelect=function(r,i){var o,s;(s=(o=n.props).onSelect)===null||s===void 0||s.call(o,r,i)},n.setOpen=function(){var r,i;(i=(r=n.props).setOpen)===null||i===void 0||i.call(r,!0)},n}return e.prototype.render=function(){var n;switch(this.props.dropdownMode){case"scroll":n=this.renderScrollMode();break;case"select":n=this.renderSelectMode();break}return V.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--".concat(this.props.dropdownMode)},n)},e}(M.Component),GN=["react-datepicker__year-select","react-datepicker__month-select","react-datepicker__month-year-select"],XN=function(t){var e=(t.className||"").split(/\s+/);return GN.some(function(n){return e.indexOf(n)>=0})},JN=function(t){it(e,t);function e(n){var r=t.call(this,n)||this;return r.monthContainer=void 0,r.handleClickOutside=function(i){r.props.onClickOutside(i)},r.setClickOutsideRef=function(){return r.containerRef.current},r.handleDropdownFocus=function(i){var o,s;XN(i.target)&&((s=(o=r.props).onDropdownFocus)===null||s===void 0||s.call(o,i))},r.getDateInView=function(){var i=r.props,o=i.preSelection,s=i.selected,a=i.openToDate,u=B1(r.props),c=U1(r.props),d=Te(),f=a||s||o;return f||(u&&vi(d,u)?u:c&&Vr(d,c)?c:d)},r.increaseMonth=function(){r.setState(function(i){var o=i.date;return{date:gn(o,1)}},function(){return r.handleMonthChange(r.state.date)})},r.decreaseMonth=function(){r.setState(function(i){var o=i.date;return{date:wo(o,1)}},function(){return r.handleMonthChange(r.state.date)})},r.handleDayClick=function(i,o,s){r.props.onSelect(i,o,s),r.props.setPreSelection&&r.props.setPreSelection(i)},r.handleDayMouseEnter=function(i){r.setState({selectingDate:i}),r.props.onDayMouseEnter&&r.props.onDayMouseEnter(i)},r.handleMonthMouseLeave=function(){r.setState({selectingDate:void 0}),r.props.onMonthMouseLeave&&r.props.onMonthMouseLeave()},r.handleYearMouseEnter=function(i,o){r.setState({selectingDate:wn(Te(),o)}),r.props.onYearMouseEnter&&r.props.onYearMouseEnter(i,o)},r.handleYearMouseLeave=function(i,o){r.props.onYearMouseLeave&&r.props.onYearMouseLeave(i,o)},r.handleYearChange=function(i){var o,s,a,u;(s=(o=r.props).onYearChange)===null||s===void 0||s.call(o,i),r.setState({isRenderAriaLiveMessage:!0}),r.props.adjustDateOnChange&&(r.props.onSelect(i),(u=(a=r.props).setOpen)===null||u===void 0||u.call(a,!0)),r.props.setPreSelection&&r.props.setPreSelection(i)},r.getEnabledPreSelectionDateForMonth=function(i){if(!Zt(i,r.props))return i;for(var o=Jn(i),s=_N(i),a=Uk(s,o),u=null,c=0;c<=a;c++){var d=rr(o,c);if(!Zt(d,r.props)){u=d;break}}return u},r.handleMonthChange=function(i){var o,s,a,u=(o=r.getEnabledPreSelectionDateForMonth(i))!==null&&o!==void 0?o:i;r.handleCustomMonthChange(u),r.props.adjustDateOnChange&&(r.props.onSelect(u),(a=(s=r.props).setOpen)===null||a===void 0||a.call(s,!0)),r.props.setPreSelection&&r.props.setPreSelection(u)},r.handleCustomMonthChange=function(i){var o,s;(s=(o=r.props).onMonthChange)===null||s===void 0||s.call(o,i),r.setState({isRenderAriaLiveMessage:!0})},r.handleMonthYearChange=function(i){r.handleYearChange(i),r.handleMonthChange(i)},r.changeYear=function(i){r.setState(function(o){var s=o.date;return{date:wn(s,Number(i))}},function(){return r.handleYearChange(r.state.date)})},r.changeMonth=function(i){r.setState(function(o){var s=o.date;return{date:jt(s,Number(i))}},function(){return r.handleMonthChange(r.state.date)})},r.changeMonthYear=function(i){r.setState(function(o){var s=o.date;return{date:wn(jt(s,Ct(i)),ae(i))}},function(){return r.handleMonthYearChange(r.state.date)})},r.header=function(i){i===void 0&&(i=r.state.date);var o=Nr(i,r.props.locale,r.props.calendarStartDay),s=[];return r.props.showWeekNumbers&&s.push(V.createElement("div",{key:"W",className:"react-datepicker__day-name"},r.props.weekLabel||"#")),s.concat([0,1,2,3,4,5,6].map(function(a){var u=rr(o,a),c=r.formatWeekday(u,r.props.locale),d=r.props.weekDayClassName?r.props.weekDayClassName(u):void 0;return V.createElement("div",{key:a,"aria-label":xe(u,"EEEE",r.props.locale),className:nt("react-datepicker__day-name",d)},c)}))},r.formatWeekday=function(i,o){return r.props.formatWeekDay?wN(i,r.props.formatWeekDay,o):r.props.useWeekdaysShort?TN(i,o):EN(i,o)},r.decreaseYear=function(){r.setState(function(i){var o,s=i.date;return{date:Eo(s,r.props.showYearPicker?(o=r.props.yearItemNumber)!==null&&o!==void 0?o:e.defaultProps.yearItemNumber:1)}},function(){return r.handleYearChange(r.state.date)})},r.clearSelectingDate=function(){r.setState({selectingDate:void 0})},r.renderPreviousButton=function(){var i;if(!r.props.renderCustomHeader){var o;switch(!0){case r.props.showMonthYearPicker:o=Yv(r.state.date,r.props);break;case r.props.showYearPicker:o=IN(r.state.date,r.props);break;case r.props.showQuarterYearPicker:o=kN(r.state.date,r.props);break;default:o=zv(r.state.date,r.props);break}if(!(!((i=r.props.forceShowMonthNavigation)!==null&&i!==void 0?i:e.defaultProps.forceShowMonthNavigation)&&!r.props.showDisabledMonthNavigation&&o||r.props.showTimeSelectOnly)){var s=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--previous"],a=["react-datepicker__navigation","react-datepicker__navigation--previous"],u=r.decreaseMonth;(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker)&&(u=r.decreaseYear),o&&r.props.showDisabledMonthNavigation&&(a.push("react-datepicker__navigation--previous--disabled"),u=void 0);var c=r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker,d=r.props,f=d.previousMonthButtonLabel,m=f===void 0?e.defaultProps.previousMonthButtonLabel:f,g=d.previousYearButtonLabel,D=g===void 0?e.defaultProps.previousYearButtonLabel:g,E=r.props,C=E.previousMonthAriaLabel,v=C===void 0?typeof m=="string"?m:"Previous Month":C,_=E.previousYearAriaLabel,k=_===void 0?typeof D=="string"?D:"Previous Year":_;return V.createElement("button",{type:"button",className:a.join(" "),onClick:u,onKeyDown:r.props.handleOnKeyDown,"aria-label":c?k:v},V.createElement("span",{className:s.join(" ")},c?D:m))}}},r.increaseYear=function(){r.setState(function(i){var o,s=i.date;return{date:Kn(s,r.props.showYearPicker?(o=r.props.yearItemNumber)!==null&&o!==void 0?o:e.defaultProps.yearItemNumber:1)}},function(){return r.handleYearChange(r.state.date)})},r.renderNextButton=function(){var i;if(!r.props.renderCustomHeader){var o;switch(!0){case r.props.showMonthYearPicker:o=Wv(r.state.date,r.props);break;case r.props.showYearPicker:o=PN(r.state.date,r.props);break;case r.props.showQuarterYearPicker:o=CN(r.state.date,r.props);break;default:o=$v(r.state.date,r.props);break}if(!(!((i=r.props.forceShowMonthNavigation)!==null&&i!==void 0?i:e.defaultProps.forceShowMonthNavigation)&&!r.props.showDisabledMonthNavigation&&o||r.props.showTimeSelectOnly)){var s=["react-datepicker__navigation","react-datepicker__navigation--next"],a=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--next"];r.props.showTimeSelect&&s.push("react-datepicker__navigation--next--with-time"),r.props.todayButton&&s.push("react-datepicker__navigation--next--with-today-button");var u=r.increaseMonth;(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker)&&(u=r.increaseYear),o&&r.props.showDisabledMonthNavigation&&(s.push("react-datepicker__navigation--next--disabled"),u=void 0);var c=r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker,d=r.props,f=d.nextMonthButtonLabel,m=f===void 0?e.defaultProps.nextMonthButtonLabel:f,g=d.nextYearButtonLabel,D=g===void 0?e.defaultProps.nextYearButtonLabel:g,E=r.props,C=E.nextMonthAriaLabel,v=C===void 0?typeof m=="string"?m:"Next Month":C,_=E.nextYearAriaLabel,k=_===void 0?typeof D=="string"?D:"Next Year":_;return V.createElement("button",{type:"button",className:s.join(" "),onClick:u,onKeyDown:r.props.handleOnKeyDown,"aria-label":c?k:v},V.createElement("span",{className:a.join(" ")},c?D:m))}}},r.renderCurrentMonth=function(i){i===void 0&&(i=r.state.date);var o=["react-datepicker__current-month"];return r.props.showYearDropdown&&o.push("react-datepicker__current-month--hasYearDropdown"),r.props.showMonthDropdown&&o.push("react-datepicker__current-month--hasMonthDropdown"),r.props.showMonthYearDropdown&&o.push("react-datepicker__current-month--hasMonthYearDropdown"),V.createElement("h2",{className:o.join(" ")},xe(i,r.props.dateFormat,r.props.locale))},r.renderYearDropdown=function(i){if(i===void 0&&(i=!1),!(!r.props.showYearDropdown||i))return V.createElement(KN,pe({},e.defaultProps,r.props,{date:r.state.date,onChange:r.changeYear,year:ae(r.state.date)}))},r.renderMonthDropdown=function(i){if(i===void 0&&(i=!1),!(!r.props.showMonthDropdown||i))return V.createElement(jN,pe({},e.defaultProps,r.props,{month:Ct(r.state.date),onChange:r.changeMonth}))},r.renderMonthYearDropdown=function(i){if(i===void 0&&(i=!1),!(!r.props.showMonthYearDropdown||i))return V.createElement(YN,pe({},e.defaultProps,r.props,{date:r.state.date,onChange:r.changeMonthYear}))},r.handleTodayButtonClick=function(i){r.props.onSelect(Vv(),i),r.props.setPreSelection&&r.props.setPreSelection(Vv())},r.renderTodayButton=function(){if(!(!r.props.todayButton||r.props.showTimeSelectOnly))return V.createElement("div",{className:"react-datepicker__today-button",onClick:r.handleTodayButtonClick},r.props.todayButton)},r.renderDefaultHeader=function(i){var o=i.monthDate,s=i.i;return V.createElement("div",{className:"react-datepicker__header ".concat(r.props.showTimeSelect?"react-datepicker__header--has-time-select":"")},r.renderCurrentMonth(o),V.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--".concat(r.props.dropdownMode),onFocus:r.handleDropdownFocus},r.renderMonthDropdown(s!==0),r.renderMonthYearDropdown(s!==0),r.renderYearDropdown(s!==0)),V.createElement("div",{className:"react-datepicker__day-names"},r.header(o)))},r.renderCustomHeader=function(i){var o,s,a=i.monthDate,u=i.i;if(r.props.showTimeSelect&&!r.state.monthContainer||r.props.showTimeSelectOnly)return null;var c=zv(r.state.date,r.props),d=$v(r.state.date,r.props),f=Yv(r.state.date,r.props),m=Wv(r.state.date,r.props),g=!r.props.showMonthYearPicker&&!r.props.showQuarterYearPicker&&!r.props.showYearPicker;return V.createElement("div",{className:"react-datepicker__header react-datepicker__header--custom",onFocus:r.props.onDropdownFocus},(s=(o=r.props).renderCustomHeader)===null||s===void 0?void 0:s.call(o,pe(pe({},r.state),{customHeaderCount:u,monthDate:a,changeMonth:r.changeMonth,changeYear:r.changeYear,decreaseMonth:r.decreaseMonth,increaseMonth:r.increaseMonth,decreaseYear:r.decreaseYear,increaseYear:r.increaseYear,prevMonthButtonDisabled:c,nextMonthButtonDisabled:d,prevYearButtonDisabled:f,nextYearButtonDisabled:m})),g&&V.createElement("div",{className:"react-datepicker__day-names"},r.header(a)))},r.renderYearHeader=function(i){var o=i.monthDate,s=r.props,a=s.showYearPicker,u=s.yearItemNumber,c=u===void 0?e.defaultProps.yearItemNumber:u,d=wr(o,c),f=d.startPeriod,m=d.endPeriod;return V.createElement("div",{className:"react-datepicker__header react-datepicker-year-header"},a?"".concat(f," - ").concat(m):ae(o))},r.renderHeader=function(i){var o=i.monthDate,s=i.i,a=s===void 0?0:s,u={monthDate:o,i:a};switch(!0){case r.props.renderCustomHeader!==void 0:return r.renderCustomHeader(u);case(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker):return r.renderYearHeader(u);default:return r.renderDefaultHeader(u)}},r.renderMonths=function(){var i,o;if(!(r.props.showTimeSelectOnly||r.props.showYearPicker)){for(var s=[],a=(i=r.props.monthsShown)!==null&&i!==void 0?i:e.defaultProps.monthsShown,u=r.props.showPreviousMonths?a-1:0,c=r.props.showMonthYearPicker||r.props.showQuarterYearPicker?Kn(r.state.date,u):wo(r.state.date,u),d=(o=r.props.monthSelectedIn)!==null&&o!==void 0?o:u,f=0;f<a;++f){var m=f-d+u,g=r.props.showMonthYearPicker||r.props.showQuarterYearPicker?Kn(c,m):gn(c,m),D="month-".concat(f),E=f<a-1,C=f>0;s.push(V.createElement("div",{key:D,ref:function(v){r.monthContainer=v??void 0},className:"react-datepicker__month-container"},r.renderHeader({monthDate:g,i:f}),V.createElement(BN,pe({},e.defaultProps,r.props,{ariaLabelPrefix:r.props.monthAriaLabelPrefix,day:g,onDayClick:r.handleDayClick,handleOnKeyDown:r.props.handleOnDayKeyDown,handleOnMonthKeyDown:r.props.handleOnKeyDown,onDayMouseEnter:r.handleDayMouseEnter,onMouseLeave:r.handleMonthMouseLeave,orderInDisplay:f,selectingDate:r.state.selectingDate,monthShowsDuplicateDaysEnd:E,monthShowsDuplicateDaysStart:C}))))}return s}},r.renderYears=function(){if(!r.props.showTimeSelectOnly&&r.props.showYearPicker)return V.createElement("div",{className:"react-datepicker__year--container"},r.renderHeader({monthDate:r.state.date}),V.createElement(HN,pe({},e.defaultProps,r.props,{selectingDate:r.state.selectingDate,date:r.state.date,onDayClick:r.handleDayClick,clearSelectingDate:r.clearSelectingDate,onYearMouseEnter:r.handleYearMouseEnter,onYearMouseLeave:r.handleYearMouseLeave})))},r.renderTimeSection=function(){if(r.props.showTimeSelect&&(r.state.monthContainer||r.props.showTimeSelectOnly))return V.createElement(WN,pe({},e.defaultProps,r.props,{onChange:r.props.onTimeChange,format:r.props.timeFormat,intervals:r.props.timeIntervals,monthRef:r.state.monthContainer}))},r.renderInputTimeSection=function(){var i=r.props.selected?new Date(r.props.selected):void 0,o=i&&Wn(i)&&!!r.props.selected,s=o?"".concat(qv(i.getHours()),":").concat(qv(i.getMinutes())):"";if(r.props.showTimeInput)return V.createElement(NN,pe({},e.defaultProps,r.props,{date:i,timeString:s,onChange:r.props.onTimeChange}))},r.renderAriaLiveRegion=function(){var i,o=wr(r.state.date,(i=r.props.yearItemNumber)!==null&&i!==void 0?i:e.defaultProps.yearItemNumber),s=o.startPeriod,a=o.endPeriod,u;return r.props.showYearPicker?u="".concat(s," - ").concat(a):r.props.showMonthYearPicker||r.props.showQuarterYearPicker?u=ae(r.state.date):u="".concat(cm(Ct(r.state.date),r.props.locale)," ").concat(ae(r.state.date)),V.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},r.state.isRenderAriaLiveMessage&&u)},r.renderChildren=function(){if(r.props.children)return V.createElement("div",{className:"react-datepicker__children-container"},r.props.children)},r.containerRef=M.createRef(),r.state={date:r.getDateInView(),selectingDate:void 0,monthContainer:void 0,isRenderAriaLiveMessage:!1},r}return Object.defineProperty(e,"defaultProps",{get:function(){return{monthsShown:1,forceShowMonthNavigation:!1,timeCaption:"Time",previousYearButtonLabel:"Previous Year",nextYearButtonLabel:"Next Year",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next Month",yearItemNumber:Pa}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){var n=this;this.props.showTimeSelect&&(this.assignMonthContainer=function(){n.setState({monthContainer:n.monthContainer})}())},e.prototype.componentDidUpdate=function(n){var r=this;if(this.props.preSelection&&(!he(this.props.preSelection,n.preSelection)||this.props.monthSelectedIn!==n.monthSelectedIn)){var i=!kt(this.state.date,this.props.preSelection);this.setState({date:this.props.preSelection},function(){return i&&r.handleCustomMonthChange(r.state.date)})}else this.props.openToDate&&!he(this.props.openToDate,n.openToDate)&&this.setState({date:this.props.openToDate})},e.prototype.render=function(){var n=this.props.container||dN;return V.createElement(bc,{onClickOutside:this.handleClickOutside,style:{display:"contents"},containerRef:this.containerRef,ignoreClass:this.props.outsideClickIgnoreClass},V.createElement(n,{className:nt("react-datepicker",this.props.className,{"react-datepicker--time-only":this.props.showTimeSelectOnly}),showTime:this.props.showTimeSelect||this.props.showTimeInput,showTimeSelectOnly:this.props.showTimeSelectOnly},this.renderAriaLiveRegion(),this.renderPreviousButton(),this.renderNextButton(),this.renderMonths(),this.renderYears(),this.renderTodayButton(),this.renderTimeSection(),this.renderInputTimeSection(),this.renderChildren()))},e}(M.Component),ZN=function(t){var e=t.icon,n=t.className,r=n===void 0?"":n,i=t.onClick,o="react-datepicker__calendar-icon";return typeof e=="string"?V.createElement("i",{className:"".concat(o," ").concat(e," ").concat(r),"aria-hidden":"true",onClick:i}):V.isValidElement(e)?V.cloneElement(e,{className:"".concat(e.props.className||""," ").concat(o," ").concat(r),onClick:function(s){typeof e.props.onClick=="function"&&e.props.onClick(s),typeof i=="function"&&i(s)}}):V.createElement("svg",{className:"".concat(o," ").concat(r),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",onClick:i},V.createElement("path",{d:"M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z"}))},z1=function(t){it(e,t);function e(n){var r=t.call(this,n)||this;return r.portalRoot=null,r.el=document.createElement("div"),r}return e.prototype.componentDidMount=function(){this.portalRoot=(this.props.portalHost||document).getElementById(this.props.portalId),this.portalRoot||(this.portalRoot=document.createElement("div"),this.portalRoot.setAttribute("id",this.props.portalId),(this.props.portalHost||document.body).appendChild(this.portalRoot)),this.portalRoot.appendChild(this.el)},e.prototype.componentWillUnmount=function(){this.portalRoot&&this.portalRoot.removeChild(this.el)},e.prototype.render=function(){return lk.createPortal(this.props.children,this.el)},e}(M.Component),e2="[tabindex], a, button, input, select, textarea",t2=function(t){return(t instanceof HTMLAnchorElement||!t.disabled)&&t.tabIndex!==-1},$1=function(t){it(e,t);function e(n){var r=t.call(this,n)||this;return r.getTabChildren=function(){var i;return Array.prototype.slice.call((i=r.tabLoopRef.current)===null||i===void 0?void 0:i.querySelectorAll(e2),1,-1).filter(t2)},r.handleFocusStart=function(){var i=r.getTabChildren();i&&i.length>1&&i[i.length-1].focus()},r.handleFocusEnd=function(){var i=r.getTabChildren();i&&i.length>1&&i[0].focus()},r.tabLoopRef=M.createRef(),r}return e.prototype.render=function(){var n;return((n=this.props.enableTabLoop)!==null&&n!==void 0?n:e.defaultProps.enableTabLoop)?V.createElement("div",{className:"react-datepicker__tab-loop",ref:this.tabLoopRef},V.createElement("div",{className:"react-datepicker__tab-loop__start",tabIndex:0,onFocus:this.handleFocusStart}),this.props.children,V.createElement("div",{className:"react-datepicker__tab-loop__end",tabIndex:0,onFocus:this.handleFocusEnd})):this.props.children},e.defaultProps={enableTabLoop:!0},e}(M.Component);function n2(t){var e=function(n){var r,i=typeof n.hidePopper=="boolean"?n.hidePopper:!0,o=M.useRef(null),s=cN(pe({open:!i,whileElementsMounted:zM,placement:n.popperPlacement,middleware:kn([KM({padding:15}),QM(10),GM({element:o})],(r=n.popperModifiers)!==null&&r!==void 0?r:[],!0)},n.popperProps)),a=pe(pe({},n),{hidePopper:i,popperProps:pe(pe({},s),{arrowRef:o})});return V.createElement(t,pe({},a))};return e}var r2=function(t){it(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e,"defaultProps",{get:function(){return{hidePopper:!0}},enumerable:!1,configurable:!0}),e.prototype.render=function(){var n=this.props,r=n.className,i=n.wrapperClassName,o=n.hidePopper,s=o===void 0?e.defaultProps.hidePopper:o,a=n.popperComponent,u=n.targetComponent,c=n.enableTabLoop,d=n.popperOnKeyDown,f=n.portalId,m=n.portalHost,g=n.popperProps,D=n.showArrow,E=void 0;if(!s){var C=nt("react-datepicker-popper",r);E=V.createElement($1,{enableTabLoop:c},V.createElement("div",{ref:g.refs.setFloating,style:g.floatingStyles,className:C,"data-placement":g.placement,onKeyDown:d},a,D&&V.createElement(rN,{ref:g.arrowRef,context:g.context,fill:"currentColor",strokeWidth:1,height:8,width:16,style:{transform:"translateY(-1px)"},className:"react-datepicker__triangle"})))}this.props.popperContainer&&(E=M.createElement(this.props.popperContainer,{},E)),f&&!s&&(E=V.createElement(z1,{portalId:f,portalHost:m},E));var v=nt("react-datepicker-wrapper",i);return V.createElement(V.Fragment,null,V.createElement("div",{ref:g.refs.setReference,className:v},u),E)},e}(M.Component),i2=n2(r2),Zv="react-datepicker-ignore-onclickoutside";function o2(t,e){return t&&e?Ct(t)!==Ct(e)||ae(t)!==ae(e):t!==e}var Qd="Date input not valid.",s2=function(t){it(e,t);function e(n){var r=t.call(this,n)||this;return r.calendar=null,r.input=null,r.getPreSelection=function(){return r.props.openToDate?r.props.openToDate:r.props.selectsEnd&&r.props.startDate?r.props.startDate:r.props.selectsStart&&r.props.endDate?r.props.endDate:Te()},r.modifyHolidays=function(){var i;return(i=r.props.holidays)===null||i===void 0?void 0:i.reduce(function(o,s){var a=new Date(s.date);return Wn(a)?kn(kn([],o,!0),[pe(pe({},s),{date:a})],!1):o},[])},r.calcInitialState=function(){var i,o=r.getPreSelection(),s=B1(r.props),a=U1(r.props),u=s&&vi(o,Ql(s))?s:a&&Vr(o,Fv(a))?a:o;return{open:r.props.startOpen||!1,preventFocus:!1,inputValue:null,preSelection:(i=r.props.selectsRange?r.props.startDate:r.props.selected)!==null&&i!==void 0?i:u,highlightDates:Hv(r.props.highlightDates),focused:!1,shouldFocusDayInline:!1,isRenderAriaLiveMessage:!1,wasHidden:!1}},r.resetHiddenStatus=function(){r.setState(pe(pe({},r.state),{wasHidden:!1}))},r.setHiddenStatus=function(){r.setState(pe(pe({},r.state),{wasHidden:!0}))},r.setHiddenStateOnVisibilityHidden=function(){document.visibilityState==="hidden"&&r.setHiddenStatus()},r.clearPreventFocusTimeout=function(){r.preventFocusTimeout&&clearTimeout(r.preventFocusTimeout)},r.setFocus=function(){r.input&&r.input.focus&&r.input.focus({preventScroll:!0})},r.setBlur=function(){r.input&&r.input.blur&&r.input.blur(),r.cancelFocusInput()},r.setOpen=function(i,o){o===void 0&&(o=!1),r.setState({open:i,preSelection:i&&r.state.open?r.state.preSelection:r.calcInitialState().preSelection,lastPreSelectChange:Kd},function(){i||r.setState(function(s){return{focused:o?s.focused:!1}},function(){!o&&r.setBlur(),r.setState({inputValue:null})})})},r.inputOk=function(){return Gn(r.state.preSelection)},r.isCalendarOpen=function(){return r.props.open===void 0?r.state.open&&!r.props.disabled&&!r.props.readOnly:r.props.open},r.handleFocus=function(i){var o,s,a=r.state.wasHidden,u=a?r.state.open:!0;a&&r.resetHiddenStatus(),!r.state.preventFocus&&u&&((s=(o=r.props).onFocus)===null||s===void 0||s.call(o,i),!r.props.preventOpenOnFocus&&!r.props.readOnly&&r.setOpen(!0)),r.setState({focused:!0})},r.sendFocusBackToInput=function(){r.preventFocusTimeout&&r.clearPreventFocusTimeout(),r.setState({preventFocus:!0},function(){r.preventFocusTimeout=setTimeout(function(){r.setFocus(),r.setState({preventFocus:!1})})})},r.cancelFocusInput=function(){clearTimeout(r.inputFocusTimeout),r.inputFocusTimeout=void 0},r.deferFocusInput=function(){r.cancelFocusInput(),r.inputFocusTimeout=setTimeout(function(){return r.setFocus()},1)},r.handleDropdownFocus=function(){r.cancelFocusInput()},r.handleBlur=function(i){var o,s;(!r.state.open||r.props.withPortal||r.props.showTimeInput)&&((s=(o=r.props).onBlur)===null||s===void 0||s.call(o,i)),r.setState({focused:!1})},r.handleCalendarClickOutside=function(i){var o,s;r.props.inline||r.setOpen(!1),(s=(o=r.props).onClickOutside)===null||s===void 0||s.call(o,i),r.props.withPortal&&i.preventDefault()},r.handleChange=function(){for(var i,o,s=[],a=0;a<arguments.length;a++)s[a]=arguments[a];var u=s[0];if(!(r.props.onChangeRaw&&(r.props.onChangeRaw.apply(r,s),!u||typeof u.isDefaultPrevented!="function"||u.isDefaultPrevented()))){r.setState({inputValue:(u==null?void 0:u.target)instanceof HTMLInputElement?u.target.value:null,lastPreSelectChange:a2});var c=r.props,d=c.dateFormat,f=d===void 0?e.defaultProps.dateFormat:d,m=c.strictParsing,g=m===void 0?e.defaultProps.strictParsing:m,D=c.selectsRange,E=c.startDate,C=c.endDate,v=(u==null?void 0:u.target)instanceof HTMLInputElement?u.target.value:"";if(D){var _=v.split("-",2).map(function(P){return P.trim()}),k=_[0],A=_[1],N=Wd(k??"",f,r.props.locale,g),O=Wd(A??"",f,r.props.locale,g),T=(E==null?void 0:E.getTime())!==(N==null?void 0:N.getTime()),y=(C==null?void 0:C.getTime())!==(O==null?void 0:O.getTime());if(!T&&!y||N&&Zt(N,r.props)||O&&Zt(O,r.props))return;(o=(i=r.props).onChange)===null||o===void 0||o.call(i,[N,O],u)}else{var S=Wd(v,f,r.props.locale,g,r.props.minDate);r.props.showTimeSelectOnly&&r.props.selected&&S&&!he(S,r.props.selected)&&(S=ZI(r.props.selected,{hours:Pn(S),minutes:Rn(S),seconds:Xn(S)})),(S||!v)&&r.setSelected(S,u,!0)}}},r.handleSelect=function(i,o,s){if(r.props.shouldCloseOnSelect&&!r.props.showTimeSelect&&r.sendFocusBackToInput(),r.props.onChangeRaw&&r.props.onChangeRaw(o),r.setSelected(i,o,!1,s),r.props.showDateSelect&&r.setState({isRenderAriaLiveMessage:!0}),!r.props.shouldCloseOnSelect||r.props.showTimeSelect)r.setPreSelection(i);else if(!r.props.inline){r.props.selectsRange||r.setOpen(!1);var a=r.props,u=a.startDate,c=a.endDate;u&&!c&&(r.props.swapRange||!Gv(i,u))&&r.setOpen(!1)}},r.setSelected=function(i,o,s,a){var u,c,d=i;if(r.props.showYearPicker){if(d!==null&&Kl(ae(d),r.props))return}else if(r.props.showMonthYearPicker){if(d!==null&&F1(d,r.props))return}else if(d!==null&&Zt(d,r.props))return;var f=r.props,m=f.onChange,g=f.selectsRange,D=f.startDate,E=f.endDate,C=f.selectsMultiple,v=f.selectedDates,_=f.minTime,k=f.swapRange;if(!oi(r.props.selected,d)||r.props.allowSameDay||g||C)if(d!==null&&(r.props.selected&&(!s||!r.props.showTimeSelect&&!r.props.showTimeSelectOnly&&!r.props.showTimeInput)&&(d=Hd(d,{hour:Pn(r.props.selected),minute:Rn(r.props.selected),second:Xn(r.props.selected)})),!s&&(r.props.showTimeSelect||r.props.showTimeSelectOnly)&&_&&(d=Hd(d,{hour:_.getHours(),minute:_.getMinutes(),second:_.getSeconds()})),r.props.inline||r.setState({preSelection:d}),r.props.focusSelectedMonth||r.setState({monthSelectedIn:a})),g){var A=!D&&!E,N=D&&!E,O=D&&E;A?m==null||m([d,null],o):N&&(d===null?m==null||m([null,null],o):Gv(d,D)?k?m==null||m([d,D],o):m==null||m([d,null],o):m==null||m([D,d],o)),O&&(m==null||m([d,null],o))}else if(C){if(d!==null)if(!(v!=null&&v.length))m==null||m([d],o);else{var T=v.some(function(S){return he(S,d)});if(T){var y=v.filter(function(S){return!he(S,d)});m==null||m(y,o)}else m==null||m(kn(kn([],v,!0),[d],!1),o)}}else m==null||m(d,o);s||((c=(u=r.props).onSelect)===null||c===void 0||c.call(u,d,o),r.setState({inputValue:null}))},r.setPreSelection=function(i){var o=Gn(r.props.minDate),s=Gn(r.props.maxDate),a=!0;if(i){var u=Ql(i);if(o&&s)a=Cs(i,r.props.minDate,r.props.maxDate);else if(o){var c=Ql(r.props.minDate);a=Vr(i,c)||oi(u,c)}else if(s){var d=Fv(r.props.maxDate);a=vi(i,d)||oi(u,d)}}a&&r.setState({preSelection:i})},r.toggleCalendar=function(){r.setOpen(!r.state.open)},r.handleTimeChange=function(i){var o,s;if(!(r.props.selectsRange||r.props.selectsMultiple)){var a=r.props.selected?r.props.selected:r.getPreSelection(),u=r.props.selected?i:Hd(a,{hour:Pn(i),minute:Rn(i)});r.setState({preSelection:u}),(s=(o=r.props).onChange)===null||s===void 0||s.call(o,u),r.props.shouldCloseOnSelect&&!r.props.showTimeInput&&(r.sendFocusBackToInput(),r.setOpen(!1)),r.props.showTimeInput&&r.setOpen(!0),(r.props.showTimeSelectOnly||r.props.showTimeSelect)&&r.setState({isRenderAriaLiveMessage:!0}),r.setState({inputValue:null})}},r.onInputClick=function(){var i,o;!r.props.disabled&&!r.props.readOnly&&r.setOpen(!0),(o=(i=r.props).onInputClick)===null||o===void 0||o.call(i)},r.onInputKeyDown=function(i){var o,s,a,u,c,d;(s=(o=r.props).onKeyDown)===null||s===void 0||s.call(o,i);var f=i.key;if(!r.state.open&&!r.props.inline&&!r.props.preventOpenOnFocus){(f===Y.ArrowDown||f===Y.ArrowUp||f===Y.Enter)&&((a=r.onInputClick)===null||a===void 0||a.call(r));return}if(r.state.open){if(f===Y.ArrowDown||f===Y.ArrowUp){i.preventDefault();var m=r.props.showTimeSelectOnly?".react-datepicker__time-list-item[tabindex='0']":r.props.showWeekPicker&&r.props.showWeekNumbers?'.react-datepicker__week-number[tabindex="0"]':r.props.showFullMonthYearPicker||r.props.showMonthYearPicker?'.react-datepicker__month-text[tabindex="0"]':'.react-datepicker__day[tabindex="0"]',g=((u=r.calendar)===null||u===void 0?void 0:u.containerRef.current)instanceof Element&&r.calendar.containerRef.current.querySelector(m);g instanceof HTMLElement&&g.focus({preventScroll:!0});return}var D=Te(r.state.preSelection);f===Y.Enter?(i.preventDefault(),r.inputOk()&&r.state.lastPreSelectChange===Kd?(r.handleSelect(D,i),!r.props.shouldCloseOnSelect&&r.setPreSelection(D)):r.setOpen(!1)):f===Y.Escape?(i.preventDefault(),r.sendFocusBackToInput(),r.setOpen(!1)):f===Y.Tab&&r.setOpen(!1),r.inputOk()||(d=(c=r.props).onInputError)===null||d===void 0||d.call(c,{code:1,msg:Qd})}},r.onPortalKeyDown=function(i){var o=i.key;o===Y.Escape&&(i.preventDefault(),r.setState({preventFocus:!0},function(){r.setOpen(!1),setTimeout(function(){r.setFocus(),r.setState({preventFocus:!1})})}))},r.onDayKeyDown=function(i){var o,s,a,u,c,d,f=r.props,m=f.minDate,g=f.maxDate,D=f.disabledKeyboardNavigation,E=f.showWeekPicker,C=f.shouldCloseOnSelect,v=f.locale,_=f.calendarStartDay,k=f.adjustDateOnChange,A=f.inline;if((s=(o=r.props).onKeyDown)===null||s===void 0||s.call(o,i),!D){var N=i.key,O=i.shiftKey,T=Te(r.state.preSelection),y=function(ne,X){var te=X;switch(ne){case Y.ArrowRight:te=E?ia(X,1):rr(X,1);break;case Y.ArrowLeft:te=E?Ry(X,1):LI(X,1);break;case Y.ArrowUp:te=Ry(X,1);break;case Y.ArrowDown:te=ia(X,1);break;case Y.PageUp:te=O?Eo(X,1):wo(X,1);break;case Y.PageDown:te=O?Kn(X,1):gn(X,1);break;case Y.Home:te=Nr(X,v,_);break;case Y.End:te=vN(X);break}return te},S=function(ne,X){for(var te=40,F=ne,q=!1,J=0,se=y(ne,X);!q;){if(J>=te){se=X;break}m&&se<m&&(F=Y.ArrowRight,se=Zt(m,r.props)?y(F,se):m),g&&se>g&&(F=Y.ArrowLeft,se=Zt(g,r.props)?y(F,se):g),Zt(se,r.props)?((F===Y.PageUp||F===Y.Home)&&(F=Y.ArrowRight),(F===Y.PageDown||F===Y.End)&&(F=Y.ArrowLeft),se=y(F,se)):q=!0,J++}return se};if(N===Y.Enter){i.preventDefault(),r.handleSelect(T,i),!C&&r.setPreSelection(T);return}else if(N===Y.Escape){i.preventDefault(),r.setOpen(!1),r.inputOk()||(u=(a=r.props).onInputError)===null||u===void 0||u.call(a,{code:1,msg:Qd});return}var P=null;switch(N){case Y.ArrowLeft:case Y.ArrowRight:case Y.ArrowUp:case Y.ArrowDown:case Y.PageUp:case Y.PageDown:case Y.Home:case Y.End:P=S(N,T);break}if(!P){(d=(c=r.props).onInputError)===null||d===void 0||d.call(c,{code:1,msg:Qd});return}if(i.preventDefault(),r.setState({lastPreSelectChange:Kd}),k&&r.setSelected(P),r.setPreSelection(P),A){var x=Ct(T),R=Ct(P),I=ae(T),Z=ae(P);x!==R||I!==Z?r.setState({shouldFocusDayInline:!0}):r.setState({shouldFocusDayInline:!1})}}},r.onPopperKeyDown=function(i){var o=i.key;o===Y.Escape&&(i.preventDefault(),r.sendFocusBackToInput())},r.onClearClick=function(i){i&&i.preventDefault&&i.preventDefault(),r.sendFocusBackToInput();var o=r.props,s=o.selectsRange,a=o.onChange;s?a==null||a([null,null],i):a==null||a(null,i),r.setState({inputValue:null})},r.clear=function(){r.onClearClick()},r.onScroll=function(i){typeof r.props.closeOnScroll=="boolean"&&r.props.closeOnScroll?(i.target===document||i.target===document.documentElement||i.target===document.body)&&r.setOpen(!1):typeof r.props.closeOnScroll=="function"&&r.props.closeOnScroll(i)&&r.setOpen(!1)},r.renderCalendar=function(){var i,o;return!r.props.inline&&!r.isCalendarOpen()?null:V.createElement(JN,pe({showMonthYearDropdown:void 0,ref:function(s){r.calendar=s}},r.props,r.state,{setOpen:r.setOpen,dateFormat:(i=r.props.dateFormatCalendar)!==null&&i!==void 0?i:e.defaultProps.dateFormatCalendar,onSelect:r.handleSelect,onClickOutside:r.handleCalendarClickOutside,holidays:xN(r.modifyHolidays()),outsideClickIgnoreClass:Zv,onDropdownFocus:r.handleDropdownFocus,onTimeChange:r.handleTimeChange,className:r.props.calendarClassName,container:r.props.calendarContainer,handleOnKeyDown:r.props.onKeyDown,handleOnDayKeyDown:r.onDayKeyDown,setPreSelection:r.setPreSelection,dropdownMode:(o=r.props.dropdownMode)!==null&&o!==void 0?o:e.defaultProps.dropdownMode}),r.props.children)},r.renderAriaLiveRegion=function(){var i=r.props,o=i.dateFormat,s=o===void 0?e.defaultProps.dateFormat:o,a=i.locale,u=r.props.showTimeInput||r.props.showTimeSelect,c=u?"PPPPp":"PPPP",d;return r.props.selectsRange?d="Selected start date: ".concat(Gt(r.props.startDate,{dateFormat:c,locale:a}),". ").concat(r.props.endDate?"End date: "+Gt(r.props.endDate,{dateFormat:c,locale:a}):""):r.props.showTimeSelectOnly?d="Selected time: ".concat(Gt(r.props.selected,{dateFormat:s,locale:a})):r.props.showYearPicker?d="Selected year: ".concat(Gt(r.props.selected,{dateFormat:"yyyy",locale:a})):r.props.showMonthYearPicker?d="Selected month: ".concat(Gt(r.props.selected,{dateFormat:"MMMM yyyy",locale:a})):r.props.showQuarterYearPicker?d="Selected quarter: ".concat(Gt(r.props.selected,{dateFormat:"yyyy, QQQ",locale:a})):d="Selected date: ".concat(Gt(r.props.selected,{dateFormat:c,locale:a})),V.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},d)},r.renderDateInput=function(){var i,o,s,a=nt(r.props.className,(i={},i[Zv]=r.state.open,i)),u=r.props.customInput||V.createElement("input",{type:"text"}),c=r.props.customInputRef||"ref",d=r.props,f=d.dateFormat,m=f===void 0?e.defaultProps.dateFormat:f,g=d.locale,D=typeof r.props.value=="string"?r.props.value:typeof r.state.inputValue=="string"?r.state.inputValue:r.props.selectsRange?pN(r.props.startDate,r.props.endDate,{dateFormat:m,locale:g}):r.props.selectsMultiple?mN((s=r.props.selectedDates)!==null&&s!==void 0?s:[],{dateFormat:m,locale:g}):Gt(r.props.selected,{dateFormat:m,locale:g});return M.cloneElement(u,(o={},o[c]=function(E){r.input=E},o.value=D,o.onBlur=r.handleBlur,o.onChange=r.handleChange,o.onClick=r.onInputClick,o.onFocus=r.handleFocus,o.onKeyDown=r.onInputKeyDown,o.id=r.props.id,o.name=r.props.name,o.form=r.props.form,o.autoFocus=r.props.autoFocus,o.placeholder=r.props.placeholderText,o.disabled=r.props.disabled,o.autoComplete=r.props.autoComplete,o.className=nt(u.props.className,a),o.title=r.props.title,o.readOnly=r.props.readOnly,o.required=r.props.required,o.tabIndex=r.props.tabIndex,o["aria-describedby"]=r.props.ariaDescribedBy,o["aria-invalid"]=r.props.ariaInvalid,o["aria-labelledby"]=r.props.ariaLabelledBy,o["aria-required"]=r.props.ariaRequired,o))},r.renderClearButton=function(){var i=r.props,o=i.isClearable,s=i.disabled,a=i.selected,u=i.startDate,c=i.endDate,d=i.clearButtonTitle,f=i.clearButtonClassName,m=f===void 0?"":f,g=i.ariaLabelClose,D=g===void 0?"Close":g,E=i.selectedDates;return o&&(a!=null||u!=null||c!=null||E!=null&&E.length)?V.createElement("button",{type:"button",className:nt("react-datepicker__close-icon",m,{"react-datepicker__close-icon--disabled":s}),disabled:s,"aria-label":D,onClick:r.onClearClick,title:d,tabIndex:-1}):null},r.state=r.calcInitialState(),r.preventFocusTimeout=void 0,r}return Object.defineProperty(e,"defaultProps",{get:function(){return{allowSameDay:!1,dateFormat:"MM/dd/yyyy",dateFormatCalendar:"LLLL yyyy",disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",preventOpenOnFocus:!1,monthsShown:1,readOnly:!1,withPortal:!1,selectsDisabledDaysInRange:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,showTimeInput:!1,showPreviousMonths:!1,showMonthYearPicker:!1,showFullMonthYearPicker:!1,showTwoColumnMonthYearPicker:!1,showFourColumnMonthYearPicker:!1,showYearPicker:!1,showQuarterYearPicker:!1,showWeekPicker:!1,strictParsing:!1,swapRange:!1,timeIntervals:30,timeCaption:"Time",previousMonthAriaLabel:"Previous Month",previousMonthButtonLabel:"Previous Month",nextMonthAriaLabel:"Next Month",nextMonthButtonLabel:"Next Month",previousYearAriaLabel:"Previous Year",previousYearButtonLabel:"Previous Year",nextYearAriaLabel:"Next Year",nextYearButtonLabel:"Next Year",timeInputLabel:"Time",enableTabLoop:!0,yearItemNumber:Pa,focusSelectedMonth:!1,showPopperArrow:!0,excludeScrollbar:!0,customTimeInput:null,calendarStartDay:void 0,toggleCalendarOnIconClick:!1,usePointerEvent:!1}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){window.addEventListener("scroll",this.onScroll,!0),document.addEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},e.prototype.componentDidUpdate=function(n,r){var i,o,s,a;n.inline&&o2(n.selected,this.props.selected)&&this.setPreSelection(this.props.selected),this.state.monthSelectedIn!==void 0&&n.monthsShown!==this.props.monthsShown&&this.setState({monthSelectedIn:0}),n.highlightDates!==this.props.highlightDates&&this.setState({highlightDates:Hv(this.props.highlightDates)}),!r.focused&&!oi(n.selected,this.props.selected)&&this.setState({inputValue:null}),r.open!==this.state.open&&(r.open===!1&&this.state.open===!0&&((o=(i=this.props).onCalendarOpen)===null||o===void 0||o.call(i)),r.open===!0&&this.state.open===!1&&((a=(s=this.props).onCalendarClose)===null||a===void 0||a.call(s)))},e.prototype.componentWillUnmount=function(){this.clearPreventFocusTimeout(),window.removeEventListener("scroll",this.onScroll,!0),document.removeEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},e.prototype.renderInputContainer=function(){var n=this.props,r=n.showIcon,i=n.icon,o=n.calendarIconClassname,s=n.calendarIconClassName,a=n.toggleCalendarOnIconClick,u=this.state.open;return o&&console.warn("calendarIconClassname props is deprecated. should use calendarIconClassName props."),V.createElement("div",{className:"react-datepicker__input-container".concat(r?" react-datepicker__view-calendar-icon":"")},r&&V.createElement(ZN,pe({icon:i,className:nt(s,!s&&o,u&&"react-datepicker-ignore-onclickoutside")},a?{onClick:this.toggleCalendar}:null)),this.state.isRenderAriaLiveMessage&&this.renderAriaLiveRegion(),this.renderDateInput(),this.renderClearButton())},e.prototype.render=function(){var n=this.renderCalendar();if(this.props.inline)return n;if(this.props.withPortal){var r=this.state.open?V.createElement($1,{enableTabLoop:this.props.enableTabLoop},V.createElement("div",{className:"react-datepicker__portal",tabIndex:-1,onKeyDown:this.onPortalKeyDown},n)):null;return this.state.open&&this.props.portalId&&(r=V.createElement(z1,pe({portalId:this.props.portalId},this.props),r)),V.createElement("div",null,this.renderInputContainer(),r)}return V.createElement(i2,pe({},this.props,{className:this.props.popperClassName,hidePopper:!this.isCalendarOpen(),targetComponent:this.renderInputContainer(),popperComponent:n,popperOnKeyDown:this.onPopperKeyDown,showArrow:this.props.showPopperArrow}))},e}(M.Component),a2="input",Kd="navigate";function l2(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Y1=l2,u2=typeof Qa=="object"&&Qa&&Qa.Object===Object&&Qa,c2=u2,d2=c2,h2=typeof self=="object"&&self&&self.Object===Object&&self,f2=d2||h2||Function("return this")(),W1=f2,p2=W1,m2=function(){return p2.Date.now()},g2=m2,y2=/\s/;function v2(t){for(var e=t.length;e--&&y2.test(t.charAt(e)););return e}var _2=v2,w2=_2,E2=/^\s+/;function T2(t){return t&&t.slice(0,w2(t)+1).replace(E2,"")}var S2=T2,D2=W1,k2=D2.Symbol,H1=k2,e_=H1,q1=Object.prototype,C2=q1.hasOwnProperty,I2=q1.toString,ys=e_?e_.toStringTag:void 0;function P2(t){var e=C2.call(t,ys),n=t[ys];try{t[ys]=void 0;var r=!0}catch{}var i=I2.call(t);return r&&(e?t[ys]=n:delete t[ys]),i}var R2=P2,x2=Object.prototype,A2=x2.toString;function b2(t){return A2.call(t)}var M2=b2,t_=H1,N2=R2,O2=M2,L2="[object Null]",V2="[object Undefined]",n_=t_?t_.toStringTag:void 0;function F2(t){return t==null?t===void 0?V2:L2:n_&&n_ in Object(t)?N2(t):O2(t)}var B2=F2;function U2(t){return t!=null&&typeof t=="object"}var j2=U2,z2=B2,$2=j2,Y2="[object Symbol]";function W2(t){return typeof t=="symbol"||$2(t)&&z2(t)==Y2}var H2=W2,q2=S2,r_=Y1,Q2=H2,i_=NaN,K2=/^[-+]0x[0-9a-f]+$/i,G2=/^0b[01]+$/i,X2=/^0o[0-7]+$/i,J2=parseInt;function Z2(t){if(typeof t=="number")return t;if(Q2(t))return i_;if(r_(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=r_(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=q2(t);var n=G2.test(t);return n||X2.test(t)?J2(t.slice(2),n?2:8):K2.test(t)?i_:+t}var eO=Z2,tO=Y1,Gd=g2,o_=eO,nO="Expected a function",rO=Math.max,iO=Math.min;function oO(t,e,n){var r,i,o,s,a,u,c=0,d=!1,f=!1,m=!0;if(typeof t!="function")throw new TypeError(nO);e=o_(e)||0,tO(n)&&(d=!!n.leading,f="maxWait"in n,o=f?rO(o_(n.maxWait)||0,e):o,m="trailing"in n?!!n.trailing:m);function g(O){var T=r,y=i;return r=i=void 0,c=O,s=t.apply(y,T),s}function D(O){return c=O,a=setTimeout(v,e),d?g(O):s}function E(O){var T=O-u,y=O-c,S=e-T;return f?iO(S,o-y):S}function C(O){var T=O-u,y=O-c;return u===void 0||T>=e||T<0||f&&y>=o}function v(){var O=Gd();if(C(O))return _(O);a=setTimeout(v,E(O))}function _(O){return a=void 0,m&&r?g(O):(r=i=void 0,s)}function k(){a!==void 0&&clearTimeout(a),c=0,r=u=i=a=void 0}function A(){return a===void 0?s:_(Gd())}function N(){var O=Gd(),T=C(O);if(r=arguments,i=this,u=O,T){if(a===void 0)return D(u);if(f)return clearTimeout(a),a=setTimeout(v,e),g(u)}return a===void 0&&(a=setTimeout(v,e)),s}return N.cancel=k,N.flush=A,N}var sO=oO;const aO=Sf(sO),lO=["Lead Singer","Vocalist","Guitarist","Bassist","Drummer","Pianist"],uO=["162 Praise Team","162 General Team","162 Tech Team"],cO=({isVisible:t,onClose:e,onSubmit:n})=>{var D;const[r,i]=M.useState({name:"",role:[],service_group:[],unavailable_dates:[]}),[o,s]=M.useState(null),[a,u]=M.useState(!1),c=E=>{i(C=>({...C,role:C.role.includes(E)?C.role.filter(v=>v!==E):[...C.role,E]}))},d=E=>{i(C=>({...C,service_group:C.service_group.includes(E)?C.service_group.filter(v=>v!==E):[...C.service_group,E]}))},f=E=>{if(E){const C=E.toISOString().split("T")[0];i(v=>({...v,unavailable_dates:[...v.unavailable_dates||[],C]})),s(null)}},m=async E=>{var C;E.preventDefault();try{await Ao.addMember({name:r.name,role:r.role,service_group:r.service_group,unavailable_dates:(C=r.unavailable_dates)==null?void 0:C.map(v=>ro(v,"yyyy-MM-dd"))},"162nd"),n(),i({name:"",role:[],service_group:[],unavailable_dates:[]}),e()}catch(v){console.error("Error adding member:",v)}},g=M.useCallback(aO(async E=>{if(E.trim()){const C=await Ao.checkIfMemberExists(E,"162nd");u(C)}else u(!1)},500),[]);return t?z.jsx("div",{className:He.overlay,onClick:e,children:z.jsxs("div",{className:He.addMemberForm,onClick:E=>E.stopPropagation(),children:[z.jsx("h1",{children:"Add Member"}),z.jsxs("form",{onSubmit:m,children:[z.jsxs("div",{className:He.formGroup,children:[z.jsx("label",{children:"Name"}),z.jsx("input",{type:"text",value:r.name,onChange:E=>{const C=E.target.value;i({...r,name:C}),g(C)},className:`${He.input} ${a?He.error:""}`,placeholder:"Enter name",required:!0}),a&&z.jsx("p",{className:He.errorText,children:"Member already exists"})]}),z.jsxs("div",{className:He.formGroup,children:[z.jsx("label",{children:"Roles"}),z.jsx("div",{className:He.checkboxGroup,children:lO.map(E=>z.jsxs("label",{className:He.checkbox,children:[z.jsx("input",{type:"checkbox",checked:r.role.includes(E),onChange:()=>c(E)}),E]},E))})]}),z.jsxs("div",{className:He.formGroup,children:[z.jsx("label",{children:"Service Groups"}),z.jsx("div",{className:He.checkboxGroup,children:uO.map(E=>z.jsxs("label",{className:He.checkbox,children:[z.jsx("input",{type:"checkbox",checked:r.service_group.includes(E),onChange:()=>d(E)}),E]},E))})]}),z.jsxs("div",{className:He.formGroup,children:[z.jsx("label",{children:"Unavailable Dates"}),z.jsx("div",{className:He.datePickerContainer,children:z.jsx(s2,{selected:o,onChange:f,dateFormat:"yyyy-MM-dd",placeholderText:"Select dates",className:He.datePicker})}),z.jsx("div",{className:He.datesList,children:(D=r.unavailable_dates)==null?void 0:D.map((E,C)=>z.jsxs("div",{className:He.dateTag,children:[E,z.jsx("button",{type:"button",onClick:()=>i(v=>{var _;return{...v,unavailable_dates:(_=v.unavailable_dates)==null?void 0:_.filter(k=>k!==E)}}),children:"×"})]},C))})]}),z.jsxs("div",{className:He.formActions,children:[z.jsx("button",{type:"button",onClick:e,className:He.cancelButton,children:"Cancel"}),z.jsx("button",{type:"submit",className:He.submitButton,disabled:a,children:"Add Member"})]})]})]})}):null},dO="_floatingEdit_f7qsn_1",hO="_fadeIn_f7qsn_1",fO="_header_f7qsn_20",pO="_closeButton_f7qsn_35",mO="_content_f7qsn_50",gO="_memberRow_f7qsn_56",yO="_memberSelect_f7qsn_72",vO="_footer_f7qsn_89",_O="_cancelButton_f7qsn_98",wO="_saveButton_f7qsn_99",EO="_overlay_f7qsn_126",Bt={floatingEdit:dO,fadeIn:hO,header:fO,closeButton:pO,content:mO,memberRow:gO,memberSelect:yO,footer:vO,cancelButton:_O,saveButton:wO,overlay:EO},TO=[{role:"Lead Singer",name:""},{role:"Vocalist",name:""},{role:"Guitarist",name:""},{role:"Bassist",name:""},{role:"Drummer",name:""},{role:"Pianist",name:""}],SO=({show:t,onClose:e,teamType:n,monthData:r})=>{var D;const[i,o]=M.useState([]),[s,a]=M.useState(r.members.reduce((E,C)=>({...E,[C.role]:C.name}),{})),[u,c]=M.useState([]);M.useEffect(()=>{(async()=>{const C=await Ao.getAllMembers("162nd");o(C)})()},[]);const d=E=>i.filter(C=>{const v=C.role.some(k=>k.toLowerCase()===E.toLowerCase()),_=C.service_group.some(k=>k.toLowerCase()===n.toLowerCase());return v&&_}),f=async()=>{try{await Ao.updateSchedule("162nd","praise_team",{date:r.date,members:Object.entries(s).map(([E,C])=>({role:E,name:C})),updatedAt:new Date().toISOString()}),e()}catch(E){console.error("Error saving schedule:",E)}},m=(E,C)=>{if(!C){c([]),a(k=>({...k,[E]:C}));return}const v=[],_=Object.entries(s).find(([k,A])=>A===C&&k!==E);_&&v.push({type:"SAME_PERSON",message:`${C} is already assigned as ${_[0]}`,severity:"ERROR"}),c(v),a(k=>({...k,[E]:C}))},g=((D=r.members)==null?void 0:D.length)>0?r.members:TO;return t?z.jsxs(z.Fragment,{children:[z.jsx("div",{className:Bt.overlay,onClick:e}),z.jsxs("div",{className:Bt.floatingEdit,children:[z.jsxs("div",{className:Bt.header,children:[z.jsx("h2",{children:r.date}),z.jsx("button",{onClick:e,className:Bt.closeButton,children:"×"})]}),z.jsx("div",{className:Bt.content,children:g.map((E,C)=>z.jsxs("div",{className:Bt.memberRow,children:[z.jsx("h4",{children:E.role}),z.jsxs("select",{className:Bt.memberSelect,value:s[E.role]||"",onChange:v=>m(E.role,v.target.value),children:[z.jsx("option",{value:"",children:"Select member"}),d(E.role).map(v=>z.jsx("option",{value:v.name,children:v.name},v.name))]})]},C))}),u.length>0&&z.jsx("div",{className:Bt.conflictWarnings,children:u.map((E,C)=>z.jsxs("div",{className:`${Bt.conflictMessage} ${Bt[E.severity.toLowerCase()]}`,children:["⚠️ ",E.message]},C))}),z.jsxs("div",{className:Bt.footer,children:[z.jsx("button",{onClick:e,className:Bt.cancelButton,children:"Cancel"}),z.jsx("button",{className:Bt.saveButton,disabled:u.some(E=>E.severity==="ERROR"),onClick:f,children:"Save Changes"})]})]})]}):null};class lo{static async initClient(){if(console.log("Starting Google Calendar API initialization..."),this.isInitialized)return console.log("Already initialized"),!0;try{return await new Promise((e,n)=>{const r=document.createElement("script");r.src="https://accounts.google.com/gsi/client",r.async=!0,r.defer=!0,r.onload=()=>e(),r.onerror=i=>n(i),document.head.appendChild(r)}),console.log("Google Identity Services script loaded"),await new Promise((e,n)=>{const r=document.createElement("script");r.src="https://apis.google.com/js/api.js",r.async=!0,r.defer=!0,r.onload=()=>e(),r.onerror=i=>n(i),document.head.appendChild(r)}),console.log("Google API script loaded"),await new Promise(e=>{window.gapi.load("client",e)}),console.log("GAPI client loaded"),await window.gapi.client.init({apiKey:"AIzaSyDJyD_suVvf2ysOil4GVKJQY6Kq9r3Ix0U",discoveryDocs:["https://www.googleapis.com/discovery/v1/apis/calendar/v3/rest"]}),console.log("GAPI client initialized"),this.tokenClient=window.google.accounts.oauth2.initTokenClient({client_id:"677039349773-oc656m927adcn2s64tg5mlslh5n65e9n.apps.googleusercontent.com",scope:"https://www.googleapis.com/auth/calendar.events",callback:()=>{},ux_mode:"popup",access_type:"offline"}),this.isInitialized=!0,console.log("Initialization complete"),!0}catch(e){throw console.error("Error initializing Google Calendar API:",e),e}}static async getAccessToken(){return this.hasValidToken?Promise.resolve():new Promise((e,n)=>{if(!this.tokenClient){n(new Error("Token client not initialized"));return}try{this.tokenClient.callback=r=>{if(r.error!==void 0){n(r);return}console.log("Access token obtained"),this.hasValidToken=!0,e(r)},this.tokenClient.requestAccessToken()}catch(r){console.error("Error getting access token:",r),n(r)}})}static async addEventToCalendar(e){try{console.log("Starting calendar event creation..."),this.isInitialized||(console.log("Initializing client..."),await this.initClient()),this.hasValidToken||(console.log("Requesting access token..."),await this.getAccessToken());const n={summary:e.summary,description:e.description,start:{dateTime:e.start.toISOString(),timeZone:Intl.DateTimeFormat().resolvedOptions().timeZone},end:{dateTime:e.end.toISOString(),timeZone:Intl.DateTimeFormat().resolvedOptions().timeZone},reminders:e.reminders||{useDefault:!0}};console.log("Creating event:",n);const r=await window.gapi.client.calendar.events.insert({calendarId:"primary",resource:n});if(console.log("Calendar API response:",r),r.status===200)return console.log("Event created successfully:",r.result),r.result;throw this.hasValidToken=!1,new Error(`Failed to create event. Status: ${r.status}`)}catch(n){throw console.error("Error creating calendar event:",n),this.hasValidToken=!1,n}}}H(lo,"isInitialized",!1),H(lo,"tokenClient",null),H(lo,"hasValidToken",!1);function DO(t){return t.split(" ").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" ")}const kO=({month:t,schedules:e,onCardClick:n})=>{const r=e[t]||{members:[]};return z.jsxs("div",{className:Be.card,onClick:()=>n(t),children:[z.jsx("div",{className:Be.cardDate,children:t}),z.jsx("div",{className:Be.memberList,children:r.members.map((i,o)=>z.jsxs("div",{className:Be.memberItem,children:[z.jsxs("span",{className:Be.role,children:[i.role,":"]}),z.jsx("span",{children:DO(i.name)})]},o))})]})};function CO(t,e=new Date().getFullYear()){const n=new Date(`${t} 1, ${e}`),r=Tp(n),i=Ep(n);return jk({start:r,end:i},{weekStartsOn:0}).filter(s=>ro(s,"M")===ro(r,"M")).map(s=>ro(s,"MMMM d"))}const s_=[["January","February","March"],["April","May","June"],["July","August","September"],["October","November","December"]];function IO(){const t="162nd",e="praise_team",[n,r]=M.useState(k()),[i,o]=M.useState(!1),[s,a]=M.useState(!1),[u,c]=M.useState(()=>sessionStorage.getItem("unlocked")==="true"),[d,f]=M.useState(!1),[m,g]=M.useState(!1),[D,E]=M.useState(""),C=s_[n],[v,_]=M.useState([]);M.useEffect(()=>{sessionStorage.setItem("unlocked",JSON.stringify(u))},[u]),M.useEffect(()=>{(async()=>{try{const Z=(await Ao.getAllMembers("162nd")).map(ne=>ne.name);_(Z)}catch(I){console.error("Error fetching members:",I)}})()},[]);function k(){const R=new Date().getMonth();return Math.floor(R/3)}const A=()=>{const[R,I]=M.useState(""),Z=()=>{R==="123"?(c(!0),sessionStorage.setItem("unlocked","true"),f(!1)):alert("Incorrect password")};return z.jsx("div",{className:Be.overlay,onClick:()=>f(!1),children:z.jsxs("div",{className:Be.unlockForm,onClick:ne=>ne.stopPropagation(),children:[z.jsx("h1",{children:"Unlock Editing Mode"}),z.jsx("input",{type:"password",placeholder:"Enter password",value:R,onChange:ne=>I(ne.target.value),onKeyPress:ne=>ne.key==="Enter"&&Z(),autoFocus:!0}),z.jsxs("div",{className:Be.buttonContainer,children:[z.jsx("button",{className:Be.cancelButton,onClick:()=>f(!1),children:"Cancel"}),z.jsx("button",{className:Be.unlockButton,onClick:Z,children:"Unlock"})]})]})})},[N,O]=M.useState({}),[,T]=M.useState(!0),y=async()=>{try{u&&c(!0);const I=(await Ao.getSchedules(t,e)).reduce((Z,ne)=>({...Z,[ne.id]:ne}),{});O(I)}catch(R){console.error("Error fetching schedules:",R)}finally{T(!1)}};M.useEffect(()=>{y()},[]);const[S,P]=M.useState(""),x=async()=>{var R,I;if(!S){alert("Please select a member first");return}try{await lo.initClient();const Z=Object.entries(N).filter(([ne,X])=>{const te=X.members.some(F=>F.name.toString().toLowerCase()===S.toLowerCase());return console.log("Checking schedule:",X.date,"Has member:",te),te});if(Z.length===0){console.log("No events found for member:",S),alert("No scheduled events found for the selected member.");return}for(const[ne,X]of Z){console.log("Processing schedule:",ne,"Details:",X);const te=(R=X.date)==null?void 0:R.match(/\((.*?)\)/);if(!te){console.log("No date match found for schedule:",X);continue}const F=te[1],q=new Date(`${F}, ${new Date().getFullYear()}`);console.log("Creating event for date:",q);const J=(I=X.members.find(se=>se.name.toString().toLowerCase()===S.toLowerCase()))==null?void 0:I.role;if(console.log("Member role:",J,"for date:",F),J){const se=new Date(q);se.setHours(10,0,0);const ve=new Date(q);ve.setHours(12,0,0);const be={summary:`Church Service - ${J}`,description:`Serving as ${J} at church`,start:se,end:ve,reminders:{useDefault:!1,overrides:[{method:"email",minutes:7*24*60},{method:"popup",minutes:7*24*60},{method:"email",minutes:2*24*60},{method:"popup",minutes:2*24*60}]}};await lo.addEventToCalendar(be)}else console.log("No role found for member on date:",F)}alert("Events have been added to your calendar!")}catch(Z){console.error("Error adding events to calendar:",Z),alert("Failed to add events to calendar. Please try again.")}};return z.jsxs(z.Fragment,{children:[z.jsxs("div",{className:Be.container,children:[z.jsxs("div",{className:Be.header,children:[z.jsx("button",{className:Be.navToggle,onClick:()=>o(!i),children:"☰"}),z.jsx("select",{className:Be.monthSelector,value:n,onChange:R=>r(Number(R.target.value)),children:s_.map((R,I)=>z.jsxs("option",{value:I,children:[R[0]," → ",R[2]]},I))}),z.jsx("button",{className:Be.unlockButton,onClick:()=>{u?c(!1):f(!0)},children:u?"🔒 Lock":"🔓 Unlock"}),z.jsx("button",{className:Be.addButton,onClick:()=>a(!s),disabled:!u,children:"+ Add New"})]}),z.jsx("div",{className:Be.mainContent,children:C.map(R=>z.jsxs("div",{className:Be.monthSection,children:[z.jsx("h2",{children:R}),z.jsx("div",{className:Be.cardGrid,children:CO(R).map((I,Z)=>z.jsx(kO,{month:`${Z+1}${PO(Z+1)} Sunday (${I})`,schedules:N,onCardClick:ne=>{E(ne),g(u)}},I))})]},R))}),z.jsxs("div",{className:Be.footer,children:[z.jsxs("select",{className:Be.userSelect,value:S,onChange:R=>P(R.target.value),children:[z.jsx("option",{value:"",children:"Select member"}),v.map(R=>z.jsx("option",{value:R.toString(),children:R},R.toString()))]}),z.jsx("button",{className:Be.calendarButton,onClick:x,children:"📅 Add to Calendar"})]})]}),d&&z.jsx(A,{}),z.jsx(cO,{isVisible:s,onClose:()=>a(!1),onSubmit:()=>Promise.resolve()}),m&&z.jsx(SO,{show:m,onClose:()=>{g(!1),y()},teamType:"162 Praise Team",monthData:N[D]||{date:D,members:[]}})]})}function PO(t){if(t>3&&t<21)return"th";switch(t%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}}/**
 * @remix-run/router v1.21.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Hu(){return Hu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hu.apply(this,arguments)}var Er;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Er||(Er={}));const a_="popstate";function RO(t){t===void 0&&(t={});function e(r,i){let{pathname:o,search:s,hash:a}=r.location;return wf("",{pathname:o,search:s,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:K1(i)}return AO(e,n,null,t)}function Vt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Q1(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function xO(){return Math.random().toString(36).substr(2,8)}function l_(t,e){return{usr:t.state,key:t.key,idx:e}}function wf(t,e,n,r){return n===void 0&&(n=null),Hu({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Mc(e):e,{state:n,key:e&&e.key||r||xO()})}function K1(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Mc(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function AO(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,a=Er.Pop,u=null,c=d();c==null&&(c=0,s.replaceState(Hu({},s.state,{idx:c}),""));function d(){return(s.state||{idx:null}).idx}function f(){a=Er.Pop;let C=d(),v=C==null?null:C-c;c=C,u&&u({action:a,location:E.location,delta:v})}function m(C,v){a=Er.Push;let _=wf(E.location,C,v);c=d()+1;let k=l_(_,c),A=E.createHref(_);try{s.pushState(k,"",A)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;i.location.assign(A)}o&&u&&u({action:a,location:E.location,delta:1})}function g(C,v){a=Er.Replace;let _=wf(E.location,C,v);c=d();let k=l_(_,c),A=E.createHref(_);s.replaceState(k,"",A),o&&u&&u({action:a,location:E.location,delta:0})}function D(C){let v=i.location.origin!=="null"?i.location.origin:i.location.href,_=typeof C=="string"?C:K1(C);return _=_.replace(/ $/,"%20"),Vt(v,"No window.location.(origin|href) available to create URL for href: "+_),new URL(_,v)}let E={get action(){return a},get location(){return t(i,s)},listen(C){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(a_,f),u=C,()=>{i.removeEventListener(a_,f),u=null}},createHref(C){return e(i,C)},createURL:D,encodeLocation(C){let v=D(C);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:m,replace:g,go(C){return s.go(C)}};return E}var u_;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(u_||(u_={}));function bO(t,e,n){return n===void 0&&(n="/"),MO(t,e,n,!1)}function MO(t,e,n,r){let i=typeof e=="string"?Mc(e):e,o=J1(i.pathname||"/",n);if(o==null)return null;let s=G1(t);NO(s);let a=null;for(let u=0;a==null&&u<s.length;++u){let c=WO(o);a=$O(s[u],c,r)}return a}function G1(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,s,a)=>{let u={relativePath:a===void 0?o.path||"":a,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};u.relativePath.startsWith("/")&&(Vt(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let c=uo([r,u.relativePath]),d=n.concat(u);o.children&&o.children.length>0&&(Vt(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),G1(o.children,e,d,c)),!(o.path==null&&!o.index)&&e.push({path:c,score:jO(c,o.index),routesMeta:d})};return t.forEach((o,s)=>{var a;if(o.path===""||!((a=o.path)!=null&&a.includes("?")))i(o,s);else for(let u of X1(o.path))i(o,s,u)}),e}function X1(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let s=X1(r.join("/")),a=[];return a.push(...s.map(u=>u===""?o:[o,u].join("/"))),i&&a.push(...s),a.map(u=>t.startsWith("/")&&u===""?"/":u)}function NO(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:zO(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const OO=/^:[\w-]+$/,LO=3,VO=2,FO=1,BO=10,UO=-2,c_=t=>t==="*";function jO(t,e){let n=t.split("/"),r=n.length;return n.some(c_)&&(r+=UO),e&&(r+=VO),n.filter(i=>!c_(i)).reduce((i,o)=>i+(OO.test(o)?LO:o===""?FO:BO),r)}function zO(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function $O(t,e,n){let{routesMeta:r}=t,i={},o="/",s=[];for(let a=0;a<r.length;++a){let u=r[a],c=a===r.length-1,d=o==="/"?e:e.slice(o.length)||"/",f=d_({path:u.relativePath,caseSensitive:u.caseSensitive,end:c},d),m=u.route;if(!f&&c&&n&&!r[r.length-1].route.index&&(f=d_({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},d)),!f)return null;Object.assign(i,f.params),s.push({params:i,pathname:uo([o,f.pathname]),pathnameBase:HO(uo([o,f.pathnameBase])),route:m}),f.pathnameBase!=="/"&&(o=uo([o,f.pathnameBase]))}return s}function d_(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=YO(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,d,f)=>{let{paramName:m,isOptional:g}=d;if(m==="*"){let E=a[f]||"";s=o.slice(0,o.length-E.length).replace(/(.)\/+$/,"$1")}const D=a[f];return g&&!D?c[m]=void 0:c[m]=(D||"").replace(/%2F/g,"/"),c},{}),pathname:o,pathnameBase:s,pattern:t}}function YO(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Q1(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,a,u)=>(r.push({paramName:a,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function WO(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Q1(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function J1(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}const uo=t=>t.join("/").replace(/\/\/+/g,"/"),HO=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/");function qO(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Z1=["post","put","patch","delete"];new Set(Z1);const QO=["get",...Z1];new Set(QO);/**
 * React Router v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function qu(){return qu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qu.apply(this,arguments)}const KO=M.createContext(null),GO=M.createContext(null),eT=M.createContext(null),Nc=M.createContext(null),Oc=M.createContext({outlet:null,matches:[],isDataRoute:!1}),tT=M.createContext(null);function hm(){return M.useContext(Nc)!=null}function XO(){return hm()||Vt(!1),M.useContext(Nc).location}function JO(t,e){return ZO(t,e)}function ZO(t,e,n,r){hm()||Vt(!1);let{navigator:i}=M.useContext(eT),{matches:o}=M.useContext(Oc),s=o[o.length-1],a=s?s.params:{};s&&s.pathname;let u=s?s.pathnameBase:"/";s&&s.route;let c=XO(),d;if(e){var f;let C=typeof e=="string"?Mc(e):e;u==="/"||(f=C.pathname)!=null&&f.startsWith(u)||Vt(!1),d=C}else d=c;let m=d.pathname||"/",g=m;if(u!=="/"){let C=u.replace(/^\//,"").split("/");g="/"+m.replace(/^\//,"").split("/").slice(C.length).join("/")}let D=bO(t,{pathname:g}),E=iL(D&&D.map(C=>Object.assign({},C,{params:Object.assign({},a,C.params),pathname:uo([u,i.encodeLocation?i.encodeLocation(C.pathname).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?u:uo([u,i.encodeLocation?i.encodeLocation(C.pathnameBase).pathname:C.pathnameBase])})),o,n,r);return e&&E?M.createElement(Nc.Provider,{value:{location:qu({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Er.Pop}},E):E}function eL(){let t=lL(),e=qO(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return M.createElement(M.Fragment,null,M.createElement("h2",null,"Unexpected Application Error!"),M.createElement("h3",{style:{fontStyle:"italic"}},e),n?M.createElement("pre",{style:i},n):null,null)}const tL=M.createElement(eL,null);class nL extends M.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?M.createElement(Oc.Provider,{value:this.props.routeContext},M.createElement(tT.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function rL(t){let{routeContext:e,match:n,children:r}=t,i=M.useContext(KO);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),M.createElement(Oc.Provider,{value:e},r)}function iL(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var o;if(!n)return null;if(n.errors)t=n.matches;else if((o=r)!=null&&o.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let d=s.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);d>=0||Vt(!1),s=s.slice(0,Math.min(s.length,d+1))}let u=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<s.length;d++){let f=s[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=d),f.route.id){let{loaderData:m,errors:g}=n,D=f.route.loader&&m[f.route.id]===void 0&&(!g||g[f.route.id]===void 0);if(f.route.lazy||D){u=!0,c>=0?s=s.slice(0,c+1):s=[s[0]];break}}}return s.reduceRight((d,f,m)=>{let g,D=!1,E=null,C=null;n&&(g=a&&f.route.id?a[f.route.id]:void 0,E=f.route.errorElement||tL,u&&(c<0&&m===0?(D=!0,C=null):c===m&&(D=!0,C=f.route.hydrateFallbackElement||null)));let v=e.concat(s.slice(0,m+1)),_=()=>{let k;return g?k=E:D?k=C:f.route.Component?k=M.createElement(f.route.Component,null):f.route.element?k=f.route.element:k=d,M.createElement(rL,{match:f,routeContext:{outlet:d,matches:v,isDataRoute:n!=null},children:k})};return n&&(f.route.ErrorBoundary||f.route.errorElement||m===0)?M.createElement(nL,{location:n.location,revalidation:n.revalidation,component:E,error:g,children:_(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):_()},null)}var Ef=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Ef||{});function oL(t){let e=M.useContext(GO);return e||Vt(!1),e}function sL(t){let e=M.useContext(Oc);return e||Vt(!1),e}function aL(t){let e=sL(),n=e.matches[e.matches.length-1];return n.route.id||Vt(!1),n.route.id}function lL(){var t;let e=M.useContext(tT),n=oL(Ef.UseRouteError),r=aL(Ef.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}const h_={};function uL(t,e){h_[e]||(h_[e]=!0,console.warn(e))}const f_=(t,e,n)=>uL(t,"⚠️ React Router Future Flag Warning: "+e+". "+("You can use the `"+t+"` future flag to opt-in early. ")+("For more information, see "+n+"."));function cL(t,e){t!=null&&t.v7_startTransition||f_("v7_startTransition","React Router will begin wrapping state updates in `React.startTransition` in v7","https://reactrouter.com/v6/upgrading/future#v7_starttransition"),!(t!=null&&t.v7_relativeSplatPath)&&!e&&f_("v7_relativeSplatPath","Relative route resolution within Splat routes is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath")}function nT(t){Vt(!1)}function dL(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Er.Pop,navigator:o,static:s=!1,future:a}=t;hm()&&Vt(!1);let u=e.replace(/^\/*/,"/"),c=M.useMemo(()=>({basename:u,navigator:o,static:s,future:qu({v7_relativeSplatPath:!1},a)}),[u,a,o,s]);typeof r=="string"&&(r=Mc(r));let{pathname:d="/",search:f="",hash:m="",state:g=null,key:D="default"}=r,E=M.useMemo(()=>{let C=J1(d,u);return C==null?null:{location:{pathname:C,search:f,hash:m,state:g,key:D},navigationType:i}},[u,d,f,m,g,D,i]);return E==null?null:M.createElement(eT.Provider,{value:c},M.createElement(Nc.Provider,{children:n,value:E}))}function hL(t){let{children:e,location:n}=t;return JO(Tf(e),n)}new Promise(()=>{});function Tf(t,e){e===void 0&&(e=[]);let n=[];return M.Children.forEach(t,(r,i)=>{if(!M.isValidElement(r))return;let o=[...e,i];if(r.type===M.Fragment){n.push.apply(n,Tf(r.props.children,o));return}r.type!==nT&&Vt(!1),!r.props.index||!r.props.children||Vt(!1);let s={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=Tf(r.props.children,o)),n.push(s)}),n}/**
 * React Router DOM v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const fL="6";try{window.__reactRouterVersion=fL}catch{}const pL="startTransition",p_=I_[pL];function mL(t){let{basename:e,children:n,future:r,window:i}=t,o=M.useRef();o.current==null&&(o.current=RO({window:i,v5Compat:!0}));let s=o.current,[a,u]=M.useState({action:s.action,location:s.location}),{v7_startTransition:c}=r||{},d=M.useCallback(f=>{c&&p_?p_(()=>u(f)):u(f)},[u,c]);return M.useLayoutEffect(()=>s.listen(d),[s,d]),M.useEffect(()=>cL(r),[r]),M.createElement(dL,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:s,future:r})}var m_;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(m_||(m_={}));var g_;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(g_||(g_={}));function gL(){const[t,e]=M.useState(!1);return M.useEffect(()=>{const n=async()=>{try{console.log("Starting Google API initialization from App component"),await lo.initClient(),e(!0),console.log("Google API initialization complete")}catch(r){console.error("Failed to initialize Google API:",r),setTimeout(()=>{t||n()},2e3)}};return t||n(),()=>{}},[t]),z.jsx(mL,{children:z.jsx(hL,{children:z.jsx(nT,{path:"/",element:z.jsx(IO,{})})})})}Xd.createRoot(document.getElementById("root")).render(z.jsx(V.StrictMode,{children:z.jsx(gL,{})}));
