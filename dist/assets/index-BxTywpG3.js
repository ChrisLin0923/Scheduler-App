var VT=Object.defineProperty;var FT=(t,e,n)=>e in t?VT(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var H=(t,e,n)=>FT(t,typeof e!="symbol"?e+"":e,n);function BT(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var qa=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Df(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var w_={exports:{}},qu={},E_={exports:{}},le={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ga=Symbol.for("react.element"),UT=Symbol.for("react.portal"),jT=Symbol.for("react.fragment"),$T=Symbol.for("react.strict_mode"),zT=Symbol.for("react.profiler"),YT=Symbol.for("react.provider"),WT=Symbol.for("react.context"),HT=Symbol.for("react.forward_ref"),QT=Symbol.for("react.suspense"),qT=Symbol.for("react.memo"),KT=Symbol.for("react.lazy"),fg=Symbol.iterator;function GT(t){return t===null||typeof t!="object"?null:(t=fg&&t[fg]||t["@@iterator"],typeof t=="function"?t:null)}var T_={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S_=Object.assign,D_={};function Oo(t,e,n){this.props=t,this.context=e,this.refs=D_,this.updater=n||T_}Oo.prototype.isReactComponent={};Oo.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Oo.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function k_(){}k_.prototype=Oo.prototype;function kf(t,e,n){this.props=t,this.context=e,this.refs=D_,this.updater=n||T_}var Cf=kf.prototype=new k_;Cf.constructor=kf;S_(Cf,Oo.prototype);Cf.isPureReactComponent=!0;var pg=Array.isArray,C_=Object.prototype.hasOwnProperty,If={current:null},I_={key:!0,ref:!0,__self:!0,__source:!0};function P_(t,e,n){var r,i={},o=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)C_.call(e,r)&&!I_.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var u=Array(a),c=0;c<a;c++)u[c]=arguments[c+2];i.children=u}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:ga,type:t,key:o,ref:s,props:i,_owner:If.current}}function XT(t,e){return{$$typeof:ga,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Pf(t){return typeof t=="object"&&t!==null&&t.$$typeof===ga}function JT(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var mg=/\/+/g;function od(t,e){return typeof t=="object"&&t!==null&&t.key!=null?JT(""+t.key):e.toString(36)}function Cl(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case ga:case UT:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+od(s,0):r,pg(i)?(n="",t!=null&&(n=t.replace(mg,"$&/")+"/"),Cl(i,e,n,"",function(c){return c})):i!=null&&(Pf(i)&&(i=XT(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(mg,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",pg(t))for(var a=0;a<t.length;a++){o=t[a];var u=r+od(o,a);s+=Cl(o,e,n,u,i)}else if(u=GT(t),typeof u=="function")for(t=u.call(t),a=0;!(o=t.next()).done;)o=o.value,u=r+od(o,a++),s+=Cl(o,e,n,u,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function Ka(t,e,n){if(t==null)return t;var r=[],i=0;return Cl(t,r,"","",function(o){return e.call(n,o,i++)}),r}function ZT(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Rt={current:null},Il={transition:null},eS={ReactCurrentDispatcher:Rt,ReactCurrentBatchConfig:Il,ReactCurrentOwner:If};function R_(){throw Error("act(...) is not supported in production builds of React.")}le.Children={map:Ka,forEach:function(t,e,n){Ka(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Ka(t,function(){e++}),e},toArray:function(t){return Ka(t,function(e){return e})||[]},only:function(t){if(!Pf(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};le.Component=Oo;le.Fragment=jT;le.Profiler=zT;le.PureComponent=kf;le.StrictMode=$T;le.Suspense=QT;le.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eS;le.act=R_;le.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=S_({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=If.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(u in e)C_.call(e,u)&&!I_.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&a!==void 0?a[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){a=Array(u);for(var c=0;c<u;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:ga,type:t.type,key:i,ref:o,props:r,_owner:s}};le.createContext=function(t){return t={$$typeof:WT,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:YT,_context:t},t.Consumer=t};le.createElement=P_;le.createFactory=function(t){var e=P_.bind(null,t);return e.type=t,e};le.createRef=function(){return{current:null}};le.forwardRef=function(t){return{$$typeof:HT,render:t}};le.isValidElement=Pf;le.lazy=function(t){return{$$typeof:KT,_payload:{_status:-1,_result:t},_init:ZT}};le.memo=function(t,e){return{$$typeof:qT,type:t,compare:e===void 0?null:e}};le.startTransition=function(t){var e=Il.transition;Il.transition={};try{t()}finally{Il.transition=e}};le.unstable_act=R_;le.useCallback=function(t,e){return Rt.current.useCallback(t,e)};le.useContext=function(t){return Rt.current.useContext(t)};le.useDebugValue=function(){};le.useDeferredValue=function(t){return Rt.current.useDeferredValue(t)};le.useEffect=function(t,e){return Rt.current.useEffect(t,e)};le.useId=function(){return Rt.current.useId()};le.useImperativeHandle=function(t,e,n){return Rt.current.useImperativeHandle(t,e,n)};le.useInsertionEffect=function(t,e){return Rt.current.useInsertionEffect(t,e)};le.useLayoutEffect=function(t,e){return Rt.current.useLayoutEffect(t,e)};le.useMemo=function(t,e){return Rt.current.useMemo(t,e)};le.useReducer=function(t,e,n){return Rt.current.useReducer(t,e,n)};le.useRef=function(t){return Rt.current.useRef(t)};le.useState=function(t){return Rt.current.useState(t)};le.useSyncExternalStore=function(t,e,n){return Rt.current.useSyncExternalStore(t,e,n)};le.useTransition=function(){return Rt.current.useTransition()};le.version="18.3.1";E_.exports=le;var M=E_.exports;const V=Df(M),x_=BT({__proto__:null,default:V},[M]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tS=M,nS=Symbol.for("react.element"),rS=Symbol.for("react.fragment"),iS=Object.prototype.hasOwnProperty,oS=tS.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,sS={key:!0,ref:!0,__self:!0,__source:!0};function A_(t,e,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)iS.call(e,r)&&!sS.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:nS,type:t,key:o,ref:s,props:i,_owner:oS.current}}qu.Fragment=rS;qu.jsx=A_;qu.jsxs=A_;w_.exports=qu;var U=w_.exports,Jd={},b_={exports:{}},qt={},M_={exports:{}},N_={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(F,Q){var J=F.length;F.push(Q);e:for(;0<J;){var se=J-1>>>1,ve=F[se];if(0<i(ve,Q))F[se]=Q,F[J]=ve,J=se;else break e}}function n(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var Q=F[0],J=F.pop();if(J!==Q){F[0]=J;e:for(var se=0,ve=F.length,Me=ve>>>1;se<Me;){var Vn=2*(se+1)-1,Fn=F[Vn],Bn=Vn+1,Un=F[Bn];if(0>i(Fn,J))Bn<ve&&0>i(Un,Fn)?(F[se]=Un,F[Bn]=J,se=Bn):(F[se]=Fn,F[Vn]=J,se=Vn);else if(Bn<ve&&0>i(Un,J))F[se]=Un,F[Bn]=J,se=Bn;else break e}}return Q}function i(F,Q){var J=F.sortIndex-Q.sortIndex;return J!==0?J:F.id-Q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var u=[],c=[],d=1,f=null,p=3,g=!1,D=!1,I=!1,k=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(F){for(var Q=n(c);Q!==null;){if(Q.callback===null)r(c);else if(Q.startTime<=F)r(c),Q.sortIndex=Q.expirationTime,e(u,Q);else break;Q=n(c)}}function A(F){if(I=!1,E(F),!D)if(n(u)!==null)D=!0,X(N);else{var Q=n(c);Q!==null&&te(A,Q.startTime-F)}}function N(F,Q){D=!1,I&&(I=!1,v(y),y=-1),g=!0;var J=p;try{for(E(Q),f=n(u);f!==null&&(!(f.expirationTime>Q)||F&&!x());){var se=f.callback;if(typeof se=="function"){f.callback=null,p=f.priorityLevel;var ve=se(f.expirationTime<=Q);Q=t.unstable_now(),typeof ve=="function"?f.callback=ve:f===n(u)&&r(u),E(Q)}else r(u);f=n(u)}if(f!==null)var Me=!0;else{var Vn=n(c);Vn!==null&&te(A,Vn.startTime-Q),Me=!1}return Me}finally{f=null,p=J,g=!1}}var O=!1,T=null,y=-1,S=5,P=-1;function x(){return!(t.unstable_now()-P<S)}function R(){if(T!==null){var F=t.unstable_now();P=F;var Q=!0;try{Q=T(!0,F)}finally{Q?C():(O=!1,T=null)}}else O=!1}var C;if(typeof _=="function")C=function(){_(R)};else if(typeof MessageChannel<"u"){var Z=new MessageChannel,ne=Z.port2;Z.port1.onmessage=R,C=function(){ne.postMessage(null)}}else C=function(){k(R,0)};function X(F){T=F,O||(O=!0,C())}function te(F,Q){y=k(function(){F(t.unstable_now())},Q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(F){F.callback=null},t.unstable_continueExecution=function(){D||g||(D=!0,X(N))},t.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<F?Math.floor(1e3/F):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(F){switch(p){case 1:case 2:case 3:var Q=3;break;default:Q=p}var J=p;p=Q;try{return F()}finally{p=J}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(F,Q){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var J=p;p=F;try{return Q()}finally{p=J}},t.unstable_scheduleCallback=function(F,Q,J){var se=t.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?se+J:se):J=se,F){case 1:var ve=-1;break;case 2:ve=250;break;case 5:ve=1073741823;break;case 4:ve=1e4;break;default:ve=5e3}return ve=J+ve,F={id:d++,callback:Q,priorityLevel:F,startTime:J,expirationTime:ve,sortIndex:-1},J>se?(F.sortIndex=J,e(c,F),n(u)===null&&F===n(c)&&(I?(v(y),y=-1):I=!0,te(A,J-se))):(F.sortIndex=ve,e(u,F),D||g||(D=!0,X(N))),F},t.unstable_shouldYield=x,t.unstable_wrapCallback=function(F){var Q=p;return function(){var J=p;p=Q;try{return F.apply(this,arguments)}finally{p=J}}}})(N_);M_.exports=N_;var aS=M_.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lS=M,Qt=aS;function $(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var O_=new Set,js={};function Ei(t,e){co(t,e),co(t+"Capture",e)}function co(t,e){for(js[t]=e,t=0;t<e.length;t++)O_.add(e[t])}var Zn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Zd=Object.prototype.hasOwnProperty,uS=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,gg={},yg={};function cS(t){return Zd.call(yg,t)?!0:Zd.call(gg,t)?!1:uS.test(t)?yg[t]=!0:(gg[t]=!0,!1)}function dS(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function hS(t,e,n,r){if(e===null||typeof e>"u"||dS(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function xt(t,e,n,r,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var ct={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ct[t]=new xt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];ct[e]=new xt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){ct[t]=new xt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ct[t]=new xt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ct[t]=new xt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){ct[t]=new xt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){ct[t]=new xt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){ct[t]=new xt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){ct[t]=new xt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Rf=/[\-:]([a-z])/g;function xf(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Rf,xf);ct[e]=new xt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Rf,xf);ct[e]=new xt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Rf,xf);ct[e]=new xt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){ct[t]=new xt(t,1,!1,t.toLowerCase(),null,!1,!1)});ct.xlinkHref=new xt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){ct[t]=new xt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Af(t,e,n,r){var i=ct.hasOwnProperty(e)?ct[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(hS(e,n,i,r)&&(n=null),r||i===null?cS(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var ar=lS.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ga=Symbol.for("react.element"),Bi=Symbol.for("react.portal"),Ui=Symbol.for("react.fragment"),bf=Symbol.for("react.strict_mode"),eh=Symbol.for("react.profiler"),L_=Symbol.for("react.provider"),V_=Symbol.for("react.context"),Mf=Symbol.for("react.forward_ref"),th=Symbol.for("react.suspense"),nh=Symbol.for("react.suspense_list"),Nf=Symbol.for("react.memo"),fr=Symbol.for("react.lazy"),F_=Symbol.for("react.offscreen"),vg=Symbol.iterator;function is(t){return t===null||typeof t!="object"?null:(t=vg&&t[vg]||t["@@iterator"],typeof t=="function"?t:null)}var Fe=Object.assign,sd;function vs(t){if(sd===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);sd=e&&e[1]||""}return`
`+sd+t}var ad=!1;function ld(t,e){if(!t||ad)return"";ad=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var u=`
`+i[s].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=s&&0<=a);break}}}finally{ad=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?vs(t):""}function fS(t){switch(t.tag){case 5:return vs(t.type);case 16:return vs("Lazy");case 13:return vs("Suspense");case 19:return vs("SuspenseList");case 0:case 2:case 15:return t=ld(t.type,!1),t;case 11:return t=ld(t.type.render,!1),t;case 1:return t=ld(t.type,!0),t;default:return""}}function rh(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ui:return"Fragment";case Bi:return"Portal";case eh:return"Profiler";case bf:return"StrictMode";case th:return"Suspense";case nh:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case V_:return(t.displayName||"Context")+".Consumer";case L_:return(t._context.displayName||"Context")+".Provider";case Mf:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Nf:return e=t.displayName||null,e!==null?e:rh(t.type)||"Memo";case fr:e=t._payload,t=t._init;try{return rh(t(e))}catch{}}return null}function pS(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return rh(e);case 8:return e===bf?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Or(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function B_(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function mS(t){var e=B_(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Xa(t){t._valueTracker||(t._valueTracker=mS(t))}function U_(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=B_(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Gl(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function ih(t,e){var n=e.checked;return Fe({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function _g(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Or(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function j_(t,e){e=e.checked,e!=null&&Af(t,"checked",e,!1)}function oh(t,e){j_(t,e);var n=Or(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?sh(t,e.type,n):e.hasOwnProperty("defaultValue")&&sh(t,e.type,Or(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function wg(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function sh(t,e,n){(e!=="number"||Gl(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var _s=Array.isArray;function Xi(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Or(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function ah(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error($(91));return Fe({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Eg(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error($(92));if(_s(n)){if(1<n.length)throw Error($(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Or(n)}}function $_(t,e){var n=Or(e.value),r=Or(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Tg(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function z_(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lh(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?z_(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Ja,Y_=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Ja=Ja||document.createElement("div"),Ja.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ja.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function $s(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Is={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},gS=["Webkit","ms","Moz","O"];Object.keys(Is).forEach(function(t){gS.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Is[e]=Is[t]})});function W_(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Is.hasOwnProperty(t)&&Is[t]?(""+e).trim():e+"px"}function H_(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=W_(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var yS=Fe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function uh(t,e){if(e){if(yS[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error($(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error($(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error($(61))}if(e.style!=null&&typeof e.style!="object")throw Error($(62))}}function ch(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var dh=null;function Of(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var hh=null,Ji=null,Zi=null;function Sg(t){if(t=_a(t)){if(typeof hh!="function")throw Error($(280));var e=t.stateNode;e&&(e=Zu(e),hh(t.stateNode,t.type,e))}}function Q_(t){Ji?Zi?Zi.push(t):Zi=[t]:Ji=t}function q_(){if(Ji){var t=Ji,e=Zi;if(Zi=Ji=null,Sg(t),e)for(t=0;t<e.length;t++)Sg(e[t])}}function K_(t,e){return t(e)}function G_(){}var ud=!1;function X_(t,e,n){if(ud)return t(e,n);ud=!0;try{return K_(t,e,n)}finally{ud=!1,(Ji!==null||Zi!==null)&&(G_(),q_())}}function zs(t,e){var n=t.stateNode;if(n===null)return null;var r=Zu(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error($(231,e,typeof n));return n}var fh=!1;if(Zn)try{var os={};Object.defineProperty(os,"passive",{get:function(){fh=!0}}),window.addEventListener("test",os,os),window.removeEventListener("test",os,os)}catch{fh=!1}function vS(t,e,n,r,i,o,s,a,u){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(d){this.onError(d)}}var Ps=!1,Xl=null,Jl=!1,ph=null,_S={onError:function(t){Ps=!0,Xl=t}};function wS(t,e,n,r,i,o,s,a,u){Ps=!1,Xl=null,vS.apply(_S,arguments)}function ES(t,e,n,r,i,o,s,a,u){if(wS.apply(this,arguments),Ps){if(Ps){var c=Xl;Ps=!1,Xl=null}else throw Error($(198));Jl||(Jl=!0,ph=c)}}function Ti(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function J_(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Dg(t){if(Ti(t)!==t)throw Error($(188))}function TS(t){var e=t.alternate;if(!e){if(e=Ti(t),e===null)throw Error($(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Dg(i),t;if(o===r)return Dg(i),e;o=o.sibling}throw Error($(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error($(189))}}if(n.alternate!==r)throw Error($(190))}if(n.tag!==3)throw Error($(188));return n.stateNode.current===n?t:e}function Z_(t){return t=TS(t),t!==null?e0(t):null}function e0(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=e0(t);if(e!==null)return e;t=t.sibling}return null}var t0=Qt.unstable_scheduleCallback,kg=Qt.unstable_cancelCallback,SS=Qt.unstable_shouldYield,DS=Qt.unstable_requestPaint,Ye=Qt.unstable_now,kS=Qt.unstable_getCurrentPriorityLevel,Lf=Qt.unstable_ImmediatePriority,n0=Qt.unstable_UserBlockingPriority,Zl=Qt.unstable_NormalPriority,CS=Qt.unstable_LowPriority,r0=Qt.unstable_IdlePriority,Ku=null,Cn=null;function IS(t){if(Cn&&typeof Cn.onCommitFiberRoot=="function")try{Cn.onCommitFiberRoot(Ku,t,void 0,(t.current.flags&128)===128)}catch{}}var fn=Math.clz32?Math.clz32:xS,PS=Math.log,RS=Math.LN2;function xS(t){return t>>>=0,t===0?32:31-(PS(t)/RS|0)|0}var Za=64,el=4194304;function ws(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function eu(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=ws(a):(o&=s,o!==0&&(r=ws(o)))}else s=n&~i,s!==0?r=ws(s):o!==0&&(r=ws(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-fn(e),i=1<<n,r|=t[n],e&=~i;return r}function AS(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function bS(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-fn(o),a=1<<s,u=i[s];u===-1?(!(a&n)||a&r)&&(i[s]=AS(a,e)):u<=e&&(t.expiredLanes|=a),o&=~a}}function mh(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function i0(){var t=Za;return Za<<=1,!(Za&4194240)&&(Za=64),t}function cd(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ya(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-fn(e),t[e]=n}function MS(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-fn(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function Vf(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-fn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Se=0;function o0(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var s0,Ff,a0,l0,u0,gh=!1,tl=[],Tr=null,Sr=null,Dr=null,Ys=new Map,Ws=new Map,mr=[],NS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Cg(t,e){switch(t){case"focusin":case"focusout":Tr=null;break;case"dragenter":case"dragleave":Sr=null;break;case"mouseover":case"mouseout":Dr=null;break;case"pointerover":case"pointerout":Ys.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ws.delete(e.pointerId)}}function ss(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=_a(e),e!==null&&Ff(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function OS(t,e,n,r,i){switch(e){case"focusin":return Tr=ss(Tr,t,e,n,r,i),!0;case"dragenter":return Sr=ss(Sr,t,e,n,r,i),!0;case"mouseover":return Dr=ss(Dr,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return Ys.set(o,ss(Ys.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Ws.set(o,ss(Ws.get(o)||null,t,e,n,r,i)),!0}return!1}function c0(t){var e=ti(t.target);if(e!==null){var n=Ti(e);if(n!==null){if(e=n.tag,e===13){if(e=J_(n),e!==null){t.blockedOn=e,u0(t.priority,function(){a0(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Pl(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=yh(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);dh=r,n.target.dispatchEvent(r),dh=null}else return e=_a(n),e!==null&&Ff(e),t.blockedOn=n,!1;e.shift()}return!0}function Ig(t,e,n){Pl(t)&&n.delete(e)}function LS(){gh=!1,Tr!==null&&Pl(Tr)&&(Tr=null),Sr!==null&&Pl(Sr)&&(Sr=null),Dr!==null&&Pl(Dr)&&(Dr=null),Ys.forEach(Ig),Ws.forEach(Ig)}function as(t,e){t.blockedOn===e&&(t.blockedOn=null,gh||(gh=!0,Qt.unstable_scheduleCallback(Qt.unstable_NormalPriority,LS)))}function Hs(t){function e(i){return as(i,t)}if(0<tl.length){as(tl[0],t);for(var n=1;n<tl.length;n++){var r=tl[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Tr!==null&&as(Tr,t),Sr!==null&&as(Sr,t),Dr!==null&&as(Dr,t),Ys.forEach(e),Ws.forEach(e),n=0;n<mr.length;n++)r=mr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<mr.length&&(n=mr[0],n.blockedOn===null);)c0(n),n.blockedOn===null&&mr.shift()}var eo=ar.ReactCurrentBatchConfig,tu=!0;function VS(t,e,n,r){var i=Se,o=eo.transition;eo.transition=null;try{Se=1,Bf(t,e,n,r)}finally{Se=i,eo.transition=o}}function FS(t,e,n,r){var i=Se,o=eo.transition;eo.transition=null;try{Se=4,Bf(t,e,n,r)}finally{Se=i,eo.transition=o}}function Bf(t,e,n,r){if(tu){var i=yh(t,e,n,r);if(i===null)wd(t,e,r,nu,n),Cg(t,r);else if(OS(i,t,e,n,r))r.stopPropagation();else if(Cg(t,r),e&4&&-1<NS.indexOf(t)){for(;i!==null;){var o=_a(i);if(o!==null&&s0(o),o=yh(t,e,n,r),o===null&&wd(t,e,r,nu,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else wd(t,e,r,null,n)}}var nu=null;function yh(t,e,n,r){if(nu=null,t=Of(r),t=ti(t),t!==null)if(e=Ti(t),e===null)t=null;else if(n=e.tag,n===13){if(t=J_(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return nu=t,null}function d0(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(kS()){case Lf:return 1;case n0:return 4;case Zl:case CS:return 16;case r0:return 536870912;default:return 16}default:return 16}}var yr=null,Uf=null,Rl=null;function h0(){if(Rl)return Rl;var t,e=Uf,n=e.length,r,i="value"in yr?yr.value:yr.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[o-r];r++);return Rl=i.slice(t,1<r?1-r:void 0)}function xl(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function nl(){return!0}function Pg(){return!1}function Kt(t){function e(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?nl:Pg,this.isPropagationStopped=Pg,this}return Fe(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=nl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=nl)},persist:function(){},isPersistent:nl}),e}var Lo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},jf=Kt(Lo),va=Fe({},Lo,{view:0,detail:0}),BS=Kt(va),dd,hd,ls,Gu=Fe({},va,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$f,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ls&&(ls&&t.type==="mousemove"?(dd=t.screenX-ls.screenX,hd=t.screenY-ls.screenY):hd=dd=0,ls=t),dd)},movementY:function(t){return"movementY"in t?t.movementY:hd}}),Rg=Kt(Gu),US=Fe({},Gu,{dataTransfer:0}),jS=Kt(US),$S=Fe({},va,{relatedTarget:0}),fd=Kt($S),zS=Fe({},Lo,{animationName:0,elapsedTime:0,pseudoElement:0}),YS=Kt(zS),WS=Fe({},Lo,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),HS=Kt(WS),QS=Fe({},Lo,{data:0}),xg=Kt(QS),qS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},KS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},GS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function XS(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=GS[t])?!!e[t]:!1}function $f(){return XS}var JS=Fe({},va,{key:function(t){if(t.key){var e=qS[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=xl(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?KS[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$f,charCode:function(t){return t.type==="keypress"?xl(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?xl(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),ZS=Kt(JS),eD=Fe({},Gu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ag=Kt(eD),tD=Fe({},va,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$f}),nD=Kt(tD),rD=Fe({},Lo,{propertyName:0,elapsedTime:0,pseudoElement:0}),iD=Kt(rD),oD=Fe({},Gu,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),sD=Kt(oD),aD=[9,13,27,32],zf=Zn&&"CompositionEvent"in window,Rs=null;Zn&&"documentMode"in document&&(Rs=document.documentMode);var lD=Zn&&"TextEvent"in window&&!Rs,f0=Zn&&(!zf||Rs&&8<Rs&&11>=Rs),bg=" ",Mg=!1;function p0(t,e){switch(t){case"keyup":return aD.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function m0(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ji=!1;function uD(t,e){switch(t){case"compositionend":return m0(e);case"keypress":return e.which!==32?null:(Mg=!0,bg);case"textInput":return t=e.data,t===bg&&Mg?null:t;default:return null}}function cD(t,e){if(ji)return t==="compositionend"||!zf&&p0(t,e)?(t=h0(),Rl=Uf=yr=null,ji=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return f0&&e.locale!=="ko"?null:e.data;default:return null}}var dD={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ng(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!dD[t.type]:e==="textarea"}function g0(t,e,n,r){Q_(r),e=ru(e,"onChange"),0<e.length&&(n=new jf("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var xs=null,Qs=null;function hD(t){I0(t,0)}function Xu(t){var e=Yi(t);if(U_(e))return t}function fD(t,e){if(t==="change")return e}var y0=!1;if(Zn){var pd;if(Zn){var md="oninput"in document;if(!md){var Og=document.createElement("div");Og.setAttribute("oninput","return;"),md=typeof Og.oninput=="function"}pd=md}else pd=!1;y0=pd&&(!document.documentMode||9<document.documentMode)}function Lg(){xs&&(xs.detachEvent("onpropertychange",v0),Qs=xs=null)}function v0(t){if(t.propertyName==="value"&&Xu(Qs)){var e=[];g0(e,Qs,t,Of(t)),X_(hD,e)}}function pD(t,e,n){t==="focusin"?(Lg(),xs=e,Qs=n,xs.attachEvent("onpropertychange",v0)):t==="focusout"&&Lg()}function mD(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Xu(Qs)}function gD(t,e){if(t==="click")return Xu(e)}function yD(t,e){if(t==="input"||t==="change")return Xu(e)}function vD(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var mn=typeof Object.is=="function"?Object.is:vD;function qs(t,e){if(mn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Zd.call(e,i)||!mn(t[i],e[i]))return!1}return!0}function Vg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Fg(t,e){var n=Vg(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Vg(n)}}function _0(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?_0(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function w0(){for(var t=window,e=Gl();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Gl(t.document)}return e}function Yf(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function _D(t){var e=w0(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&_0(n.ownerDocument.documentElement,n)){if(r!==null&&Yf(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=Fg(n,o);var s=Fg(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var wD=Zn&&"documentMode"in document&&11>=document.documentMode,$i=null,vh=null,As=null,_h=!1;function Bg(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;_h||$i==null||$i!==Gl(r)||(r=$i,"selectionStart"in r&&Yf(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),As&&qs(As,r)||(As=r,r=ru(vh,"onSelect"),0<r.length&&(e=new jf("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=$i)))}function rl(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var zi={animationend:rl("Animation","AnimationEnd"),animationiteration:rl("Animation","AnimationIteration"),animationstart:rl("Animation","AnimationStart"),transitionend:rl("Transition","TransitionEnd")},gd={},E0={};Zn&&(E0=document.createElement("div").style,"AnimationEvent"in window||(delete zi.animationend.animation,delete zi.animationiteration.animation,delete zi.animationstart.animation),"TransitionEvent"in window||delete zi.transitionend.transition);function Ju(t){if(gd[t])return gd[t];if(!zi[t])return t;var e=zi[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in E0)return gd[t]=e[n];return t}var T0=Ju("animationend"),S0=Ju("animationiteration"),D0=Ju("animationstart"),k0=Ju("transitionend"),C0=new Map,Ug="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Yr(t,e){C0.set(t,e),Ei(e,[t])}for(var yd=0;yd<Ug.length;yd++){var vd=Ug[yd],ED=vd.toLowerCase(),TD=vd[0].toUpperCase()+vd.slice(1);Yr(ED,"on"+TD)}Yr(T0,"onAnimationEnd");Yr(S0,"onAnimationIteration");Yr(D0,"onAnimationStart");Yr("dblclick","onDoubleClick");Yr("focusin","onFocus");Yr("focusout","onBlur");Yr(k0,"onTransitionEnd");co("onMouseEnter",["mouseout","mouseover"]);co("onMouseLeave",["mouseout","mouseover"]);co("onPointerEnter",["pointerout","pointerover"]);co("onPointerLeave",["pointerout","pointerover"]);Ei("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ei("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ei("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ei("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ei("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ei("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Es="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),SD=new Set("cancel close invalid load scroll toggle".split(" ").concat(Es));function jg(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,ES(r,e,void 0,t),t.currentTarget=null}function I0(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var a=r[s],u=a.instance,c=a.currentTarget;if(a=a.listener,u!==o&&i.isPropagationStopped())break e;jg(i,a,c),o=u}else for(s=0;s<r.length;s++){if(a=r[s],u=a.instance,c=a.currentTarget,a=a.listener,u!==o&&i.isPropagationStopped())break e;jg(i,a,c),o=u}}}if(Jl)throw t=ph,Jl=!1,ph=null,t}function Ie(t,e){var n=e[Dh];n===void 0&&(n=e[Dh]=new Set);var r=t+"__bubble";n.has(r)||(P0(e,t,2,!1),n.add(r))}function _d(t,e,n){var r=0;e&&(r|=4),P0(n,t,r,e)}var il="_reactListening"+Math.random().toString(36).slice(2);function Ks(t){if(!t[il]){t[il]=!0,O_.forEach(function(n){n!=="selectionchange"&&(SD.has(n)||_d(n,!1,t),_d(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[il]||(e[il]=!0,_d("selectionchange",!1,e))}}function P0(t,e,n,r){switch(d0(e)){case 1:var i=VS;break;case 4:i=FS;break;default:i=Bf}n=i.bind(null,e,n,t),i=void 0,!fh||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function wd(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var u=s.tag;if((u===3||u===4)&&(u=s.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;s=s.return}for(;a!==null;){if(s=ti(a),s===null)return;if(u=s.tag,u===5||u===6){r=o=s;continue e}a=a.parentNode}}r=r.return}X_(function(){var c=o,d=Of(n),f=[];e:{var p=C0.get(t);if(p!==void 0){var g=jf,D=t;switch(t){case"keypress":if(xl(n)===0)break e;case"keydown":case"keyup":g=ZS;break;case"focusin":D="focus",g=fd;break;case"focusout":D="blur",g=fd;break;case"beforeblur":case"afterblur":g=fd;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=Rg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=jS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=nD;break;case T0:case S0:case D0:g=YS;break;case k0:g=iD;break;case"scroll":g=BS;break;case"wheel":g=sD;break;case"copy":case"cut":case"paste":g=HS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=Ag}var I=(e&4)!==0,k=!I&&t==="scroll",v=I?p!==null?p+"Capture":null:p;I=[];for(var _=c,E;_!==null;){E=_;var A=E.stateNode;if(E.tag===5&&A!==null&&(E=A,v!==null&&(A=zs(_,v),A!=null&&I.push(Gs(_,A,E)))),k)break;_=_.return}0<I.length&&(p=new g(p,D,null,n,d),f.push({event:p,listeners:I}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",p&&n!==dh&&(D=n.relatedTarget||n.fromElement)&&(ti(D)||D[er]))break e;if((g||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,g?(D=n.relatedTarget||n.toElement,g=c,D=D?ti(D):null,D!==null&&(k=Ti(D),D!==k||D.tag!==5&&D.tag!==6)&&(D=null)):(g=null,D=c),g!==D)){if(I=Rg,A="onMouseLeave",v="onMouseEnter",_="mouse",(t==="pointerout"||t==="pointerover")&&(I=Ag,A="onPointerLeave",v="onPointerEnter",_="pointer"),k=g==null?p:Yi(g),E=D==null?p:Yi(D),p=new I(A,_+"leave",g,n,d),p.target=k,p.relatedTarget=E,A=null,ti(d)===c&&(I=new I(v,_+"enter",D,n,d),I.target=E,I.relatedTarget=k,A=I),k=A,g&&D)t:{for(I=g,v=D,_=0,E=I;E;E=bi(E))_++;for(E=0,A=v;A;A=bi(A))E++;for(;0<_-E;)I=bi(I),_--;for(;0<E-_;)v=bi(v),E--;for(;_--;){if(I===v||v!==null&&I===v.alternate)break t;I=bi(I),v=bi(v)}I=null}else I=null;g!==null&&$g(f,p,g,I,!1),D!==null&&k!==null&&$g(f,k,D,I,!0)}}e:{if(p=c?Yi(c):window,g=p.nodeName&&p.nodeName.toLowerCase(),g==="select"||g==="input"&&p.type==="file")var N=fD;else if(Ng(p))if(y0)N=yD;else{N=mD;var O=pD}else(g=p.nodeName)&&g.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(N=gD);if(N&&(N=N(t,c))){g0(f,N,n,d);break e}O&&O(t,p,c),t==="focusout"&&(O=p._wrapperState)&&O.controlled&&p.type==="number"&&sh(p,"number",p.value)}switch(O=c?Yi(c):window,t){case"focusin":(Ng(O)||O.contentEditable==="true")&&($i=O,vh=c,As=null);break;case"focusout":As=vh=$i=null;break;case"mousedown":_h=!0;break;case"contextmenu":case"mouseup":case"dragend":_h=!1,Bg(f,n,d);break;case"selectionchange":if(wD)break;case"keydown":case"keyup":Bg(f,n,d)}var T;if(zf)e:{switch(t){case"compositionstart":var y="onCompositionStart";break e;case"compositionend":y="onCompositionEnd";break e;case"compositionupdate":y="onCompositionUpdate";break e}y=void 0}else ji?p0(t,n)&&(y="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(y="onCompositionStart");y&&(f0&&n.locale!=="ko"&&(ji||y!=="onCompositionStart"?y==="onCompositionEnd"&&ji&&(T=h0()):(yr=d,Uf="value"in yr?yr.value:yr.textContent,ji=!0)),O=ru(c,y),0<O.length&&(y=new xg(y,t,null,n,d),f.push({event:y,listeners:O}),T?y.data=T:(T=m0(n),T!==null&&(y.data=T)))),(T=lD?uD(t,n):cD(t,n))&&(c=ru(c,"onBeforeInput"),0<c.length&&(d=new xg("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:c}),d.data=T))}I0(f,e)})}function Gs(t,e,n){return{instance:t,listener:e,currentTarget:n}}function ru(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=zs(t,n),o!=null&&r.unshift(Gs(t,o,i)),o=zs(t,e),o!=null&&r.push(Gs(t,o,i))),t=t.return}return r}function bi(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function $g(t,e,n,r,i){for(var o=e._reactName,s=[];n!==null&&n!==r;){var a=n,u=a.alternate,c=a.stateNode;if(u!==null&&u===r)break;a.tag===5&&c!==null&&(a=c,i?(u=zs(n,o),u!=null&&s.unshift(Gs(n,u,a))):i||(u=zs(n,o),u!=null&&s.push(Gs(n,u,a)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var DD=/\r\n?/g,kD=/\u0000|\uFFFD/g;function zg(t){return(typeof t=="string"?t:""+t).replace(DD,`
`).replace(kD,"")}function ol(t,e,n){if(e=zg(e),zg(t)!==e&&n)throw Error($(425))}function iu(){}var wh=null,Eh=null;function Th(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Sh=typeof setTimeout=="function"?setTimeout:void 0,CD=typeof clearTimeout=="function"?clearTimeout:void 0,Yg=typeof Promise=="function"?Promise:void 0,ID=typeof queueMicrotask=="function"?queueMicrotask:typeof Yg<"u"?function(t){return Yg.resolve(null).then(t).catch(PD)}:Sh;function PD(t){setTimeout(function(){throw t})}function Ed(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Hs(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Hs(e)}function kr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Wg(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Vo=Math.random().toString(36).slice(2),Tn="__reactFiber$"+Vo,Xs="__reactProps$"+Vo,er="__reactContainer$"+Vo,Dh="__reactEvents$"+Vo,RD="__reactListeners$"+Vo,xD="__reactHandles$"+Vo;function ti(t){var e=t[Tn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[er]||n[Tn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Wg(t);t!==null;){if(n=t[Tn])return n;t=Wg(t)}return e}t=n,n=t.parentNode}return null}function _a(t){return t=t[Tn]||t[er],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Yi(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error($(33))}function Zu(t){return t[Xs]||null}var kh=[],Wi=-1;function Wr(t){return{current:t}}function xe(t){0>Wi||(t.current=kh[Wi],kh[Wi]=null,Wi--)}function ke(t,e){Wi++,kh[Wi]=t.current,t.current=e}var Lr={},Et=Wr(Lr),Nt=Wr(!1),hi=Lr;function ho(t,e){var n=t.type.contextTypes;if(!n)return Lr;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Ot(t){return t=t.childContextTypes,t!=null}function ou(){xe(Nt),xe(Et)}function Hg(t,e,n){if(Et.current!==Lr)throw Error($(168));ke(Et,e),ke(Nt,n)}function R0(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error($(108,pS(t)||"Unknown",i));return Fe({},n,r)}function su(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Lr,hi=Et.current,ke(Et,t),ke(Nt,Nt.current),!0}function Qg(t,e,n){var r=t.stateNode;if(!r)throw Error($(169));n?(t=R0(t,e,hi),r.__reactInternalMemoizedMergedChildContext=t,xe(Nt),xe(Et),ke(Et,t)):xe(Nt),ke(Nt,n)}var Yn=null,ec=!1,Td=!1;function x0(t){Yn===null?Yn=[t]:Yn.push(t)}function AD(t){ec=!0,x0(t)}function Hr(){if(!Td&&Yn!==null){Td=!0;var t=0,e=Se;try{var n=Yn;for(Se=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Yn=null,ec=!1}catch(i){throw Yn!==null&&(Yn=Yn.slice(t+1)),t0(Lf,Hr),i}finally{Se=e,Td=!1}}return null}var Hi=[],Qi=0,au=null,lu=0,Xt=[],Jt=0,fi=null,Hn=1,Qn="";function Xr(t,e){Hi[Qi++]=lu,Hi[Qi++]=au,au=t,lu=e}function A0(t,e,n){Xt[Jt++]=Hn,Xt[Jt++]=Qn,Xt[Jt++]=fi,fi=t;var r=Hn;t=Qn;var i=32-fn(r)-1;r&=~(1<<i),n+=1;var o=32-fn(e)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Hn=1<<32-fn(e)+i|n<<i|r,Qn=o+t}else Hn=1<<o|n<<i|r,Qn=t}function Wf(t){t.return!==null&&(Xr(t,1),A0(t,1,0))}function Hf(t){for(;t===au;)au=Hi[--Qi],Hi[Qi]=null,lu=Hi[--Qi],Hi[Qi]=null;for(;t===fi;)fi=Xt[--Jt],Xt[Jt]=null,Qn=Xt[--Jt],Xt[Jt]=null,Hn=Xt[--Jt],Xt[Jt]=null}var Yt=null,$t=null,be=!1,dn=null;function b0(t,e){var n=tn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function qg(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Yt=t,$t=kr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Yt=t,$t=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=fi!==null?{id:Hn,overflow:Qn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=tn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Yt=t,$t=null,!0):!1;default:return!1}}function Ch(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Ih(t){if(be){var e=$t;if(e){var n=e;if(!qg(t,e)){if(Ch(t))throw Error($(418));e=kr(n.nextSibling);var r=Yt;e&&qg(t,e)?b0(r,n):(t.flags=t.flags&-4097|2,be=!1,Yt=t)}}else{if(Ch(t))throw Error($(418));t.flags=t.flags&-4097|2,be=!1,Yt=t}}}function Kg(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Yt=t}function sl(t){if(t!==Yt)return!1;if(!be)return Kg(t),be=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Th(t.type,t.memoizedProps)),e&&(e=$t)){if(Ch(t))throw M0(),Error($(418));for(;e;)b0(t,e),e=kr(e.nextSibling)}if(Kg(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error($(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){$t=kr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}$t=null}}else $t=Yt?kr(t.stateNode.nextSibling):null;return!0}function M0(){for(var t=$t;t;)t=kr(t.nextSibling)}function fo(){$t=Yt=null,be=!1}function Qf(t){dn===null?dn=[t]:dn.push(t)}var bD=ar.ReactCurrentBatchConfig;function us(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error($(309));var r=n.stateNode}if(!r)throw Error($(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var a=i.refs;s===null?delete a[o]:a[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error($(284));if(!n._owner)throw Error($(290,t))}return t}function al(t,e){throw t=Object.prototype.toString.call(e),Error($(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Gg(t){var e=t._init;return e(t._payload)}function N0(t){function e(v,_){if(t){var E=v.deletions;E===null?(v.deletions=[_],v.flags|=16):E.push(_)}}function n(v,_){if(!t)return null;for(;_!==null;)e(v,_),_=_.sibling;return null}function r(v,_){for(v=new Map;_!==null;)_.key!==null?v.set(_.key,_):v.set(_.index,_),_=_.sibling;return v}function i(v,_){return v=Rr(v,_),v.index=0,v.sibling=null,v}function o(v,_,E){return v.index=E,t?(E=v.alternate,E!==null?(E=E.index,E<_?(v.flags|=2,_):E):(v.flags|=2,_)):(v.flags|=1048576,_)}function s(v){return t&&v.alternate===null&&(v.flags|=2),v}function a(v,_,E,A){return _===null||_.tag!==6?(_=Rd(E,v.mode,A),_.return=v,_):(_=i(_,E),_.return=v,_)}function u(v,_,E,A){var N=E.type;return N===Ui?d(v,_,E.props.children,A,E.key):_!==null&&(_.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===fr&&Gg(N)===_.type)?(A=i(_,E.props),A.ref=us(v,_,E),A.return=v,A):(A=Vl(E.type,E.key,E.props,null,v.mode,A),A.ref=us(v,_,E),A.return=v,A)}function c(v,_,E,A){return _===null||_.tag!==4||_.stateNode.containerInfo!==E.containerInfo||_.stateNode.implementation!==E.implementation?(_=xd(E,v.mode,A),_.return=v,_):(_=i(_,E.children||[]),_.return=v,_)}function d(v,_,E,A,N){return _===null||_.tag!==7?(_=ai(E,v.mode,A,N),_.return=v,_):(_=i(_,E),_.return=v,_)}function f(v,_,E){if(typeof _=="string"&&_!==""||typeof _=="number")return _=Rd(""+_,v.mode,E),_.return=v,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Ga:return E=Vl(_.type,_.key,_.props,null,v.mode,E),E.ref=us(v,null,_),E.return=v,E;case Bi:return _=xd(_,v.mode,E),_.return=v,_;case fr:var A=_._init;return f(v,A(_._payload),E)}if(_s(_)||is(_))return _=ai(_,v.mode,E,null),_.return=v,_;al(v,_)}return null}function p(v,_,E,A){var N=_!==null?_.key:null;if(typeof E=="string"&&E!==""||typeof E=="number")return N!==null?null:a(v,_,""+E,A);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Ga:return E.key===N?u(v,_,E,A):null;case Bi:return E.key===N?c(v,_,E,A):null;case fr:return N=E._init,p(v,_,N(E._payload),A)}if(_s(E)||is(E))return N!==null?null:d(v,_,E,A,null);al(v,E)}return null}function g(v,_,E,A,N){if(typeof A=="string"&&A!==""||typeof A=="number")return v=v.get(E)||null,a(_,v,""+A,N);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case Ga:return v=v.get(A.key===null?E:A.key)||null,u(_,v,A,N);case Bi:return v=v.get(A.key===null?E:A.key)||null,c(_,v,A,N);case fr:var O=A._init;return g(v,_,E,O(A._payload),N)}if(_s(A)||is(A))return v=v.get(E)||null,d(_,v,A,N,null);al(_,A)}return null}function D(v,_,E,A){for(var N=null,O=null,T=_,y=_=0,S=null;T!==null&&y<E.length;y++){T.index>y?(S=T,T=null):S=T.sibling;var P=p(v,T,E[y],A);if(P===null){T===null&&(T=S);break}t&&T&&P.alternate===null&&e(v,T),_=o(P,_,y),O===null?N=P:O.sibling=P,O=P,T=S}if(y===E.length)return n(v,T),be&&Xr(v,y),N;if(T===null){for(;y<E.length;y++)T=f(v,E[y],A),T!==null&&(_=o(T,_,y),O===null?N=T:O.sibling=T,O=T);return be&&Xr(v,y),N}for(T=r(v,T);y<E.length;y++)S=g(T,v,y,E[y],A),S!==null&&(t&&S.alternate!==null&&T.delete(S.key===null?y:S.key),_=o(S,_,y),O===null?N=S:O.sibling=S,O=S);return t&&T.forEach(function(x){return e(v,x)}),be&&Xr(v,y),N}function I(v,_,E,A){var N=is(E);if(typeof N!="function")throw Error($(150));if(E=N.call(E),E==null)throw Error($(151));for(var O=N=null,T=_,y=_=0,S=null,P=E.next();T!==null&&!P.done;y++,P=E.next()){T.index>y?(S=T,T=null):S=T.sibling;var x=p(v,T,P.value,A);if(x===null){T===null&&(T=S);break}t&&T&&x.alternate===null&&e(v,T),_=o(x,_,y),O===null?N=x:O.sibling=x,O=x,T=S}if(P.done)return n(v,T),be&&Xr(v,y),N;if(T===null){for(;!P.done;y++,P=E.next())P=f(v,P.value,A),P!==null&&(_=o(P,_,y),O===null?N=P:O.sibling=P,O=P);return be&&Xr(v,y),N}for(T=r(v,T);!P.done;y++,P=E.next())P=g(T,v,y,P.value,A),P!==null&&(t&&P.alternate!==null&&T.delete(P.key===null?y:P.key),_=o(P,_,y),O===null?N=P:O.sibling=P,O=P);return t&&T.forEach(function(R){return e(v,R)}),be&&Xr(v,y),N}function k(v,_,E,A){if(typeof E=="object"&&E!==null&&E.type===Ui&&E.key===null&&(E=E.props.children),typeof E=="object"&&E!==null){switch(E.$$typeof){case Ga:e:{for(var N=E.key,O=_;O!==null;){if(O.key===N){if(N=E.type,N===Ui){if(O.tag===7){n(v,O.sibling),_=i(O,E.props.children),_.return=v,v=_;break e}}else if(O.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===fr&&Gg(N)===O.type){n(v,O.sibling),_=i(O,E.props),_.ref=us(v,O,E),_.return=v,v=_;break e}n(v,O);break}else e(v,O);O=O.sibling}E.type===Ui?(_=ai(E.props.children,v.mode,A,E.key),_.return=v,v=_):(A=Vl(E.type,E.key,E.props,null,v.mode,A),A.ref=us(v,_,E),A.return=v,v=A)}return s(v);case Bi:e:{for(O=E.key;_!==null;){if(_.key===O)if(_.tag===4&&_.stateNode.containerInfo===E.containerInfo&&_.stateNode.implementation===E.implementation){n(v,_.sibling),_=i(_,E.children||[]),_.return=v,v=_;break e}else{n(v,_);break}else e(v,_);_=_.sibling}_=xd(E,v.mode,A),_.return=v,v=_}return s(v);case fr:return O=E._init,k(v,_,O(E._payload),A)}if(_s(E))return D(v,_,E,A);if(is(E))return I(v,_,E,A);al(v,E)}return typeof E=="string"&&E!==""||typeof E=="number"?(E=""+E,_!==null&&_.tag===6?(n(v,_.sibling),_=i(_,E),_.return=v,v=_):(n(v,_),_=Rd(E,v.mode,A),_.return=v,v=_),s(v)):n(v,_)}return k}var po=N0(!0),O0=N0(!1),uu=Wr(null),cu=null,qi=null,qf=null;function Kf(){qf=qi=cu=null}function Gf(t){var e=uu.current;xe(uu),t._currentValue=e}function Ph(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function to(t,e){cu=t,qf=qi=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Mt=!0),t.firstContext=null)}function rn(t){var e=t._currentValue;if(qf!==t)if(t={context:t,memoizedValue:e,next:null},qi===null){if(cu===null)throw Error($(308));qi=t,cu.dependencies={lanes:0,firstContext:t}}else qi=qi.next=t;return e}var ni=null;function Xf(t){ni===null?ni=[t]:ni.push(t)}function L0(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Xf(e)):(n.next=i.next,i.next=n),e.interleaved=n,tr(t,r)}function tr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var pr=!1;function Jf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function V0(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function qn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Cr(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,me&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,tr(t,n)}return i=r.interleaved,i===null?(e.next=e,Xf(r)):(e.next=i.next,i.next=e),r.interleaved=e,tr(t,n)}function Al(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Vf(t,n)}}function Xg(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function du(t,e,n,r){var i=t.updateQueue;pr=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var u=a,c=u.next;u.next=null,s===null?o=c:s.next=c,s=u;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==s&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=u))}if(o!==null){var f=i.baseState;s=0,d=c=u=null,a=o;do{var p=a.lane,g=a.eventTime;if((r&p)===p){d!==null&&(d=d.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var D=t,I=a;switch(p=e,g=n,I.tag){case 1:if(D=I.payload,typeof D=="function"){f=D.call(g,f,p);break e}f=D;break e;case 3:D.flags=D.flags&-65537|128;case 0:if(D=I.payload,p=typeof D=="function"?D.call(g,f,p):D,p==null)break e;f=Fe({},f,p);break e;case 2:pr=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,p=i.effects,p===null?i.effects=[a]:p.push(a))}else g={eventTime:g,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=g,u=f):d=d.next=g,s|=p;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;p=a,a=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(!0);if(d===null&&(u=f),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);mi|=s,t.lanes=s,t.memoizedState=f}}function Jg(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error($(191,i));i.call(r)}}}var wa={},In=Wr(wa),Js=Wr(wa),Zs=Wr(wa);function ri(t){if(t===wa)throw Error($(174));return t}function Zf(t,e){switch(ke(Zs,e),ke(Js,t),ke(In,wa),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:lh(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=lh(e,t)}xe(In),ke(In,e)}function mo(){xe(In),xe(Js),xe(Zs)}function F0(t){ri(Zs.current);var e=ri(In.current),n=lh(e,t.type);e!==n&&(ke(Js,t),ke(In,n))}function ep(t){Js.current===t&&(xe(In),xe(Js))}var Oe=Wr(0);function hu(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Sd=[];function tp(){for(var t=0;t<Sd.length;t++)Sd[t]._workInProgressVersionPrimary=null;Sd.length=0}var bl=ar.ReactCurrentDispatcher,Dd=ar.ReactCurrentBatchConfig,pi=0,Ve=null,Ge=null,tt=null,fu=!1,bs=!1,ea=0,MD=0;function mt(){throw Error($(321))}function np(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!mn(t[n],e[n]))return!1;return!0}function rp(t,e,n,r,i,o){if(pi=o,Ve=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,bl.current=t===null||t.memoizedState===null?VD:FD,t=n(r,i),bs){o=0;do{if(bs=!1,ea=0,25<=o)throw Error($(301));o+=1,tt=Ge=null,e.updateQueue=null,bl.current=BD,t=n(r,i)}while(bs)}if(bl.current=pu,e=Ge!==null&&Ge.next!==null,pi=0,tt=Ge=Ve=null,fu=!1,e)throw Error($(300));return t}function ip(){var t=ea!==0;return ea=0,t}function _n(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return tt===null?Ve.memoizedState=tt=t:tt=tt.next=t,tt}function on(){if(Ge===null){var t=Ve.alternate;t=t!==null?t.memoizedState:null}else t=Ge.next;var e=tt===null?Ve.memoizedState:tt.next;if(e!==null)tt=e,Ge=t;else{if(t===null)throw Error($(310));Ge=t,t={memoizedState:Ge.memoizedState,baseState:Ge.baseState,baseQueue:Ge.baseQueue,queue:Ge.queue,next:null},tt===null?Ve.memoizedState=tt=t:tt=tt.next=t}return tt}function ta(t,e){return typeof e=="function"?e(t):e}function kd(t){var e=on(),n=e.queue;if(n===null)throw Error($(311));n.lastRenderedReducer=t;var r=Ge,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,u=null,c=o;do{var d=c.lane;if((pi&d)===d)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(a=u=f,s=r):u=u.next=f,Ve.lanes|=d,mi|=d}c=c.next}while(c!==null&&c!==o);u===null?s=r:u.next=a,mn(r,e.memoizedState)||(Mt=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=u,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,Ve.lanes|=o,mi|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Cd(t){var e=on(),n=e.queue;if(n===null)throw Error($(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);mn(o,e.memoizedState)||(Mt=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function B0(){}function U0(t,e){var n=Ve,r=on(),i=e(),o=!mn(r.memoizedState,i);if(o&&(r.memoizedState=i,Mt=!0),r=r.queue,op(z0.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||tt!==null&&tt.memoizedState.tag&1){if(n.flags|=2048,na(9,$0.bind(null,n,r,i,e),void 0,null),rt===null)throw Error($(349));pi&30||j0(n,e,i)}return i}function j0(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ve.updateQueue,e===null?(e={lastEffect:null,stores:null},Ve.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function $0(t,e,n,r){e.value=n,e.getSnapshot=r,Y0(e)&&W0(t)}function z0(t,e,n){return n(function(){Y0(e)&&W0(t)})}function Y0(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!mn(t,n)}catch{return!0}}function W0(t){var e=tr(t,1);e!==null&&pn(e,t,1,-1)}function Zg(t){var e=_n();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ta,lastRenderedState:t},e.queue=t,t=t.dispatch=LD.bind(null,Ve,t),[e.memoizedState,t]}function na(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ve.updateQueue,e===null?(e={lastEffect:null,stores:null},Ve.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function H0(){return on().memoizedState}function Ml(t,e,n,r){var i=_n();Ve.flags|=t,i.memoizedState=na(1|e,n,void 0,r===void 0?null:r)}function tc(t,e,n,r){var i=on();r=r===void 0?null:r;var o=void 0;if(Ge!==null){var s=Ge.memoizedState;if(o=s.destroy,r!==null&&np(r,s.deps)){i.memoizedState=na(e,n,o,r);return}}Ve.flags|=t,i.memoizedState=na(1|e,n,o,r)}function ey(t,e){return Ml(8390656,8,t,e)}function op(t,e){return tc(2048,8,t,e)}function Q0(t,e){return tc(4,2,t,e)}function q0(t,e){return tc(4,4,t,e)}function K0(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function G0(t,e,n){return n=n!=null?n.concat([t]):null,tc(4,4,K0.bind(null,e,t),n)}function sp(){}function X0(t,e){var n=on();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&np(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function J0(t,e){var n=on();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&np(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Z0(t,e,n){return pi&21?(mn(n,e)||(n=i0(),Ve.lanes|=n,mi|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Mt=!0),t.memoizedState=n)}function ND(t,e){var n=Se;Se=n!==0&&4>n?n:4,t(!0);var r=Dd.transition;Dd.transition={};try{t(!1),e()}finally{Se=n,Dd.transition=r}}function ew(){return on().memoizedState}function OD(t,e,n){var r=Pr(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},tw(t))nw(e,n);else if(n=L0(t,e,n,r),n!==null){var i=Pt();pn(n,t,r,i),rw(n,e,r)}}function LD(t,e,n){var r=Pr(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(tw(t))nw(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,mn(a,s)){var u=e.interleaved;u===null?(i.next=i,Xf(e)):(i.next=u.next,u.next=i),e.interleaved=i;return}}catch{}finally{}n=L0(t,e,i,r),n!==null&&(i=Pt(),pn(n,t,r,i),rw(n,e,r))}}function tw(t){var e=t.alternate;return t===Ve||e!==null&&e===Ve}function nw(t,e){bs=fu=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function rw(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Vf(t,n)}}var pu={readContext:rn,useCallback:mt,useContext:mt,useEffect:mt,useImperativeHandle:mt,useInsertionEffect:mt,useLayoutEffect:mt,useMemo:mt,useReducer:mt,useRef:mt,useState:mt,useDebugValue:mt,useDeferredValue:mt,useTransition:mt,useMutableSource:mt,useSyncExternalStore:mt,useId:mt,unstable_isNewReconciler:!1},VD={readContext:rn,useCallback:function(t,e){return _n().memoizedState=[t,e===void 0?null:e],t},useContext:rn,useEffect:ey,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Ml(4194308,4,K0.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Ml(4194308,4,t,e)},useInsertionEffect:function(t,e){return Ml(4,2,t,e)},useMemo:function(t,e){var n=_n();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=_n();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=OD.bind(null,Ve,t),[r.memoizedState,t]},useRef:function(t){var e=_n();return t={current:t},e.memoizedState=t},useState:Zg,useDebugValue:sp,useDeferredValue:function(t){return _n().memoizedState=t},useTransition:function(){var t=Zg(!1),e=t[0];return t=ND.bind(null,t[1]),_n().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ve,i=_n();if(be){if(n===void 0)throw Error($(407));n=n()}else{if(n=e(),rt===null)throw Error($(349));pi&30||j0(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,ey(z0.bind(null,r,o,t),[t]),r.flags|=2048,na(9,$0.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=_n(),e=rt.identifierPrefix;if(be){var n=Qn,r=Hn;n=(r&~(1<<32-fn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=ea++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=MD++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},FD={readContext:rn,useCallback:X0,useContext:rn,useEffect:op,useImperativeHandle:G0,useInsertionEffect:Q0,useLayoutEffect:q0,useMemo:J0,useReducer:kd,useRef:H0,useState:function(){return kd(ta)},useDebugValue:sp,useDeferredValue:function(t){var e=on();return Z0(e,Ge.memoizedState,t)},useTransition:function(){var t=kd(ta)[0],e=on().memoizedState;return[t,e]},useMutableSource:B0,useSyncExternalStore:U0,useId:ew,unstable_isNewReconciler:!1},BD={readContext:rn,useCallback:X0,useContext:rn,useEffect:op,useImperativeHandle:G0,useInsertionEffect:Q0,useLayoutEffect:q0,useMemo:J0,useReducer:Cd,useRef:H0,useState:function(){return Cd(ta)},useDebugValue:sp,useDeferredValue:function(t){var e=on();return Ge===null?e.memoizedState=t:Z0(e,Ge.memoizedState,t)},useTransition:function(){var t=Cd(ta)[0],e=on().memoizedState;return[t,e]},useMutableSource:B0,useSyncExternalStore:U0,useId:ew,unstable_isNewReconciler:!1};function un(t,e){if(t&&t.defaultProps){e=Fe({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Rh(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Fe({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var nc={isMounted:function(t){return(t=t._reactInternals)?Ti(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Pt(),i=Pr(t),o=qn(r,i);o.payload=e,n!=null&&(o.callback=n),e=Cr(t,o,i),e!==null&&(pn(e,t,i,r),Al(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Pt(),i=Pr(t),o=qn(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=Cr(t,o,i),e!==null&&(pn(e,t,i,r),Al(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Pt(),r=Pr(t),i=qn(n,r);i.tag=2,e!=null&&(i.callback=e),e=Cr(t,i,r),e!==null&&(pn(e,t,r,n),Al(e,t,r))}};function ty(t,e,n,r,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,s):e.prototype&&e.prototype.isPureReactComponent?!qs(n,r)||!qs(i,o):!0}function iw(t,e,n){var r=!1,i=Lr,o=e.contextType;return typeof o=="object"&&o!==null?o=rn(o):(i=Ot(e)?hi:Et.current,r=e.contextTypes,o=(r=r!=null)?ho(t,i):Lr),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=nc,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function ny(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&nc.enqueueReplaceState(e,e.state,null)}function xh(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Jf(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=rn(o):(o=Ot(e)?hi:Et.current,i.context=ho(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(Rh(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&nc.enqueueReplaceState(i,i.state,null),du(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function go(t,e){try{var n="",r=e;do n+=fS(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function Id(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Ah(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var UD=typeof WeakMap=="function"?WeakMap:Map;function ow(t,e,n){n=qn(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){gu||(gu=!0,jh=r),Ah(t,e)},n}function sw(t,e,n){n=qn(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Ah(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Ah(t,e),typeof r!="function"&&(Ir===null?Ir=new Set([this]):Ir.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function ry(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new UD;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=ek.bind(null,t,e,n),e.then(t,t))}function iy(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function oy(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=qn(-1,1),e.tag=2,Cr(n,e,1))),n.lanes|=1),t)}var jD=ar.ReactCurrentOwner,Mt=!1;function Dt(t,e,n,r){e.child=t===null?O0(e,null,n,r):po(e,t.child,n,r)}function sy(t,e,n,r,i){n=n.render;var o=e.ref;return to(e,i),r=rp(t,e,n,r,o,i),n=ip(),t!==null&&!Mt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,nr(t,e,i)):(be&&n&&Wf(e),e.flags|=1,Dt(t,e,r,i),e.child)}function ay(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!pp(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,aw(t,e,o,r,i)):(t=Vl(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:qs,n(s,r)&&t.ref===e.ref)return nr(t,e,i)}return e.flags|=1,t=Rr(o,r),t.ref=e.ref,t.return=e,e.child=t}function aw(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(qs(o,r)&&t.ref===e.ref)if(Mt=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(Mt=!0);else return e.lanes=t.lanes,nr(t,e,i)}return bh(t,e,n,r,i)}function lw(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ke(Gi,Ut),Ut|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ke(Gi,Ut),Ut|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,ke(Gi,Ut),Ut|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,ke(Gi,Ut),Ut|=r;return Dt(t,e,i,n),e.child}function uw(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function bh(t,e,n,r,i){var o=Ot(n)?hi:Et.current;return o=ho(e,o),to(e,i),n=rp(t,e,n,r,o,i),r=ip(),t!==null&&!Mt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,nr(t,e,i)):(be&&r&&Wf(e),e.flags|=1,Dt(t,e,n,i),e.child)}function ly(t,e,n,r,i){if(Ot(n)){var o=!0;su(e)}else o=!1;if(to(e,i),e.stateNode===null)Nl(t,e),iw(e,n,r),xh(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var u=s.context,c=n.contextType;typeof c=="object"&&c!==null?c=rn(c):(c=Ot(n)?hi:Et.current,c=ho(e,c));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||u!==c)&&ny(e,s,r,c),pr=!1;var p=e.memoizedState;s.state=p,du(e,r,s,i),u=e.memoizedState,a!==r||p!==u||Nt.current||pr?(typeof d=="function"&&(Rh(e,n,d,r),u=e.memoizedState),(a=pr||ty(e,n,a,r,p,u,c))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),s.props=r,s.state=u,s.context=c,r=a):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,V0(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:un(e.type,a),s.props=c,f=e.pendingProps,p=s.context,u=n.contextType,typeof u=="object"&&u!==null?u=rn(u):(u=Ot(n)?hi:Et.current,u=ho(e,u));var g=n.getDerivedStateFromProps;(d=typeof g=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==f||p!==u)&&ny(e,s,r,u),pr=!1,p=e.memoizedState,s.state=p,du(e,r,s,i);var D=e.memoizedState;a!==f||p!==D||Nt.current||pr?(typeof g=="function"&&(Rh(e,n,g,r),D=e.memoizedState),(c=pr||ty(e,n,c,r,p,D,u)||!1)?(d||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,D,u),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,D,u)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=D),s.props=r,s.state=D,s.context=u,r=c):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return Mh(t,e,n,r,o,i)}function Mh(t,e,n,r,i,o){uw(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&Qg(e,n,!1),nr(t,e,o);r=e.stateNode,jD.current=e;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=po(e,t.child,null,o),e.child=po(e,null,a,o)):Dt(t,e,a,o),e.memoizedState=r.state,i&&Qg(e,n,!0),e.child}function cw(t){var e=t.stateNode;e.pendingContext?Hg(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Hg(t,e.context,!1),Zf(t,e.containerInfo)}function uy(t,e,n,r,i){return fo(),Qf(i),e.flags|=256,Dt(t,e,n,r),e.child}var Nh={dehydrated:null,treeContext:null,retryLane:0};function Oh(t){return{baseLanes:t,cachePool:null,transitions:null}}function dw(t,e,n){var r=e.pendingProps,i=Oe.current,o=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),ke(Oe,i&1),t===null)return Ih(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,o?(r=e.mode,o=e.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=oc(s,r,0,null),t=ai(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=Oh(n),e.memoizedState=Nh,t):ap(e,s));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return $D(t,e,s,r,a,i,n);if(o){o=r.fallback,s=e.mode,i=t.child,a=i.sibling;var u={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=Rr(i,u),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=Rr(a,o):(o=ai(o,s,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,s=t.child.memoizedState,s=s===null?Oh(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~n,e.memoizedState=Nh,r}return o=t.child,t=o.sibling,r=Rr(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function ap(t,e){return e=oc({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function ll(t,e,n,r){return r!==null&&Qf(r),po(e,t.child,null,n),t=ap(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function $D(t,e,n,r,i,o,s){if(n)return e.flags&256?(e.flags&=-257,r=Id(Error($(422))),ll(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=oc({mode:"visible",children:r.children},i,0,null),o=ai(o,i,s,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&po(e,t.child,null,s),e.child.memoizedState=Oh(s),e.memoizedState=Nh,o);if(!(e.mode&1))return ll(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error($(419)),r=Id(o,r,void 0),ll(t,e,s,r)}if(a=(s&t.childLanes)!==0,Mt||a){if(r=rt,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,tr(t,i),pn(r,t,i,-1))}return fp(),r=Id(Error($(421))),ll(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=tk.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,$t=kr(i.nextSibling),Yt=e,be=!0,dn=null,t!==null&&(Xt[Jt++]=Hn,Xt[Jt++]=Qn,Xt[Jt++]=fi,Hn=t.id,Qn=t.overflow,fi=e),e=ap(e,r.children),e.flags|=4096,e)}function cy(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Ph(t.return,e,n)}function Pd(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function hw(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(Dt(t,e,r.children,n),r=Oe.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&cy(t,n,e);else if(t.tag===19)cy(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ke(Oe,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&hu(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Pd(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&hu(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Pd(e,!0,n,null,o);break;case"together":Pd(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Nl(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function nr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),mi|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error($(153));if(e.child!==null){for(t=e.child,n=Rr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Rr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function zD(t,e,n){switch(e.tag){case 3:cw(e),fo();break;case 5:F0(e);break;case 1:Ot(e.type)&&su(e);break;case 4:Zf(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;ke(uu,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(ke(Oe,Oe.current&1),e.flags|=128,null):n&e.child.childLanes?dw(t,e,n):(ke(Oe,Oe.current&1),t=nr(t,e,n),t!==null?t.sibling:null);ke(Oe,Oe.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return hw(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ke(Oe,Oe.current),r)break;return null;case 22:case 23:return e.lanes=0,lw(t,e,n)}return nr(t,e,n)}var fw,Lh,pw,mw;fw=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Lh=function(){};pw=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,ri(In.current);var o=null;switch(n){case"input":i=ih(t,i),r=ih(t,r),o=[];break;case"select":i=Fe({},i,{value:void 0}),r=Fe({},r,{value:void 0}),o=[];break;case"textarea":i=ah(t,i),r=ah(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=iu)}uh(n,r);var s;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(js.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var u=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&u!==a&&(u!=null||a!=null))if(c==="style")if(a){for(s in a)!a.hasOwnProperty(s)||u&&u.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in u)u.hasOwnProperty(s)&&a[s]!==u[s]&&(n||(n={}),n[s]=u[s])}else n||(o||(o=[]),o.push(c,n)),n=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,a=a?a.__html:void 0,u!=null&&a!==u&&(o=o||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(o=o||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(js.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&Ie("scroll",t),o||a===u||(o=[])):(o=o||[]).push(c,u))}n&&(o=o||[]).push("style",n);var c=o;(e.updateQueue=c)&&(e.flags|=4)}};mw=function(t,e,n,r){n!==r&&(e.flags|=4)};function cs(t,e){if(!be)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function gt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function YD(t,e,n){var r=e.pendingProps;switch(Hf(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gt(e),null;case 1:return Ot(e.type)&&ou(),gt(e),null;case 3:return r=e.stateNode,mo(),xe(Nt),xe(Et),tp(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(sl(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,dn!==null&&(Yh(dn),dn=null))),Lh(t,e),gt(e),null;case 5:ep(e);var i=ri(Zs.current);if(n=e.type,t!==null&&e.stateNode!=null)pw(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error($(166));return gt(e),null}if(t=ri(In.current),sl(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[Tn]=e,r[Xs]=o,t=(e.mode&1)!==0,n){case"dialog":Ie("cancel",r),Ie("close",r);break;case"iframe":case"object":case"embed":Ie("load",r);break;case"video":case"audio":for(i=0;i<Es.length;i++)Ie(Es[i],r);break;case"source":Ie("error",r);break;case"img":case"image":case"link":Ie("error",r),Ie("load",r);break;case"details":Ie("toggle",r);break;case"input":_g(r,o),Ie("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Ie("invalid",r);break;case"textarea":Eg(r,o),Ie("invalid",r)}uh(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&ol(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&ol(r.textContent,a,t),i=["children",""+a]):js.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&Ie("scroll",r)}switch(n){case"input":Xa(r),wg(r,o,!0);break;case"textarea":Xa(r),Tg(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=iu)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=z_(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[Tn]=e,t[Xs]=r,fw(t,e,!1,!1),e.stateNode=t;e:{switch(s=ch(n,r),n){case"dialog":Ie("cancel",t),Ie("close",t),i=r;break;case"iframe":case"object":case"embed":Ie("load",t),i=r;break;case"video":case"audio":for(i=0;i<Es.length;i++)Ie(Es[i],t);i=r;break;case"source":Ie("error",t),i=r;break;case"img":case"image":case"link":Ie("error",t),Ie("load",t),i=r;break;case"details":Ie("toggle",t),i=r;break;case"input":_g(t,r),i=ih(t,r),Ie("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Fe({},r,{value:void 0}),Ie("invalid",t);break;case"textarea":Eg(t,r),i=ah(t,r),Ie("invalid",t);break;default:i=r}uh(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var u=a[o];o==="style"?H_(t,u):o==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&Y_(t,u)):o==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&$s(t,u):typeof u=="number"&&$s(t,""+u):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(js.hasOwnProperty(o)?u!=null&&o==="onScroll"&&Ie("scroll",t):u!=null&&Af(t,o,u,s))}switch(n){case"input":Xa(t),wg(t,r,!1);break;case"textarea":Xa(t),Tg(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Or(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?Xi(t,!!r.multiple,o,!1):r.defaultValue!=null&&Xi(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=iu)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return gt(e),null;case 6:if(t&&e.stateNode!=null)mw(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error($(166));if(n=ri(Zs.current),ri(In.current),sl(e)){if(r=e.stateNode,n=e.memoizedProps,r[Tn]=e,(o=r.nodeValue!==n)&&(t=Yt,t!==null))switch(t.tag){case 3:ol(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ol(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Tn]=e,e.stateNode=r}return gt(e),null;case 13:if(xe(Oe),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(be&&$t!==null&&e.mode&1&&!(e.flags&128))M0(),fo(),e.flags|=98560,o=!1;else if(o=sl(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error($(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error($(317));o[Tn]=e}else fo(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;gt(e),o=!1}else dn!==null&&(Yh(dn),dn=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Oe.current&1?Xe===0&&(Xe=3):fp())),e.updateQueue!==null&&(e.flags|=4),gt(e),null);case 4:return mo(),Lh(t,e),t===null&&Ks(e.stateNode.containerInfo),gt(e),null;case 10:return Gf(e.type._context),gt(e),null;case 17:return Ot(e.type)&&ou(),gt(e),null;case 19:if(xe(Oe),o=e.memoizedState,o===null)return gt(e),null;if(r=(e.flags&128)!==0,s=o.rendering,s===null)if(r)cs(o,!1);else{if(Xe!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=hu(t),s!==null){for(e.flags|=128,cs(o,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ke(Oe,Oe.current&1|2),e.child}t=t.sibling}o.tail!==null&&Ye()>yo&&(e.flags|=128,r=!0,cs(o,!1),e.lanes=4194304)}else{if(!r)if(t=hu(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),cs(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!be)return gt(e),null}else 2*Ye()-o.renderingStartTime>yo&&n!==1073741824&&(e.flags|=128,r=!0,cs(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(n=o.last,n!==null?n.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Ye(),e.sibling=null,n=Oe.current,ke(Oe,r?n&1|2:n&1),e):(gt(e),null);case 22:case 23:return hp(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Ut&1073741824&&(gt(e),e.subtreeFlags&6&&(e.flags|=8192)):gt(e),null;case 24:return null;case 25:return null}throw Error($(156,e.tag))}function WD(t,e){switch(Hf(e),e.tag){case 1:return Ot(e.type)&&ou(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return mo(),xe(Nt),xe(Et),tp(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return ep(e),null;case 13:if(xe(Oe),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error($(340));fo()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return xe(Oe),null;case 4:return mo(),null;case 10:return Gf(e.type._context),null;case 22:case 23:return hp(),null;case 24:return null;default:return null}}var ul=!1,_t=!1,HD=typeof WeakSet=="function"?WeakSet:Set,K=null;function Ki(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){je(t,e,r)}else n.current=null}function Vh(t,e,n){try{n()}catch(r){je(t,e,r)}}var dy=!1;function QD(t,e){if(wh=tu,t=w0(),Yf(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,u=-1,c=0,d=0,f=t,p=null;t:for(;;){for(var g;f!==n||i!==0&&f.nodeType!==3||(a=s+i),f!==o||r!==0&&f.nodeType!==3||(u=s+r),f.nodeType===3&&(s+=f.nodeValue.length),(g=f.firstChild)!==null;)p=f,f=g;for(;;){if(f===t)break t;if(p===n&&++c===i&&(a=s),p===o&&++d===r&&(u=s),(g=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=g}n=a===-1||u===-1?null:{start:a,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(Eh={focusedElem:t,selectionRange:n},tu=!1,K=e;K!==null;)if(e=K,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,K=t;else for(;K!==null;){e=K;try{var D=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(D!==null){var I=D.memoizedProps,k=D.memoizedState,v=e.stateNode,_=v.getSnapshotBeforeUpdate(e.elementType===e.type?I:un(e.type,I),k);v.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var E=e.stateNode.containerInfo;E.nodeType===1?E.textContent="":E.nodeType===9&&E.documentElement&&E.removeChild(E.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error($(163))}}catch(A){je(e,e.return,A)}if(t=e.sibling,t!==null){t.return=e.return,K=t;break}K=e.return}return D=dy,dy=!1,D}function Ms(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&Vh(e,n,o)}i=i.next}while(i!==r)}}function rc(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Fh(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function gw(t){var e=t.alternate;e!==null&&(t.alternate=null,gw(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Tn],delete e[Xs],delete e[Dh],delete e[RD],delete e[xD])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function yw(t){return t.tag===5||t.tag===3||t.tag===4}function hy(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||yw(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Bh(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=iu));else if(r!==4&&(t=t.child,t!==null))for(Bh(t,e,n),t=t.sibling;t!==null;)Bh(t,e,n),t=t.sibling}function Uh(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Uh(t,e,n),t=t.sibling;t!==null;)Uh(t,e,n),t=t.sibling}var st=null,cn=!1;function dr(t,e,n){for(n=n.child;n!==null;)vw(t,e,n),n=n.sibling}function vw(t,e,n){if(Cn&&typeof Cn.onCommitFiberUnmount=="function")try{Cn.onCommitFiberUnmount(Ku,n)}catch{}switch(n.tag){case 5:_t||Ki(n,e);case 6:var r=st,i=cn;st=null,dr(t,e,n),st=r,cn=i,st!==null&&(cn?(t=st,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):st.removeChild(n.stateNode));break;case 18:st!==null&&(cn?(t=st,n=n.stateNode,t.nodeType===8?Ed(t.parentNode,n):t.nodeType===1&&Ed(t,n),Hs(t)):Ed(st,n.stateNode));break;case 4:r=st,i=cn,st=n.stateNode.containerInfo,cn=!0,dr(t,e,n),st=r,cn=i;break;case 0:case 11:case 14:case 15:if(!_t&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&Vh(n,e,s),i=i.next}while(i!==r)}dr(t,e,n);break;case 1:if(!_t&&(Ki(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){je(n,e,a)}dr(t,e,n);break;case 21:dr(t,e,n);break;case 22:n.mode&1?(_t=(r=_t)||n.memoizedState!==null,dr(t,e,n),_t=r):dr(t,e,n);break;default:dr(t,e,n)}}function fy(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new HD),e.forEach(function(r){var i=nk.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function ln(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,s=e,a=s;e:for(;a!==null;){switch(a.tag){case 5:st=a.stateNode,cn=!1;break e;case 3:st=a.stateNode.containerInfo,cn=!0;break e;case 4:st=a.stateNode.containerInfo,cn=!0;break e}a=a.return}if(st===null)throw Error($(160));vw(o,s,i),st=null,cn=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(c){je(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)_w(e,t),e=e.sibling}function _w(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(ln(e,t),vn(t),r&4){try{Ms(3,t,t.return),rc(3,t)}catch(I){je(t,t.return,I)}try{Ms(5,t,t.return)}catch(I){je(t,t.return,I)}}break;case 1:ln(e,t),vn(t),r&512&&n!==null&&Ki(n,n.return);break;case 5:if(ln(e,t),vn(t),r&512&&n!==null&&Ki(n,n.return),t.flags&32){var i=t.stateNode;try{$s(i,"")}catch(I){je(t,t.return,I)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,s=n!==null?n.memoizedProps:o,a=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&j_(i,o),ch(a,s);var c=ch(a,o);for(s=0;s<u.length;s+=2){var d=u[s],f=u[s+1];d==="style"?H_(i,f):d==="dangerouslySetInnerHTML"?Y_(i,f):d==="children"?$s(i,f):Af(i,d,f,c)}switch(a){case"input":oh(i,o);break;case"textarea":$_(i,o);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var g=o.value;g!=null?Xi(i,!!o.multiple,g,!1):p!==!!o.multiple&&(o.defaultValue!=null?Xi(i,!!o.multiple,o.defaultValue,!0):Xi(i,!!o.multiple,o.multiple?[]:"",!1))}i[Xs]=o}catch(I){je(t,t.return,I)}}break;case 6:if(ln(e,t),vn(t),r&4){if(t.stateNode===null)throw Error($(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(I){je(t,t.return,I)}}break;case 3:if(ln(e,t),vn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Hs(e.containerInfo)}catch(I){je(t,t.return,I)}break;case 4:ln(e,t),vn(t);break;case 13:ln(e,t),vn(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(cp=Ye())),r&4&&fy(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(_t=(c=_t)||d,ln(e,t),_t=c):ln(e,t),vn(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(K=t,d=t.child;d!==null;){for(f=K=d;K!==null;){switch(p=K,g=p.child,p.tag){case 0:case 11:case 14:case 15:Ms(4,p,p.return);break;case 1:Ki(p,p.return);var D=p.stateNode;if(typeof D.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,D.props=e.memoizedProps,D.state=e.memoizedState,D.componentWillUnmount()}catch(I){je(r,n,I)}}break;case 5:Ki(p,p.return);break;case 22:if(p.memoizedState!==null){my(f);continue}}g!==null?(g.return=p,K=g):my(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{i=f.stateNode,c?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=f.stateNode,u=f.memoizedProps.style,s=u!=null&&u.hasOwnProperty("display")?u.display:null,a.style.display=W_("display",s))}catch(I){je(t,t.return,I)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(I){je(t,t.return,I)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:ln(e,t),vn(t),r&4&&fy(t);break;case 21:break;default:ln(e,t),vn(t)}}function vn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(yw(n)){var r=n;break e}n=n.return}throw Error($(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&($s(i,""),r.flags&=-33);var o=hy(t);Uh(t,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=hy(t);Bh(t,a,s);break;default:throw Error($(161))}}catch(u){je(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function qD(t,e,n){K=t,ww(t)}function ww(t,e,n){for(var r=(t.mode&1)!==0;K!==null;){var i=K,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||ul;if(!s){var a=i.alternate,u=a!==null&&a.memoizedState!==null||_t;a=ul;var c=_t;if(ul=s,(_t=u)&&!c)for(K=i;K!==null;)s=K,u=s.child,s.tag===22&&s.memoizedState!==null?gy(i):u!==null?(u.return=s,K=u):gy(i);for(;o!==null;)K=o,ww(o),o=o.sibling;K=i,ul=a,_t=c}py(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,K=o):py(t)}}function py(t){for(;K!==null;){var e=K;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:_t||rc(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!_t)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:un(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&Jg(e,o,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Jg(e,s,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Hs(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error($(163))}_t||e.flags&512&&Fh(e)}catch(p){je(e,e.return,p)}}if(e===t){K=null;break}if(n=e.sibling,n!==null){n.return=e.return,K=n;break}K=e.return}}function my(t){for(;K!==null;){var e=K;if(e===t){K=null;break}var n=e.sibling;if(n!==null){n.return=e.return,K=n;break}K=e.return}}function gy(t){for(;K!==null;){var e=K;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{rc(4,e)}catch(u){je(e,n,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(u){je(e,i,u)}}var o=e.return;try{Fh(e)}catch(u){je(e,o,u)}break;case 5:var s=e.return;try{Fh(e)}catch(u){je(e,s,u)}}}catch(u){je(e,e.return,u)}if(e===t){K=null;break}var a=e.sibling;if(a!==null){a.return=e.return,K=a;break}K=e.return}}var KD=Math.ceil,mu=ar.ReactCurrentDispatcher,lp=ar.ReactCurrentOwner,nn=ar.ReactCurrentBatchConfig,me=0,rt=null,qe=null,ut=0,Ut=0,Gi=Wr(0),Xe=0,ra=null,mi=0,ic=0,up=0,Ns=null,bt=null,cp=0,yo=1/0,zn=null,gu=!1,jh=null,Ir=null,cl=!1,vr=null,yu=0,Os=0,$h=null,Ol=-1,Ll=0;function Pt(){return me&6?Ye():Ol!==-1?Ol:Ol=Ye()}function Pr(t){return t.mode&1?me&2&&ut!==0?ut&-ut:bD.transition!==null?(Ll===0&&(Ll=i0()),Ll):(t=Se,t!==0||(t=window.event,t=t===void 0?16:d0(t.type)),t):1}function pn(t,e,n,r){if(50<Os)throw Os=0,$h=null,Error($(185));ya(t,n,r),(!(me&2)||t!==rt)&&(t===rt&&(!(me&2)&&(ic|=n),Xe===4&&gr(t,ut)),Lt(t,r),n===1&&me===0&&!(e.mode&1)&&(yo=Ye()+500,ec&&Hr()))}function Lt(t,e){var n=t.callbackNode;bS(t,e);var r=eu(t,t===rt?ut:0);if(r===0)n!==null&&kg(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&kg(n),e===1)t.tag===0?AD(yy.bind(null,t)):x0(yy.bind(null,t)),ID(function(){!(me&6)&&Hr()}),n=null;else{switch(o0(r)){case 1:n=Lf;break;case 4:n=n0;break;case 16:n=Zl;break;case 536870912:n=r0;break;default:n=Zl}n=Pw(n,Ew.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Ew(t,e){if(Ol=-1,Ll=0,me&6)throw Error($(327));var n=t.callbackNode;if(no()&&t.callbackNode!==n)return null;var r=eu(t,t===rt?ut:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=vu(t,r);else{e=r;var i=me;me|=2;var o=Sw();(rt!==t||ut!==e)&&(zn=null,yo=Ye()+500,si(t,e));do try{JD();break}catch(a){Tw(t,a)}while(!0);Kf(),mu.current=o,me=i,qe!==null?e=0:(rt=null,ut=0,e=Xe)}if(e!==0){if(e===2&&(i=mh(t),i!==0&&(r=i,e=zh(t,i))),e===1)throw n=ra,si(t,0),gr(t,r),Lt(t,Ye()),n;if(e===6)gr(t,r);else{if(i=t.current.alternate,!(r&30)&&!GD(i)&&(e=vu(t,r),e===2&&(o=mh(t),o!==0&&(r=o,e=zh(t,o))),e===1))throw n=ra,si(t,0),gr(t,r),Lt(t,Ye()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error($(345));case 2:Jr(t,bt,zn);break;case 3:if(gr(t,r),(r&130023424)===r&&(e=cp+500-Ye(),10<e)){if(eu(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Pt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Sh(Jr.bind(null,t,bt,zn),e);break}Jr(t,bt,zn);break;case 4:if(gr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-fn(r);o=1<<s,s=e[s],s>i&&(i=s),r&=~o}if(r=i,r=Ye()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*KD(r/1960))-r,10<r){t.timeoutHandle=Sh(Jr.bind(null,t,bt,zn),r);break}Jr(t,bt,zn);break;case 5:Jr(t,bt,zn);break;default:throw Error($(329))}}}return Lt(t,Ye()),t.callbackNode===n?Ew.bind(null,t):null}function zh(t,e){var n=Ns;return t.current.memoizedState.isDehydrated&&(si(t,e).flags|=256),t=vu(t,e),t!==2&&(e=bt,bt=n,e!==null&&Yh(e)),t}function Yh(t){bt===null?bt=t:bt.push.apply(bt,t)}function GD(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!mn(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function gr(t,e){for(e&=~up,e&=~ic,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-fn(e),r=1<<n;t[n]=-1,e&=~r}}function yy(t){if(me&6)throw Error($(327));no();var e=eu(t,0);if(!(e&1))return Lt(t,Ye()),null;var n=vu(t,e);if(t.tag!==0&&n===2){var r=mh(t);r!==0&&(e=r,n=zh(t,r))}if(n===1)throw n=ra,si(t,0),gr(t,e),Lt(t,Ye()),n;if(n===6)throw Error($(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Jr(t,bt,zn),Lt(t,Ye()),null}function dp(t,e){var n=me;me|=1;try{return t(e)}finally{me=n,me===0&&(yo=Ye()+500,ec&&Hr())}}function gi(t){vr!==null&&vr.tag===0&&!(me&6)&&no();var e=me;me|=1;var n=nn.transition,r=Se;try{if(nn.transition=null,Se=1,t)return t()}finally{Se=r,nn.transition=n,me=e,!(me&6)&&Hr()}}function hp(){Ut=Gi.current,xe(Gi)}function si(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,CD(n)),qe!==null)for(n=qe.return;n!==null;){var r=n;switch(Hf(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ou();break;case 3:mo(),xe(Nt),xe(Et),tp();break;case 5:ep(r);break;case 4:mo();break;case 13:xe(Oe);break;case 19:xe(Oe);break;case 10:Gf(r.type._context);break;case 22:case 23:hp()}n=n.return}if(rt=t,qe=t=Rr(t.current,null),ut=Ut=e,Xe=0,ra=null,up=ic=mi=0,bt=Ns=null,ni!==null){for(e=0;e<ni.length;e++)if(n=ni[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}ni=null}return t}function Tw(t,e){do{var n=qe;try{if(Kf(),bl.current=pu,fu){for(var r=Ve.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}fu=!1}if(pi=0,tt=Ge=Ve=null,bs=!1,ea=0,lp.current=null,n===null||n.return===null){Xe=1,ra=e,qe=null;break}e:{var o=t,s=n.return,a=n,u=e;if(e=ut,a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,d=a,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var g=iy(s);if(g!==null){g.flags&=-257,oy(g,s,a,o,e),g.mode&1&&ry(o,c,e),e=g,u=c;var D=e.updateQueue;if(D===null){var I=new Set;I.add(u),e.updateQueue=I}else D.add(u);break e}else{if(!(e&1)){ry(o,c,e),fp();break e}u=Error($(426))}}else if(be&&a.mode&1){var k=iy(s);if(k!==null){!(k.flags&65536)&&(k.flags|=256),oy(k,s,a,o,e),Qf(go(u,a));break e}}o=u=go(u,a),Xe!==4&&(Xe=2),Ns===null?Ns=[o]:Ns.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var v=ow(o,u,e);Xg(o,v);break e;case 1:a=u;var _=o.type,E=o.stateNode;if(!(o.flags&128)&&(typeof _.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(Ir===null||!Ir.has(E)))){o.flags|=65536,e&=-e,o.lanes|=e;var A=sw(o,a,e);Xg(o,A);break e}}o=o.return}while(o!==null)}kw(n)}catch(N){e=N,qe===n&&n!==null&&(qe=n=n.return);continue}break}while(!0)}function Sw(){var t=mu.current;return mu.current=pu,t===null?pu:t}function fp(){(Xe===0||Xe===3||Xe===2)&&(Xe=4),rt===null||!(mi&268435455)&&!(ic&268435455)||gr(rt,ut)}function vu(t,e){var n=me;me|=2;var r=Sw();(rt!==t||ut!==e)&&(zn=null,si(t,e));do try{XD();break}catch(i){Tw(t,i)}while(!0);if(Kf(),me=n,mu.current=r,qe!==null)throw Error($(261));return rt=null,ut=0,Xe}function XD(){for(;qe!==null;)Dw(qe)}function JD(){for(;qe!==null&&!SS();)Dw(qe)}function Dw(t){var e=Iw(t.alternate,t,Ut);t.memoizedProps=t.pendingProps,e===null?kw(t):qe=e,lp.current=null}function kw(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=WD(n,e),n!==null){n.flags&=32767,qe=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Xe=6,qe=null;return}}else if(n=YD(n,e,Ut),n!==null){qe=n;return}if(e=e.sibling,e!==null){qe=e;return}qe=e=t}while(e!==null);Xe===0&&(Xe=5)}function Jr(t,e,n){var r=Se,i=nn.transition;try{nn.transition=null,Se=1,ZD(t,e,n,r)}finally{nn.transition=i,Se=r}return null}function ZD(t,e,n,r){do no();while(vr!==null);if(me&6)throw Error($(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error($(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(MS(t,o),t===rt&&(qe=rt=null,ut=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||cl||(cl=!0,Pw(Zl,function(){return no(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=nn.transition,nn.transition=null;var s=Se;Se=1;var a=me;me|=4,lp.current=null,QD(t,n),_w(n,t),_D(Eh),tu=!!wh,Eh=wh=null,t.current=n,qD(n),DS(),me=a,Se=s,nn.transition=o}else t.current=n;if(cl&&(cl=!1,vr=t,yu=i),o=t.pendingLanes,o===0&&(Ir=null),IS(n.stateNode),Lt(t,Ye()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(gu)throw gu=!1,t=jh,jh=null,t;return yu&1&&t.tag!==0&&no(),o=t.pendingLanes,o&1?t===$h?Os++:(Os=0,$h=t):Os=0,Hr(),null}function no(){if(vr!==null){var t=o0(yu),e=nn.transition,n=Se;try{if(nn.transition=null,Se=16>t?16:t,vr===null)var r=!1;else{if(t=vr,vr=null,yu=0,me&6)throw Error($(331));var i=me;for(me|=4,K=t.current;K!==null;){var o=K,s=o.child;if(K.flags&16){var a=o.deletions;if(a!==null){for(var u=0;u<a.length;u++){var c=a[u];for(K=c;K!==null;){var d=K;switch(d.tag){case 0:case 11:case 15:Ms(8,d,o)}var f=d.child;if(f!==null)f.return=d,K=f;else for(;K!==null;){d=K;var p=d.sibling,g=d.return;if(gw(d),d===c){K=null;break}if(p!==null){p.return=g,K=p;break}K=g}}}var D=o.alternate;if(D!==null){var I=D.child;if(I!==null){D.child=null;do{var k=I.sibling;I.sibling=null,I=k}while(I!==null)}}K=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,K=s;else e:for(;K!==null;){if(o=K,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Ms(9,o,o.return)}var v=o.sibling;if(v!==null){v.return=o.return,K=v;break e}K=o.return}}var _=t.current;for(K=_;K!==null;){s=K;var E=s.child;if(s.subtreeFlags&2064&&E!==null)E.return=s,K=E;else e:for(s=_;K!==null;){if(a=K,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:rc(9,a)}}catch(N){je(a,a.return,N)}if(a===s){K=null;break e}var A=a.sibling;if(A!==null){A.return=a.return,K=A;break e}K=a.return}}if(me=i,Hr(),Cn&&typeof Cn.onPostCommitFiberRoot=="function")try{Cn.onPostCommitFiberRoot(Ku,t)}catch{}r=!0}return r}finally{Se=n,nn.transition=e}}return!1}function vy(t,e,n){e=go(n,e),e=ow(t,e,1),t=Cr(t,e,1),e=Pt(),t!==null&&(ya(t,1,e),Lt(t,e))}function je(t,e,n){if(t.tag===3)vy(t,t,n);else for(;e!==null;){if(e.tag===3){vy(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ir===null||!Ir.has(r))){t=go(n,t),t=sw(e,t,1),e=Cr(e,t,1),t=Pt(),e!==null&&(ya(e,1,t),Lt(e,t));break}}e=e.return}}function ek(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Pt(),t.pingedLanes|=t.suspendedLanes&n,rt===t&&(ut&n)===n&&(Xe===4||Xe===3&&(ut&130023424)===ut&&500>Ye()-cp?si(t,0):up|=n),Lt(t,e)}function Cw(t,e){e===0&&(t.mode&1?(e=el,el<<=1,!(el&130023424)&&(el=4194304)):e=1);var n=Pt();t=tr(t,e),t!==null&&(ya(t,e,n),Lt(t,n))}function tk(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Cw(t,n)}function nk(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error($(314))}r!==null&&r.delete(e),Cw(t,n)}var Iw;Iw=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Nt.current)Mt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Mt=!1,zD(t,e,n);Mt=!!(t.flags&131072)}else Mt=!1,be&&e.flags&1048576&&A0(e,lu,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Nl(t,e),t=e.pendingProps;var i=ho(e,Et.current);to(e,n),i=rp(null,e,r,t,i,n);var o=ip();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ot(r)?(o=!0,su(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Jf(e),i.updater=nc,e.stateNode=i,i._reactInternals=e,xh(e,r,t,n),e=Mh(null,e,r,!0,o,n)):(e.tag=0,be&&o&&Wf(e),Dt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Nl(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=ik(r),t=un(r,t),i){case 0:e=bh(null,e,r,t,n);break e;case 1:e=ly(null,e,r,t,n);break e;case 11:e=sy(null,e,r,t,n);break e;case 14:e=ay(null,e,r,un(r.type,t),n);break e}throw Error($(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:un(r,i),bh(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:un(r,i),ly(t,e,r,i,n);case 3:e:{if(cw(e),t===null)throw Error($(387));r=e.pendingProps,o=e.memoizedState,i=o.element,V0(t,e),du(e,r,null,n);var s=e.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=go(Error($(423)),e),e=uy(t,e,r,n,i);break e}else if(r!==i){i=go(Error($(424)),e),e=uy(t,e,r,n,i);break e}else for($t=kr(e.stateNode.containerInfo.firstChild),Yt=e,be=!0,dn=null,n=O0(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(fo(),r===i){e=nr(t,e,n);break e}Dt(t,e,r,n)}e=e.child}return e;case 5:return F0(e),t===null&&Ih(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,Th(r,i)?s=null:o!==null&&Th(r,o)&&(e.flags|=32),uw(t,e),Dt(t,e,s,n),e.child;case 6:return t===null&&Ih(e),null;case 13:return dw(t,e,n);case 4:return Zf(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=po(e,null,r,n):Dt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:un(r,i),sy(t,e,r,i,n);case 7:return Dt(t,e,e.pendingProps,n),e.child;case 8:return Dt(t,e,e.pendingProps.children,n),e.child;case 12:return Dt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,ke(uu,r._currentValue),r._currentValue=s,o!==null)if(mn(o.value,s)){if(o.children===i.children&&!Nt.current){e=nr(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var u=a.firstContext;u!==null;){if(u.context===r){if(o.tag===1){u=qn(-1,n&-n),u.tag=2;var c=o.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?u.next=u:(u.next=d.next,d.next=u),c.pending=u}}o.lanes|=n,u=o.alternate,u!==null&&(u.lanes|=n),Ph(o.return,n,e),a.lanes|=n;break}u=u.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error($(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),Ph(s,n,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}Dt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,to(e,n),i=rn(i),r=r(i),e.flags|=1,Dt(t,e,r,n),e.child;case 14:return r=e.type,i=un(r,e.pendingProps),i=un(r.type,i),ay(t,e,r,i,n);case 15:return aw(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:un(r,i),Nl(t,e),e.tag=1,Ot(r)?(t=!0,su(e)):t=!1,to(e,n),iw(e,r,i),xh(e,r,i,n),Mh(null,e,r,!0,t,n);case 19:return hw(t,e,n);case 22:return lw(t,e,n)}throw Error($(156,e.tag))};function Pw(t,e){return t0(t,e)}function rk(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function tn(t,e,n,r){return new rk(t,e,n,r)}function pp(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ik(t){if(typeof t=="function")return pp(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Mf)return 11;if(t===Nf)return 14}return 2}function Rr(t,e){var n=t.alternate;return n===null?(n=tn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Vl(t,e,n,r,i,o){var s=2;if(r=t,typeof t=="function")pp(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case Ui:return ai(n.children,i,o,e);case bf:s=8,i|=8;break;case eh:return t=tn(12,n,e,i|2),t.elementType=eh,t.lanes=o,t;case th:return t=tn(13,n,e,i),t.elementType=th,t.lanes=o,t;case nh:return t=tn(19,n,e,i),t.elementType=nh,t.lanes=o,t;case F_:return oc(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case L_:s=10;break e;case V_:s=9;break e;case Mf:s=11;break e;case Nf:s=14;break e;case fr:s=16,r=null;break e}throw Error($(130,t==null?t:typeof t,""))}return e=tn(s,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function ai(t,e,n,r){return t=tn(7,t,r,e),t.lanes=n,t}function oc(t,e,n,r){return t=tn(22,t,r,e),t.elementType=F_,t.lanes=n,t.stateNode={isHidden:!1},t}function Rd(t,e,n){return t=tn(6,t,null,e),t.lanes=n,t}function xd(t,e,n){return e=tn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function ok(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=cd(0),this.expirationTimes=cd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=cd(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function mp(t,e,n,r,i,o,s,a,u){return t=new ok(t,e,n,a,u),e===1?(e=1,o===!0&&(e|=8)):e=0,o=tn(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Jf(o),t}function sk(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Bi,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Rw(t){if(!t)return Lr;t=t._reactInternals;e:{if(Ti(t)!==t||t.tag!==1)throw Error($(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ot(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error($(171))}if(t.tag===1){var n=t.type;if(Ot(n))return R0(t,n,e)}return e}function xw(t,e,n,r,i,o,s,a,u){return t=mp(n,r,!0,t,i,o,s,a,u),t.context=Rw(null),n=t.current,r=Pt(),i=Pr(n),o=qn(r,i),o.callback=e??null,Cr(n,o,i),t.current.lanes=i,ya(t,i,r),Lt(t,r),t}function sc(t,e,n,r){var i=e.current,o=Pt(),s=Pr(i);return n=Rw(n),e.context===null?e.context=n:e.pendingContext=n,e=qn(o,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Cr(i,e,s),t!==null&&(pn(t,i,s,o),Al(t,i,s)),s}function _u(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function _y(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function gp(t,e){_y(t,e),(t=t.alternate)&&_y(t,e)}function ak(){return null}var Aw=typeof reportError=="function"?reportError:function(t){console.error(t)};function yp(t){this._internalRoot=t}ac.prototype.render=yp.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error($(409));sc(t,e,null,null)};ac.prototype.unmount=yp.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;gi(function(){sc(null,t,null,null)}),e[er]=null}};function ac(t){this._internalRoot=t}ac.prototype.unstable_scheduleHydration=function(t){if(t){var e=l0();t={blockedOn:null,target:t,priority:e};for(var n=0;n<mr.length&&e!==0&&e<mr[n].priority;n++);mr.splice(n,0,t),n===0&&c0(t)}};function vp(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function lc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function wy(){}function lk(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var c=_u(s);o.call(c)}}var s=xw(e,r,t,0,null,!1,!1,"",wy);return t._reactRootContainer=s,t[er]=s.current,Ks(t.nodeType===8?t.parentNode:t),gi(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=_u(u);a.call(c)}}var u=mp(t,0,!1,null,null,!1,!1,"",wy);return t._reactRootContainer=u,t[er]=u.current,Ks(t.nodeType===8?t.parentNode:t),gi(function(){sc(e,u,n,r)}),u}function uc(t,e,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var u=_u(s);a.call(u)}}sc(e,s,t,i)}else s=lk(n,e,t,i,r);return _u(s)}s0=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=ws(e.pendingLanes);n!==0&&(Vf(e,n|1),Lt(e,Ye()),!(me&6)&&(yo=Ye()+500,Hr()))}break;case 13:gi(function(){var r=tr(t,1);if(r!==null){var i=Pt();pn(r,t,1,i)}}),gp(t,1)}};Ff=function(t){if(t.tag===13){var e=tr(t,134217728);if(e!==null){var n=Pt();pn(e,t,134217728,n)}gp(t,134217728)}};a0=function(t){if(t.tag===13){var e=Pr(t),n=tr(t,e);if(n!==null){var r=Pt();pn(n,t,e,r)}gp(t,e)}};l0=function(){return Se};u0=function(t,e){var n=Se;try{return Se=t,e()}finally{Se=n}};hh=function(t,e,n){switch(e){case"input":if(oh(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Zu(r);if(!i)throw Error($(90));U_(r),oh(r,i)}}}break;case"textarea":$_(t,n);break;case"select":e=n.value,e!=null&&Xi(t,!!n.multiple,e,!1)}};K_=dp;G_=gi;var uk={usingClientEntryPoint:!1,Events:[_a,Yi,Zu,Q_,q_,dp]},ds={findFiberByHostInstance:ti,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ck={bundleType:ds.bundleType,version:ds.version,rendererPackageName:ds.rendererPackageName,rendererConfig:ds.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ar.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Z_(t),t===null?null:t.stateNode},findFiberByHostInstance:ds.findFiberByHostInstance||ak,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var dl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!dl.isDisabled&&dl.supportsFiber)try{Ku=dl.inject(ck),Cn=dl}catch{}}qt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=uk;qt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!vp(e))throw Error($(200));return sk(t,e,null,n)};qt.createRoot=function(t,e){if(!vp(t))throw Error($(299));var n=!1,r="",i=Aw;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=mp(t,1,!1,null,null,n,!1,r,i),t[er]=e.current,Ks(t.nodeType===8?t.parentNode:t),new yp(e)};qt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error($(188)):(t=Object.keys(t).join(","),Error($(268,t)));return t=Z_(e),t=t===null?null:t.stateNode,t};qt.flushSync=function(t){return gi(t)};qt.hydrate=function(t,e,n){if(!lc(e))throw Error($(200));return uc(null,t,e,!0,n)};qt.hydrateRoot=function(t,e,n){if(!vp(t))throw Error($(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=Aw;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=xw(e,null,t,1,n??null,i,!1,o,s),t[er]=e.current,Ks(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new ac(e)};qt.render=function(t,e,n){if(!lc(e))throw Error($(200));return uc(null,t,e,!1,n)};qt.unmountComponentAtNode=function(t){if(!lc(t))throw Error($(40));return t._reactRootContainer?(gi(function(){uc(null,null,t,!1,function(){t._reactRootContainer=null,t[er]=null})}),!0):!1};qt.unstable_batchedUpdates=dp;qt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!lc(n))throw Error($(200));if(t==null||t._reactInternals===void 0)throw Error($(38));return uc(t,e,n,!1,r)};qt.version="18.3.1-next-f1338f8080-20240426";function bw(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(bw)}catch(t){console.error(t)}}bw(),b_.exports=qt;var _p=b_.exports;const dk=Df(_p);var Ey=_p;Jd.createRoot=Ey.createRoot,Jd.hydrateRoot=Ey.hydrateRoot;const hk="_container_1dm0m_10",fk="_cardGrid_1dm0m_25",pk="_header_1dm0m_30",mk="_navToggle_1dm0m_45",gk="_searchBar_1dm0m_57",yk="_filterSelect_1dm0m_58",vk="_monthSelector_1dm0m_59",_k="_userSelect_1dm0m_60",wk="_unlockButton_1dm0m_85",Ek="_addButton_1dm0m_86",Tk="_calendarButton_1dm0m_87",Sk="_mainContent_1dm0m_123",Dk="_monthSection_1dm0m_153",kk="_card_1dm0m_25",Ck="_cardDate_1dm0m_195",Ik="_memberList_1dm0m_202",Pk="_memberItem_1dm0m_208",Rk="_role_1dm0m_215",xk="_footer_1dm0m_221",Ak="_unlockForm_1dm0m_245",bk="_slideUp_1dm0m_1",Mk="_buttonContainer_1dm0m_288",Nk="_cancelButton_1dm0m_295",Ok="_overlay_1dm0m_324",Lk="_fadeIn_1dm0m_1",Pe={container:hk,cardGrid:fk,header:pk,navToggle:mk,searchBar:gk,filterSelect:yk,monthSelector:vk,userSelect:_k,unlockButton:wk,addButton:Ek,calendarButton:Tk,mainContent:Sk,monthSection:Dk,card:kk,cardDate:Ck,memberList:Ik,memberItem:Pk,role:Rk,footer:xk,unlockForm:Ak,slideUp:bk,buttonContainer:Mk,cancelButton:Nk,overlay:Ok,fadeIn:Lk};function W(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function Ee(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}function rr(t,e){const n=W(t);return isNaN(e)?Ee(t,NaN):(e&&n.setDate(n.getDate()+e),n)}function gn(t,e){const n=W(t);if(isNaN(e))return Ee(t,NaN);if(!e)return n;const r=n.getDate(),i=Ee(t,n.getTime());i.setMonth(n.getMonth()+e+1,0);const o=i.getDate();return r>=o?i:(n.setFullYear(i.getFullYear(),i.getMonth(),r),n)}function wp(t,e){const n=+W(t);return Ee(t,n+e)}const Mw=6048e5,Vk=864e5,cc=6e4,dc=36e5,Fk=1e3;function Bk(t,e){return wp(t,e*dc)}let Uk={};function Si(){return Uk}function zt(t,e){var a,u,c,d;const n=Si(),r=(e==null?void 0:e.weekStartsOn)??((u=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:u.weekStartsOn)??n.weekStartsOn??((d=(c=n.locale)==null?void 0:c.options)==null?void 0:d.weekStartsOn)??0,i=W(t),o=i.getDay(),s=(o<r?7:0)+o-r;return i.setDate(i.getDate()-s),i.setHours(0,0,0,0),i}function vo(t){return zt(t,{weekStartsOn:1})}function Nw(t){const e=W(t),n=e.getFullYear(),r=Ee(t,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const i=vo(r),o=Ee(t,0);o.setFullYear(n,0,4),o.setHours(0,0,0,0);const s=vo(o);return e.getTime()>=i.getTime()?n+1:e.getTime()>=s.getTime()?n:n-1}function yi(t){const e=W(t);return e.setHours(0,0,0,0),e}function wu(t){const e=W(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function _o(t,e){const n=yi(t),r=yi(e),i=+n-wu(n),o=+r-wu(r);return Math.round((i-o)/Vk)}function jk(t){const e=Nw(t),n=Ee(t,0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),vo(n)}function Wh(t,e){return wp(t,e*cc)}function Ep(t,e){const n=e*3;return gn(t,n)}function $k(t,e){return wp(t,e*1e3)}function ia(t,e){const n=e*7;return rr(t,n)}function Kn(t,e){return gn(t,e*12)}function Ty(t){let e;return t.forEach(function(n){const r=W(n);(e===void 0||e<r||isNaN(Number(r)))&&(e=r)}),e||new Date(NaN)}function Sy(t){let e;return t.forEach(n=>{const r=W(n);(!e||e>r||isNaN(+r))&&(e=r)}),e||new Date(NaN)}function zk(t,e){const n=yi(t),r=yi(e);return+n==+r}function Gn(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function Eu(t){if(!Gn(t)&&typeof t!="number")return!1;const e=W(t);return!isNaN(Number(e))}function Tu(t,e){const n=W(t),r=W(e),i=n.getFullYear()-r.getFullYear(),o=n.getMonth()-r.getMonth();return i*12+o}function li(t){const e=W(t);return Math.trunc(e.getMonth()/3)+1}function Su(t,e){const n=W(t),r=W(e),i=n.getFullYear()-r.getFullYear(),o=li(n)-li(r);return i*4+o}function Du(t,e){const n=W(t),r=W(e);return n.getFullYear()-r.getFullYear()}function Yk(t,e){const n=W(t),r=W(e),i=Dy(n,r),o=Math.abs(_o(n,r));n.setDate(n.getDate()-i*o);const s=+(Dy(n,r)===-i),a=i*(o-s);return a===0?0:a}function Dy(t,e){const n=t.getFullYear()-e.getFullYear()||t.getMonth()-e.getMonth()||t.getDate()-e.getDate()||t.getHours()-e.getHours()||t.getMinutes()-e.getMinutes()||t.getSeconds()-e.getSeconds()||t.getMilliseconds()-e.getMilliseconds();return n<0?-1:n>0?1:n}function Ow(t){const e=W(t);return e.setHours(23,59,59,999),e}function Tp(t){const e=W(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(23,59,59,999),e}function Hh(t){const e=W(t),n=e.getMonth(),r=n-n%3;return e.setMonth(r,1),e.setHours(0,0,0,0),e}function Wk(t,e){const n=W(t.start),r=W(t.end);let i=+n>+r;const o=zt(i?r:n,e),s=zt(i?n:r,e);o.setHours(15),s.setHours(15);const a=+s.getTime();let u=o,c=(e==null?void 0:e.step)??1;if(!c)return[];c<0&&(c=-c,i=!i);const d=[];for(;+u<=a;)u.setHours(0),d.push(W(u)),u=ia(u,c),u.setHours(15);return i?d.reverse():d}function Sp(t){const e=W(t);return e.setDate(1),e.setHours(0,0,0,0),e}function Lw(t){const e=W(t),n=e.getFullYear();return e.setFullYear(n+1,0,0),e.setHours(23,59,59,999),e}function hc(t){const e=W(t),n=Ee(t,0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}function Hk(t,e){var a,u;const n=Si(),r=n.weekStartsOn??((u=(a=n.locale)==null?void 0:a.options)==null?void 0:u.weekStartsOn)??0,i=W(t),o=i.getDay(),s=(o<r?-7:0)+6-(o-r);return i.setDate(i.getDate()+s),i.setHours(23,59,59,999),i}const Qk={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},qk=(t,e,n)=>{let r;const i=Qk[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function Ad(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const Kk={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Gk={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Xk={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Jk={date:Ad({formats:Kk,defaultWidth:"full"}),time:Ad({formats:Gk,defaultWidth:"full"}),dateTime:Ad({formats:Xk,defaultWidth:"full"})},Zk={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},eC=(t,e,n,r)=>Zk[t];function hs(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let i;if(r==="formatting"&&t.formattingValues){const s=t.defaultFormattingWidth||t.defaultWidth,a=n!=null&&n.width?String(n.width):s;i=t.formattingValues[a]||t.formattingValues[s]}else{const s=t.defaultWidth,a=n!=null&&n.width?String(n.width):t.defaultWidth;i=t.values[a]||t.values[s]}const o=t.argumentCallback?t.argumentCallback(e):e;return i[o]}}const tC={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},nC={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},rC={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},iC={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},oC={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},sC={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},aC=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},lC={ordinalNumber:aC,era:hs({values:tC,defaultWidth:"wide"}),quarter:hs({values:nC,defaultWidth:"wide",argumentCallback:t=>t-1}),month:hs({values:rC,defaultWidth:"wide"}),day:hs({values:iC,defaultWidth:"wide"}),dayPeriod:hs({values:oC,defaultWidth:"wide",formattingValues:sC,defaultFormattingWidth:"wide"})};function fs(t){return(e,n={})=>{const r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],o=e.match(i);if(!o)return null;const s=o[0],a=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],u=Array.isArray(a)?cC(a,f=>f.test(s)):uC(a,f=>f.test(s));let c;c=t.valueCallback?t.valueCallback(u):u,c=n.valueCallback?n.valueCallback(c):c;const d=e.slice(s.length);return{value:c,rest:d}}}function uC(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function cC(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function dC(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const i=r[0],o=e.match(t.parsePattern);if(!o)return null;let s=t.valueCallback?t.valueCallback(o[0]):o[0];s=n.valueCallback?n.valueCallback(s):s;const a=e.slice(i.length);return{value:s,rest:a}}}const hC=/^(\d+)(th|st|nd|rd)?/i,fC=/\d+/i,pC={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},mC={any:[/^b/i,/^(a|c)/i]},gC={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},yC={any:[/1/i,/2/i,/3/i,/4/i]},vC={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},_C={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},wC={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},EC={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},TC={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},SC={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},DC={ordinalNumber:dC({matchPattern:hC,parsePattern:fC,valueCallback:t=>parseInt(t,10)}),era:fs({matchPatterns:pC,defaultMatchWidth:"wide",parsePatterns:mC,defaultParseWidth:"any"}),quarter:fs({matchPatterns:gC,defaultMatchWidth:"wide",parsePatterns:yC,defaultParseWidth:"any",valueCallback:t=>t+1}),month:fs({matchPatterns:vC,defaultMatchWidth:"wide",parsePatterns:_C,defaultParseWidth:"any"}),day:fs({matchPatterns:wC,defaultMatchWidth:"wide",parsePatterns:EC,defaultParseWidth:"any"}),dayPeriod:fs({matchPatterns:TC,defaultMatchWidth:"any",parsePatterns:SC,defaultParseWidth:"any"})},Vw={code:"en-US",formatDistance:qk,formatLong:Jk,formatRelative:eC,localize:lC,match:DC,options:{weekStartsOn:0,firstWeekContainsDate:1}};function kC(t){const e=W(t);return _o(e,hc(e))+1}function Dp(t){const e=W(t),n=+vo(e)-+jk(e);return Math.round(n/Mw)+1}function kp(t,e){var d,f,p,g;const n=W(t),r=n.getFullYear(),i=Si(),o=(e==null?void 0:e.firstWeekContainsDate)??((f=(d=e==null?void 0:e.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??i.firstWeekContainsDate??((g=(p=i.locale)==null?void 0:p.options)==null?void 0:g.firstWeekContainsDate)??1,s=Ee(t,0);s.setFullYear(r+1,0,o),s.setHours(0,0,0,0);const a=zt(s,e),u=Ee(t,0);u.setFullYear(r,0,o),u.setHours(0,0,0,0);const c=zt(u,e);return n.getTime()>=a.getTime()?r+1:n.getTime()>=c.getTime()?r:r-1}function CC(t,e){var a,u,c,d;const n=Si(),r=(e==null?void 0:e.firstWeekContainsDate)??((u=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:u.firstWeekContainsDate)??n.firstWeekContainsDate??((d=(c=n.locale)==null?void 0:c.options)==null?void 0:d.firstWeekContainsDate)??1,i=kp(t,e),o=Ee(t,0);return o.setFullYear(i,0,r),o.setHours(0,0,0,0),zt(o,e)}function Fw(t,e){const n=W(t),r=+zt(n,e)-+CC(n,e);return Math.round(r/Mw)+1}function we(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const hr={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return we(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):we(n+1,2)},d(t,e){return we(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return we(t.getHours()%12||12,e.length)},H(t,e){return we(t.getHours(),e.length)},m(t,e){return we(t.getMinutes(),e.length)},s(t,e){return we(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return we(i,e.length)}},Mi={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},ky={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return hr.y(t,e)},Y:function(t,e,n,r){const i=kp(t,r),o=i>0?i:1-i;if(e==="YY"){const s=o%100;return we(s,2)}return e==="Yo"?n.ordinalNumber(o,{unit:"year"}):we(o,e.length)},R:function(t,e){const n=Nw(t);return we(n,e.length)},u:function(t,e){const n=t.getFullYear();return we(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return we(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return we(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return hr.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return we(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const i=Fw(t,r);return e==="wo"?n.ordinalNumber(i,{unit:"week"}):we(i,e.length)},I:function(t,e,n){const r=Dp(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):we(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):hr.d(t,e)},D:function(t,e,n){const r=kC(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):we(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const i=t.getDay(),o=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(o);case"ee":return we(o,2);case"eo":return n.ordinalNumber(o,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const i=t.getDay(),o=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(o);case"cc":return we(o,e.length);case"co":return n.ordinalNumber(o,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return we(i,e.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let i;switch(r===12?i=Mi.noon:r===0?i=Mi.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let i;switch(r>=17?i=Mi.evening:r>=12?i=Mi.afternoon:r>=4?i=Mi.morning:i=Mi.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return hr.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):hr.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):we(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):we(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):hr.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):hr.s(t,e)},S:function(t,e){return hr.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return Iy(r);case"XXXX":case"XX":return Zr(r);case"XXXXX":case"XXX":default:return Zr(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return Iy(r);case"xxxx":case"xx":return Zr(r);case"xxxxx":case"xxx":default:return Zr(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+Cy(r,":");case"OOOO":default:return"GMT"+Zr(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+Cy(r,":");case"zzzz":default:return"GMT"+Zr(r,":")}},t:function(t,e,n){const r=Math.trunc(t.getTime()/1e3);return we(r,e.length)},T:function(t,e,n){const r=t.getTime();return we(r,e.length)}};function Cy(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Math.trunc(r/60),o=r%60;return o===0?n+String(i):n+String(i)+e+we(o,2)}function Iy(t,e){return t%60===0?(t>0?"-":"+")+we(Math.abs(t)/60,2):Zr(t,e)}function Zr(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=we(Math.trunc(r/60),2),o=we(r%60,2);return n+i+e+o}const Py=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},Bw=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},IC=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return Py(t,e);let o;switch(r){case"P":o=e.dateTime({width:"short"});break;case"PP":o=e.dateTime({width:"medium"});break;case"PPP":o=e.dateTime({width:"long"});break;case"PPPP":default:o=e.dateTime({width:"full"});break}return o.replace("{{date}}",Py(r,e)).replace("{{time}}",Bw(i,e))},ku={p:Bw,P:IC},PC=/^D+$/,RC=/^Y+$/,xC=["D","DD","YY","YYYY"];function Uw(t){return PC.test(t)}function jw(t){return RC.test(t)}function Qh(t,e,n){const r=AC(t,e,n);if(console.warn(r),xC.includes(t))throw new RangeError(r)}function AC(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const bC=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,MC=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,NC=/^'([^]*?)'?$/,OC=/''/g,LC=/[a-zA-Z]/;function ro(t,e,n){var d,f,p,g,D,I,k,v;const r=Si(),i=(n==null?void 0:n.locale)??r.locale??Vw,o=(n==null?void 0:n.firstWeekContainsDate)??((f=(d=n==null?void 0:n.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??r.firstWeekContainsDate??((g=(p=r.locale)==null?void 0:p.options)==null?void 0:g.firstWeekContainsDate)??1,s=(n==null?void 0:n.weekStartsOn)??((I=(D=n==null?void 0:n.locale)==null?void 0:D.options)==null?void 0:I.weekStartsOn)??r.weekStartsOn??((v=(k=r.locale)==null?void 0:k.options)==null?void 0:v.weekStartsOn)??0,a=W(t);if(!Eu(a))throw new RangeError("Invalid time value");let u=e.match(MC).map(_=>{const E=_[0];if(E==="p"||E==="P"){const A=ku[E];return A(_,i.formatLong)}return _}).join("").match(bC).map(_=>{if(_==="''")return{isToken:!1,value:"'"};const E=_[0];if(E==="'")return{isToken:!1,value:VC(_)};if(ky[E])return{isToken:!0,value:_};if(E.match(LC))throw new RangeError("Format string contains an unescaped latin alphabet character `"+E+"`");return{isToken:!1,value:_}});i.localize.preprocessor&&(u=i.localize.preprocessor(a,u));const c={firstWeekContainsDate:o,weekStartsOn:s,locale:i};return u.map(_=>{if(!_.isToken)return _.value;const E=_.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&jw(E)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&Uw(E))&&Qh(E,e,String(t));const A=ky[E[0]];return A(a,E,i.localize,c)}).join("")}function VC(t){const e=t.match(NC);return e?e[1].replace(OC,"'"):t}function Ry(t){return W(t).getDate()}function FC(t){return W(t).getDay()}function BC(t){const e=W(t),n=e.getFullYear(),r=e.getMonth(),i=Ee(t,0);return i.setFullYear(n,r+1,0),i.setHours(0,0,0,0),i.getDate()}function UC(){return Object.assign({},Si())}function Pn(t){return W(t).getHours()}function jC(t){let n=W(t).getDay();return n===0&&(n=7),n}function Rn(t){return W(t).getMinutes()}function Ct(t){return W(t).getMonth()}function Xn(t){return W(t).getSeconds()}function qh(t){return W(t).getTime()}function ae(t){return W(t).getFullYear()}function Vr(t,e){const n=W(t),r=W(e);return n.getTime()>r.getTime()}function vi(t,e){const n=W(t),r=W(e);return+n<+r}function $C(t,e){const n=W(t),r=W(e);return+n==+r}function zC(t,e){const n=e instanceof Date?Ee(e,0):new e(0);return n.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),n.setHours(t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()),n}const YC=10;class $w{constructor(){H(this,"subPriority",0)}validate(e,n){return!0}}class WC extends $w{constructor(e,n,r,i,o){super(),this.value=e,this.validateValue=n,this.setValue=r,this.priority=i,o&&(this.subPriority=o)}validate(e,n){return this.validateValue(e,this.value,n)}set(e,n,r){return this.setValue(e,n,this.value,r)}}class HC extends $w{constructor(){super(...arguments);H(this,"priority",YC);H(this,"subPriority",-1)}set(n,r){return r.timestampIsSet?n:Ee(n,zC(n,Date))}}class ye{run(e,n,r,i){const o=this.parse(e,n,r,i);return o?{setter:new WC(o.value,this.validate,this.set,this.priority,this.subPriority),rest:o.rest}:null}validate(e,n,r){return!0}}class QC extends ye{constructor(){super(...arguments);H(this,"priority",140);H(this,"incompatibleTokens",["R","u","t","T"])}parse(n,r,i){switch(r){case"G":case"GG":case"GGG":return i.era(n,{width:"abbreviated"})||i.era(n,{width:"narrow"});case"GGGGG":return i.era(n,{width:"narrow"});case"GGGG":default:return i.era(n,{width:"wide"})||i.era(n,{width:"abbreviated"})||i.era(n,{width:"narrow"})}}set(n,r,i){return r.era=i,n.setFullYear(i,0,1),n.setHours(0,0,0,0),n}}const We={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},Sn={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function He(t,e){return t&&{value:e(t.value),rest:t.rest}}function Le(t,e){const n=e.match(t);return n?{value:parseInt(n[0],10),rest:e.slice(n[0].length)}:null}function Dn(t,e){const n=e.match(t);if(!n)return null;if(n[0]==="Z")return{value:0,rest:e.slice(1)};const r=n[1]==="+"?1:-1,i=n[2]?parseInt(n[2],10):0,o=n[3]?parseInt(n[3],10):0,s=n[5]?parseInt(n[5],10):0;return{value:r*(i*dc+o*cc+s*Fk),rest:e.slice(n[0].length)}}function zw(t){return Le(We.anyDigitsSigned,t)}function $e(t,e){switch(t){case 1:return Le(We.singleDigit,e);case 2:return Le(We.twoDigits,e);case 3:return Le(We.threeDigits,e);case 4:return Le(We.fourDigits,e);default:return Le(new RegExp("^\\d{1,"+t+"}"),e)}}function Cu(t,e){switch(t){case 1:return Le(We.singleDigitSigned,e);case 2:return Le(We.twoDigitsSigned,e);case 3:return Le(We.threeDigitsSigned,e);case 4:return Le(We.fourDigitsSigned,e);default:return Le(new RegExp("^-?\\d{1,"+t+"}"),e)}}function Cp(t){switch(t){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function Yw(t,e){const n=e>0,r=n?e:1-e;let i;if(r<=50)i=t||100;else{const o=r+50,s=Math.trunc(o/100)*100,a=t>=o%100;i=t+s-(a?100:0)}return n?i:1-i}function Ww(t){return t%400===0||t%4===0&&t%100!==0}class qC extends ye{constructor(){super(...arguments);H(this,"priority",130);H(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(n,r,i){const o=s=>({year:s,isTwoDigitYear:r==="yy"});switch(r){case"y":return He($e(4,n),o);case"yo":return He(i.ordinalNumber(n,{unit:"year"}),o);default:return He($e(r.length,n),o)}}validate(n,r){return r.isTwoDigitYear||r.year>0}set(n,r,i){const o=n.getFullYear();if(i.isTwoDigitYear){const a=Yw(i.year,o);return n.setFullYear(a,0,1),n.setHours(0,0,0,0),n}const s=!("era"in r)||r.era===1?i.year:1-i.year;return n.setFullYear(s,0,1),n.setHours(0,0,0,0),n}}class KC extends ye{constructor(){super(...arguments);H(this,"priority",130);H(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(n,r,i){const o=s=>({year:s,isTwoDigitYear:r==="YY"});switch(r){case"Y":return He($e(4,n),o);case"Yo":return He(i.ordinalNumber(n,{unit:"year"}),o);default:return He($e(r.length,n),o)}}validate(n,r){return r.isTwoDigitYear||r.year>0}set(n,r,i,o){const s=kp(n,o);if(i.isTwoDigitYear){const u=Yw(i.year,s);return n.setFullYear(u,0,o.firstWeekContainsDate),n.setHours(0,0,0,0),zt(n,o)}const a=!("era"in r)||r.era===1?i.year:1-i.year;return n.setFullYear(a,0,o.firstWeekContainsDate),n.setHours(0,0,0,0),zt(n,o)}}class GC extends ye{constructor(){super(...arguments);H(this,"priority",130);H(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(n,r){return Cu(r==="R"?4:r.length,n)}set(n,r,i){const o=Ee(n,0);return o.setFullYear(i,0,4),o.setHours(0,0,0,0),vo(o)}}class XC extends ye{constructor(){super(...arguments);H(this,"priority",130);H(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(n,r){return Cu(r==="u"?4:r.length,n)}set(n,r,i){return n.setFullYear(i,0,1),n.setHours(0,0,0,0),n}}class JC extends ye{constructor(){super(...arguments);H(this,"priority",120);H(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(n,r,i){switch(r){case"Q":case"QQ":return $e(r.length,n);case"Qo":return i.ordinalNumber(n,{unit:"quarter"});case"QQQ":return i.quarter(n,{width:"abbreviated",context:"formatting"})||i.quarter(n,{width:"narrow",context:"formatting"});case"QQQQQ":return i.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return i.quarter(n,{width:"wide",context:"formatting"})||i.quarter(n,{width:"abbreviated",context:"formatting"})||i.quarter(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=1&&r<=4}set(n,r,i){return n.setMonth((i-1)*3,1),n.setHours(0,0,0,0),n}}class ZC extends ye{constructor(){super(...arguments);H(this,"priority",120);H(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(n,r,i){switch(r){case"q":case"qq":return $e(r.length,n);case"qo":return i.ordinalNumber(n,{unit:"quarter"});case"qqq":return i.quarter(n,{width:"abbreviated",context:"standalone"})||i.quarter(n,{width:"narrow",context:"standalone"});case"qqqqq":return i.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return i.quarter(n,{width:"wide",context:"standalone"})||i.quarter(n,{width:"abbreviated",context:"standalone"})||i.quarter(n,{width:"narrow",context:"standalone"})}}validate(n,r){return r>=1&&r<=4}set(n,r,i){return n.setMonth((i-1)*3,1),n.setHours(0,0,0,0),n}}class eI extends ye{constructor(){super(...arguments);H(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);H(this,"priority",110)}parse(n,r,i){const o=s=>s-1;switch(r){case"M":return He(Le(We.month,n),o);case"MM":return He($e(2,n),o);case"Mo":return He(i.ordinalNumber(n,{unit:"month"}),o);case"MMM":return i.month(n,{width:"abbreviated",context:"formatting"})||i.month(n,{width:"narrow",context:"formatting"});case"MMMMM":return i.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return i.month(n,{width:"wide",context:"formatting"})||i.month(n,{width:"abbreviated",context:"formatting"})||i.month(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=0&&r<=11}set(n,r,i){return n.setMonth(i,1),n.setHours(0,0,0,0),n}}class tI extends ye{constructor(){super(...arguments);H(this,"priority",110);H(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(n,r,i){const o=s=>s-1;switch(r){case"L":return He(Le(We.month,n),o);case"LL":return He($e(2,n),o);case"Lo":return He(i.ordinalNumber(n,{unit:"month"}),o);case"LLL":return i.month(n,{width:"abbreviated",context:"standalone"})||i.month(n,{width:"narrow",context:"standalone"});case"LLLLL":return i.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return i.month(n,{width:"wide",context:"standalone"})||i.month(n,{width:"abbreviated",context:"standalone"})||i.month(n,{width:"narrow",context:"standalone"})}}validate(n,r){return r>=0&&r<=11}set(n,r,i){return n.setMonth(i,1),n.setHours(0,0,0,0),n}}function nI(t,e,n){const r=W(t),i=Fw(r,n)-e;return r.setDate(r.getDate()-i*7),r}class rI extends ye{constructor(){super(...arguments);H(this,"priority",100);H(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(n,r,i){switch(r){case"w":return Le(We.week,n);case"wo":return i.ordinalNumber(n,{unit:"week"});default:return $e(r.length,n)}}validate(n,r){return r>=1&&r<=53}set(n,r,i,o){return zt(nI(n,i,o),o)}}function iI(t,e){const n=W(t),r=Dp(n)-e;return n.setDate(n.getDate()-r*7),n}class oI extends ye{constructor(){super(...arguments);H(this,"priority",100);H(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(n,r,i){switch(r){case"I":return Le(We.week,n);case"Io":return i.ordinalNumber(n,{unit:"week"});default:return $e(r.length,n)}}validate(n,r){return r>=1&&r<=53}set(n,r,i){return vo(iI(n,i))}}const sI=[31,28,31,30,31,30,31,31,30,31,30,31],aI=[31,29,31,30,31,30,31,31,30,31,30,31];class lI extends ye{constructor(){super(...arguments);H(this,"priority",90);H(this,"subPriority",1);H(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(n,r,i){switch(r){case"d":return Le(We.date,n);case"do":return i.ordinalNumber(n,{unit:"date"});default:return $e(r.length,n)}}validate(n,r){const i=n.getFullYear(),o=Ww(i),s=n.getMonth();return o?r>=1&&r<=aI[s]:r>=1&&r<=sI[s]}set(n,r,i){return n.setDate(i),n.setHours(0,0,0,0),n}}class uI extends ye{constructor(){super(...arguments);H(this,"priority",90);H(this,"subpriority",1);H(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(n,r,i){switch(r){case"D":case"DD":return Le(We.dayOfYear,n);case"Do":return i.ordinalNumber(n,{unit:"date"});default:return $e(r.length,n)}}validate(n,r){const i=n.getFullYear();return Ww(i)?r>=1&&r<=366:r>=1&&r<=365}set(n,r,i){return n.setMonth(0,i),n.setHours(0,0,0,0),n}}function Ip(t,e,n){var f,p,g,D;const r=Si(),i=(n==null?void 0:n.weekStartsOn)??((p=(f=n==null?void 0:n.locale)==null?void 0:f.options)==null?void 0:p.weekStartsOn)??r.weekStartsOn??((D=(g=r.locale)==null?void 0:g.options)==null?void 0:D.weekStartsOn)??0,o=W(t),s=o.getDay(),u=(e%7+7)%7,c=7-i,d=e<0||e>6?e-(s+c)%7:(u+c)%7-(s+c)%7;return rr(o,d)}class cI extends ye{constructor(){super(...arguments);H(this,"priority",90);H(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(n,r,i){switch(r){case"E":case"EE":case"EEE":return i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"});case"EEEEE":return i.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"});case"EEEE":default:return i.day(n,{width:"wide",context:"formatting"})||i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=0&&r<=6}set(n,r,i,o){return n=Ip(n,i,o),n.setHours(0,0,0,0),n}}class dI extends ye{constructor(){super(...arguments);H(this,"priority",90);H(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(n,r,i,o){const s=a=>{const u=Math.floor((a-1)/7)*7;return(a+o.weekStartsOn+6)%7+u};switch(r){case"e":case"ee":return He($e(r.length,n),s);case"eo":return He(i.ordinalNumber(n,{unit:"day"}),s);case"eee":return i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"});case"eeeee":return i.day(n,{width:"narrow",context:"formatting"});case"eeeeee":return i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"});case"eeee":default:return i.day(n,{width:"wide",context:"formatting"})||i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=0&&r<=6}set(n,r,i,o){return n=Ip(n,i,o),n.setHours(0,0,0,0),n}}class hI extends ye{constructor(){super(...arguments);H(this,"priority",90);H(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(n,r,i,o){const s=a=>{const u=Math.floor((a-1)/7)*7;return(a+o.weekStartsOn+6)%7+u};switch(r){case"c":case"cc":return He($e(r.length,n),s);case"co":return He(i.ordinalNumber(n,{unit:"day"}),s);case"ccc":return i.day(n,{width:"abbreviated",context:"standalone"})||i.day(n,{width:"short",context:"standalone"})||i.day(n,{width:"narrow",context:"standalone"});case"ccccc":return i.day(n,{width:"narrow",context:"standalone"});case"cccccc":return i.day(n,{width:"short",context:"standalone"})||i.day(n,{width:"narrow",context:"standalone"});case"cccc":default:return i.day(n,{width:"wide",context:"standalone"})||i.day(n,{width:"abbreviated",context:"standalone"})||i.day(n,{width:"short",context:"standalone"})||i.day(n,{width:"narrow",context:"standalone"})}}validate(n,r){return r>=0&&r<=6}set(n,r,i,o){return n=Ip(n,i,o),n.setHours(0,0,0,0),n}}function fI(t,e){const n=W(t),r=jC(n),i=e-r;return rr(n,i)}class pI extends ye{constructor(){super(...arguments);H(this,"priority",90);H(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(n,r,i){const o=s=>s===0?7:s;switch(r){case"i":case"ii":return $e(r.length,n);case"io":return i.ordinalNumber(n,{unit:"day"});case"iii":return He(i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"}),o);case"iiiii":return He(i.day(n,{width:"narrow",context:"formatting"}),o);case"iiiiii":return He(i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"}),o);case"iiii":default:return He(i.day(n,{width:"wide",context:"formatting"})||i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"}),o)}}validate(n,r){return r>=1&&r<=7}set(n,r,i){return n=fI(n,i),n.setHours(0,0,0,0),n}}class mI extends ye{constructor(){super(...arguments);H(this,"priority",80);H(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(n,r,i){switch(r){case"a":case"aa":case"aaa":return i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaaa":return i.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaa":default:return i.dayPeriod(n,{width:"wide",context:"formatting"})||i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,r,i){return n.setHours(Cp(i),0,0,0),n}}class gI extends ye{constructor(){super(...arguments);H(this,"priority",80);H(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(n,r,i){switch(r){case"b":case"bb":case"bbb":return i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbbb":return i.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbb":default:return i.dayPeriod(n,{width:"wide",context:"formatting"})||i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,r,i){return n.setHours(Cp(i),0,0,0),n}}class yI extends ye{constructor(){super(...arguments);H(this,"priority",80);H(this,"incompatibleTokens",["a","b","t","T"])}parse(n,r,i){switch(r){case"B":case"BB":case"BBB":return i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBBB":return i.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBB":default:return i.dayPeriod(n,{width:"wide",context:"formatting"})||i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,r,i){return n.setHours(Cp(i),0,0,0),n}}class vI extends ye{constructor(){super(...arguments);H(this,"priority",70);H(this,"incompatibleTokens",["H","K","k","t","T"])}parse(n,r,i){switch(r){case"h":return Le(We.hour12h,n);case"ho":return i.ordinalNumber(n,{unit:"hour"});default:return $e(r.length,n)}}validate(n,r){return r>=1&&r<=12}set(n,r,i){const o=n.getHours()>=12;return o&&i<12?n.setHours(i+12,0,0,0):!o&&i===12?n.setHours(0,0,0,0):n.setHours(i,0,0,0),n}}class _I extends ye{constructor(){super(...arguments);H(this,"priority",70);H(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(n,r,i){switch(r){case"H":return Le(We.hour23h,n);case"Ho":return i.ordinalNumber(n,{unit:"hour"});default:return $e(r.length,n)}}validate(n,r){return r>=0&&r<=23}set(n,r,i){return n.setHours(i,0,0,0),n}}class wI extends ye{constructor(){super(...arguments);H(this,"priority",70);H(this,"incompatibleTokens",["h","H","k","t","T"])}parse(n,r,i){switch(r){case"K":return Le(We.hour11h,n);case"Ko":return i.ordinalNumber(n,{unit:"hour"});default:return $e(r.length,n)}}validate(n,r){return r>=0&&r<=11}set(n,r,i){return n.getHours()>=12&&i<12?n.setHours(i+12,0,0,0):n.setHours(i,0,0,0),n}}class EI extends ye{constructor(){super(...arguments);H(this,"priority",70);H(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(n,r,i){switch(r){case"k":return Le(We.hour24h,n);case"ko":return i.ordinalNumber(n,{unit:"hour"});default:return $e(r.length,n)}}validate(n,r){return r>=1&&r<=24}set(n,r,i){const o=i<=24?i%24:i;return n.setHours(o,0,0,0),n}}class TI extends ye{constructor(){super(...arguments);H(this,"priority",60);H(this,"incompatibleTokens",["t","T"])}parse(n,r,i){switch(r){case"m":return Le(We.minute,n);case"mo":return i.ordinalNumber(n,{unit:"minute"});default:return $e(r.length,n)}}validate(n,r){return r>=0&&r<=59}set(n,r,i){return n.setMinutes(i,0,0),n}}class SI extends ye{constructor(){super(...arguments);H(this,"priority",50);H(this,"incompatibleTokens",["t","T"])}parse(n,r,i){switch(r){case"s":return Le(We.second,n);case"so":return i.ordinalNumber(n,{unit:"second"});default:return $e(r.length,n)}}validate(n,r){return r>=0&&r<=59}set(n,r,i){return n.setSeconds(i,0),n}}class DI extends ye{constructor(){super(...arguments);H(this,"priority",30);H(this,"incompatibleTokens",["t","T"])}parse(n,r){const i=o=>Math.trunc(o*Math.pow(10,-r.length+3));return He($e(r.length,n),i)}set(n,r,i){return n.setMilliseconds(i),n}}class kI extends ye{constructor(){super(...arguments);H(this,"priority",10);H(this,"incompatibleTokens",["t","T","x"])}parse(n,r){switch(r){case"X":return Dn(Sn.basicOptionalMinutes,n);case"XX":return Dn(Sn.basic,n);case"XXXX":return Dn(Sn.basicOptionalSeconds,n);case"XXXXX":return Dn(Sn.extendedOptionalSeconds,n);case"XXX":default:return Dn(Sn.extended,n)}}set(n,r,i){return r.timestampIsSet?n:Ee(n,n.getTime()-wu(n)-i)}}class CI extends ye{constructor(){super(...arguments);H(this,"priority",10);H(this,"incompatibleTokens",["t","T","X"])}parse(n,r){switch(r){case"x":return Dn(Sn.basicOptionalMinutes,n);case"xx":return Dn(Sn.basic,n);case"xxxx":return Dn(Sn.basicOptionalSeconds,n);case"xxxxx":return Dn(Sn.extendedOptionalSeconds,n);case"xxx":default:return Dn(Sn.extended,n)}}set(n,r,i){return r.timestampIsSet?n:Ee(n,n.getTime()-wu(n)-i)}}class II extends ye{constructor(){super(...arguments);H(this,"priority",40);H(this,"incompatibleTokens","*")}parse(n){return zw(n)}set(n,r,i){return[Ee(n,i*1e3),{timestampIsSet:!0}]}}class PI extends ye{constructor(){super(...arguments);H(this,"priority",20);H(this,"incompatibleTokens","*")}parse(n){return zw(n)}set(n,r,i){return[Ee(n,i),{timestampIsSet:!0}]}}const RI={G:new QC,y:new qC,Y:new KC,R:new GC,u:new XC,Q:new JC,q:new ZC,M:new eI,L:new tI,w:new rI,I:new oI,d:new lI,D:new uI,E:new cI,e:new dI,c:new hI,i:new pI,a:new mI,b:new gI,B:new yI,h:new vI,H:new _I,K:new wI,k:new EI,m:new TI,s:new SI,S:new DI,X:new kI,x:new CI,t:new II,T:new PI},xI=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,AI=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,bI=/^'([^]*?)'?$/,MI=/''/g,NI=/\S/,OI=/[a-zA-Z]/;function bd(t,e,n,r){var I,k,v,_,E,A,N,O;const i=UC(),o=(r==null?void 0:r.locale)??i.locale??Vw,s=(r==null?void 0:r.firstWeekContainsDate)??((k=(I=r==null?void 0:r.locale)==null?void 0:I.options)==null?void 0:k.firstWeekContainsDate)??i.firstWeekContainsDate??((_=(v=i.locale)==null?void 0:v.options)==null?void 0:_.firstWeekContainsDate)??1,a=(r==null?void 0:r.weekStartsOn)??((A=(E=r==null?void 0:r.locale)==null?void 0:E.options)==null?void 0:A.weekStartsOn)??i.weekStartsOn??((O=(N=i.locale)==null?void 0:N.options)==null?void 0:O.weekStartsOn)??0;if(e==="")return t===""?W(n):Ee(n,NaN);const u={firstWeekContainsDate:s,weekStartsOn:a,locale:o},c=[new HC],d=e.match(AI).map(T=>{const y=T[0];if(y in ku){const S=ku[y];return S(T,o.formatLong)}return T}).join("").match(xI),f=[];for(let T of d){!(r!=null&&r.useAdditionalWeekYearTokens)&&jw(T)&&Qh(T,e,t),!(r!=null&&r.useAdditionalDayOfYearTokens)&&Uw(T)&&Qh(T,e,t);const y=T[0],S=RI[y];if(S){const{incompatibleTokens:P}=S;if(Array.isArray(P)){const R=f.find(C=>P.includes(C.token)||C.token===y);if(R)throw new RangeError(`The format string mustn't contain \`${R.fullToken}\` and \`${T}\` at the same time`)}else if(S.incompatibleTokens==="*"&&f.length>0)throw new RangeError(`The format string mustn't contain \`${T}\` and any other token at the same time`);f.push({token:y,fullToken:T});const x=S.run(t,T,o.match,u);if(!x)return Ee(n,NaN);c.push(x.setter),t=x.rest}else{if(y.match(OI))throw new RangeError("Format string contains an unescaped latin alphabet character `"+y+"`");if(T==="''"?T="'":y==="'"&&(T=LI(T)),t.indexOf(T)===0)t=t.slice(T.length);else return Ee(n,NaN)}}if(t.length>0&&NI.test(t))return Ee(n,NaN);const p=c.map(T=>T.priority).sort((T,y)=>y-T).filter((T,y,S)=>S.indexOf(T)===y).map(T=>c.filter(y=>y.priority===T).sort((y,S)=>S.subPriority-y.subPriority)).map(T=>T[0]);let g=W(n);if(isNaN(g.getTime()))return Ee(n,NaN);const D={};for(const T of p){if(!T.validate(g,u))return Ee(n,NaN);const y=T.set(g,D,u);Array.isArray(y)?(g=y[0],Object.assign(D,y[1])):g=y}return Ee(n,g)}function LI(t){return t.match(bI)[1].replace(MI,"'")}function VI(t,e){const n=W(t),r=W(e);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}function FI(t,e){const n=Hh(t),r=Hh(e);return+n==+r}function BI(t,e){const n=W(t),r=W(e);return n.getFullYear()===r.getFullYear()}function oa(t,e){const n=+W(t),[r,i]=[+W(e.start),+W(e.end)].sort((o,s)=>o-s);return n>=r&&n<=i}function UI(t,e){return rr(t,-e)}function jI(t,e){const r=WI(t);let i;if(r.date){const u=HI(r.date,2);i=QI(u.restDateString,u.year)}if(!i||isNaN(i.getTime()))return new Date(NaN);const o=i.getTime();let s=0,a;if(r.time&&(s=qI(r.time),isNaN(s)))return new Date(NaN);if(r.timezone){if(a=KI(r.timezone),isNaN(a))return new Date(NaN)}else{const u=new Date(o+s),c=new Date(0);return c.setFullYear(u.getUTCFullYear(),u.getUTCMonth(),u.getUTCDate()),c.setHours(u.getUTCHours(),u.getUTCMinutes(),u.getUTCSeconds(),u.getUTCMilliseconds()),c}return new Date(o+s+a)}const hl={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},$I=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,zI=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,YI=/^([+-])(\d{2})(?::?(\d{2}))?$/;function WI(t){const e={},n=t.split(hl.dateTimeDelimiter);let r;if(n.length>2)return e;if(/:/.test(n[0])?r=n[0]:(e.date=n[0],r=n[1],hl.timeZoneDelimiter.test(e.date)&&(e.date=t.split(hl.timeZoneDelimiter)[0],r=t.substr(e.date.length,t.length))),r){const i=hl.timezone.exec(r);i?(e.time=r.replace(i[1],""),e.timezone=i[1]):e.time=r}return e}function HI(t,e){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),r=t.match(n);if(!r)return{year:NaN,restDateString:""};const i=r[1]?parseInt(r[1]):null,o=r[2]?parseInt(r[2]):null;return{year:o===null?i:o*100,restDateString:t.slice((r[1]||r[2]).length)}}function QI(t,e){if(e===null)return new Date(NaN);const n=t.match($I);if(!n)return new Date(NaN);const r=!!n[4],i=ps(n[1]),o=ps(n[2])-1,s=ps(n[3]),a=ps(n[4]),u=ps(n[5])-1;if(r)return eP(e,a,u)?GI(e,a,u):new Date(NaN);{const c=new Date(0);return!JI(e,o,s)||!ZI(e,i)?new Date(NaN):(c.setUTCFullYear(e,o,Math.max(i,s)),c)}}function ps(t){return t?parseInt(t):1}function qI(t){const e=t.match(zI);if(!e)return NaN;const n=Md(e[1]),r=Md(e[2]),i=Md(e[3]);return tP(n,r,i)?n*dc+r*cc+i*1e3:NaN}function Md(t){return t&&parseFloat(t.replace(",","."))||0}function KI(t){if(t==="Z")return 0;const e=t.match(YI);if(!e)return 0;const n=e[1]==="+"?-1:1,r=parseInt(e[2]),i=e[3]&&parseInt(e[3])||0;return nP(r,i)?n*(r*dc+i*cc):NaN}function GI(t,e,n){const r=new Date(0);r.setUTCFullYear(t,0,4);const i=r.getUTCDay()||7,o=(e-1)*7+n+1-i;return r.setUTCDate(r.getUTCDate()+o),r}const XI=[31,null,31,30,31,30,31,31,30,31,30,31];function Hw(t){return t%400===0||t%4===0&&t%100!==0}function JI(t,e,n){return e>=0&&e<=11&&n>=1&&n<=(XI[e]||(Hw(t)?29:28))}function ZI(t,e){return e>=1&&e<=(Hw(t)?366:365)}function eP(t,e,n){return e>=1&&e<=53&&n>=0&&n<=6}function tP(t,e,n){return t===24?e===0&&n===0:n>=0&&n<60&&e>=0&&e<60&&t>=0&&t<25}function nP(t,e){return e>=0&&e<=59}function jt(t,e){const n=W(t),r=n.getFullYear(),i=n.getDate(),o=Ee(t,0);o.setFullYear(r,e,15),o.setHours(0,0,0,0);const s=BC(o);return n.setMonth(e,Math.min(i,s)),n}function rP(t,e){let n=W(t);return isNaN(+n)?Ee(t,NaN):(e.year!=null&&n.setFullYear(e.year),e.month!=null&&(n=jt(n,e.month)),e.date!=null&&n.setDate(e.date),e.hours!=null&&n.setHours(e.hours),e.minutes!=null&&n.setMinutes(e.minutes),e.seconds!=null&&n.setSeconds(e.seconds),e.milliseconds!=null&&n.setMilliseconds(e.milliseconds),n)}function Fl(t,e){const n=W(t);return n.setHours(e),n}function Bl(t,e){const n=W(t);return n.setMinutes(e),n}function Ni(t,e){const n=W(t),r=Math.trunc(n.getMonth()/3)+1,i=e-r;return jt(n,n.getMonth()+i*3)}function Ul(t,e){const n=W(t);return n.setSeconds(e),n}function wn(t,e){const n=W(t);return isNaN(+n)?Ee(t,NaN):(n.setFullYear(e),n)}function wo(t,e){return gn(t,-e)}function Qw(t,e){return Ep(t,-e)}function xy(t,e){return ia(t,-e)}function Eo(t,e){return Kn(t,-e)}const iP="_addMemberForm_i0bkb_1",oP="_fadeIn_i0bkb_1",sP="_formGroup_i0bkb_37",aP="_rolesContainer_i0bkb_41",lP="_checkboxGroup_i0bkb_67",uP="_checkbox_i0bkb_67",cP="_sliderContainer_i0bkb_81",dP="_datePickerContainer_i0bkb_127",hP="_datePicker_i0bkb_127",fP="_datesList_i0bkb_140",pP="_dateTag_i0bkb_146",mP="_formActions_i0bkb_165",gP="_submitButton_i0bkb_172",yP="_cancelButton_i0bkb_173",vP="_error_i0bkb_200",_P="_errorText_i0bkb_204",wP="_overlay_i0bkb_210",Ne={addMemberForm:iP,fadeIn:oP,formGroup:sP,rolesContainer:aP,checkboxGroup:lP,checkbox:uP,sliderContainer:cP,datePickerContainer:dP,datePicker:hP,datesList:fP,dateTag:pP,formActions:mP,submitButton:gP,cancelButton:yP,error:vP,errorText:_P,overlay:wP};var Ay={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qw=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},EP=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],s=t[n++],a=t[n++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},Kw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,a=s?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,d=o>>2,f=(o&3)<<4|a>>4;let p=(a&15)<<2|c>>6,g=c&63;u||(g=64,s||(p=64)),r.push(n[d],n[f],n[p],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(qw(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):EP(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||c==null||f==null)throw new TP;const p=o<<2|a>>4;if(r.push(p),c!==64){const g=a<<4&240|c>>2;if(r.push(g),f!==64){const D=c<<6&192|f;r.push(D)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class TP extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const SP=function(t){const e=qw(t);return Kw.encodeByteArray(e,!0)},Iu=function(t){return SP(t).replace(/\./g,"")},DP=function(t){try{return Kw.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kP(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CP=()=>kP().__FIREBASE_DEFAULTS__,IP=()=>{if(typeof process>"u"||typeof Ay>"u")return;const t=Ay.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},PP=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&DP(t[1]);return e&&JSON.parse(e)},Pp=()=>{try{return CP()||IP()||PP()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},RP=t=>{var e,n;return(n=(e=Pp())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},xP=t=>{const e=RP(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Gw=()=>{var t;return(t=Pp())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AP{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bP(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Iu(JSON.stringify(n)),Iu(JSON.stringify(s)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MP(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function NP(){var t;const e=(t=Pp())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function OP(){return!NP()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function LP(){try{return typeof indexedDB=="object"}catch{return!1}}function VP(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FP="FirebaseError";class Fo extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=FP,Object.setPrototypeOf(this,Fo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Xw.prototype.create)}}class Xw{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?BP(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new Fo(i,a,r)}}function BP(t,e){return t.replace(UP,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const UP=/\{\$([^}]+)}/g;function Kh(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],s=e[i];if(by(o)&&by(s)){if(!Kh(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function by(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function To(t){return t&&t._delegate?t._delegate:t}class sa{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ei="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jP{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new AP;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(zP(e))try{this.getOrInitializeService({instanceIdentifier:ei})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=ei){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ei){return this.instances.has(e)}getOptions(e=ei){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:$P(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ei){return this.component?this.component.multipleInstances?e:ei:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function $P(t){return t===ei?void 0:t}function zP(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YP{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new jP(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(fe||(fe={}));const WP={debug:fe.DEBUG,verbose:fe.VERBOSE,info:fe.INFO,warn:fe.WARN,error:fe.ERROR,silent:fe.SILENT},HP=fe.INFO,QP={[fe.DEBUG]:"log",[fe.VERBOSE]:"log",[fe.INFO]:"info",[fe.WARN]:"warn",[fe.ERROR]:"error"},qP=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=QP[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Jw{constructor(e){this.name=e,this._logLevel=HP,this._logHandler=qP,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in fe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?WP[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,fe.DEBUG,...e),this._logHandler(this,fe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,fe.VERBOSE,...e),this._logHandler(this,fe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,fe.INFO,...e),this._logHandler(this,fe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,fe.WARN,...e),this._logHandler(this,fe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,fe.ERROR,...e),this._logHandler(this,fe.ERROR,...e)}}const KP=(t,e)=>e.some(n=>t instanceof n);let My,Ny;function GP(){return My||(My=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function XP(){return Ny||(Ny=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Zw=new WeakMap,Gh=new WeakMap,eE=new WeakMap,Nd=new WeakMap,Rp=new WeakMap;function JP(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(xr(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&Zw.set(n,t)}).catch(()=>{}),Rp.set(e,t),e}function ZP(t){if(Gh.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});Gh.set(t,e)}let Xh={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Gh.get(t);if(e==="objectStoreNames")return t.objectStoreNames||eE.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return xr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function eR(t){Xh=t(Xh)}function tR(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Od(this),e,...n);return eE.set(r,e.sort?e.sort():[e]),xr(r)}:XP().includes(t)?function(...e){return t.apply(Od(this),e),xr(Zw.get(this))}:function(...e){return xr(t.apply(Od(this),e))}}function nR(t){return typeof t=="function"?tR(t):(t instanceof IDBTransaction&&ZP(t),KP(t,GP())?new Proxy(t,Xh):t)}function xr(t){if(t instanceof IDBRequest)return JP(t);if(Nd.has(t))return Nd.get(t);const e=nR(t);return e!==t&&(Nd.set(t,e),Rp.set(e,t)),e}const Od=t=>Rp.get(t);function rR(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=xr(s);return r&&s.addEventListener("upgradeneeded",u=>{r(xr(s.result),u.oldVersion,u.newVersion,xr(s.transaction),u)}),n&&s.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const iR=["get","getKey","getAll","getAllKeys","count"],oR=["put","add","delete","clear"],Ld=new Map;function Oy(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Ld.get(e))return Ld.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=oR.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||iR.includes(n)))return;const o=async function(s,...a){const u=this.transaction(s,i?"readwrite":"readonly");let c=u.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&u.done]))[0]};return Ld.set(e,o),o}eR(t=>({...t,get:(e,n,r)=>Oy(e,n)||t.get(e,n,r),has:(e,n)=>!!Oy(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(aR(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function aR(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Jh="@firebase/app",Ly="0.10.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ir=new Jw("@firebase/app"),lR="@firebase/app-compat",uR="@firebase/analytics-compat",cR="@firebase/analytics",dR="@firebase/app-check-compat",hR="@firebase/app-check",fR="@firebase/auth",pR="@firebase/auth-compat",mR="@firebase/database",gR="@firebase/data-connect",yR="@firebase/database-compat",vR="@firebase/functions",_R="@firebase/functions-compat",wR="@firebase/installations",ER="@firebase/installations-compat",TR="@firebase/messaging",SR="@firebase/messaging-compat",DR="@firebase/performance",kR="@firebase/performance-compat",CR="@firebase/remote-config",IR="@firebase/remote-config-compat",PR="@firebase/storage",RR="@firebase/storage-compat",xR="@firebase/firestore",AR="@firebase/vertexai",bR="@firebase/firestore-compat",MR="firebase",NR="11.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zh="[DEFAULT]",OR={[Jh]:"fire-core",[lR]:"fire-core-compat",[cR]:"fire-analytics",[uR]:"fire-analytics-compat",[hR]:"fire-app-check",[dR]:"fire-app-check-compat",[fR]:"fire-auth",[pR]:"fire-auth-compat",[mR]:"fire-rtdb",[gR]:"fire-data-connect",[yR]:"fire-rtdb-compat",[vR]:"fire-fn",[_R]:"fire-fn-compat",[wR]:"fire-iid",[ER]:"fire-iid-compat",[TR]:"fire-fcm",[SR]:"fire-fcm-compat",[DR]:"fire-perf",[kR]:"fire-perf-compat",[CR]:"fire-rc",[IR]:"fire-rc-compat",[PR]:"fire-gcs",[RR]:"fire-gcs-compat",[xR]:"fire-fst",[bR]:"fire-fst-compat",[AR]:"fire-vertex","fire-js":"fire-js",[MR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pu=new Map,LR=new Map,ef=new Map;function Vy(t,e){try{t.container.addComponent(e)}catch(n){ir.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ru(t){const e=t.name;if(ef.has(e))return ir.debug(`There were multiple attempts to register component ${e}.`),!1;ef.set(e,t);for(const n of Pu.values())Vy(n,t);for(const n of LR.values())Vy(n,t);return!0}function VR(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ar=new Xw("app","Firebase",FR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BR{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new sa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ar.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UR=NR;function tE(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Zh,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Ar.create("bad-app-name",{appName:String(i)});if(n||(n=Gw()),!n)throw Ar.create("no-options");const o=Pu.get(i);if(o){if(Kh(n,o.options)&&Kh(r,o.config))return o;throw Ar.create("duplicate-app",{appName:i})}const s=new YP(i);for(const u of ef.values())s.addComponent(u);const a=new BR(n,r,s);return Pu.set(i,a),a}function jR(t=Zh){const e=Pu.get(t);if(!e&&t===Zh&&Gw())return tE();if(!e)throw Ar.create("no-app",{appName:t});return e}function io(t,e,n){var r;let i=(r=OR[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ir.warn(a.join(" "));return}Ru(new sa(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $R="firebase-heartbeat-database",zR=1,aa="firebase-heartbeat-store";let Vd=null;function nE(){return Vd||(Vd=rR($R,zR,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(aa)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ar.create("idb-open",{originalErrorMessage:t.message})})),Vd}async function YR(t){try{const n=(await nE()).transaction(aa),r=await n.objectStore(aa).get(rE(t));return await n.done,r}catch(e){if(e instanceof Fo)ir.warn(e.message);else{const n=Ar.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ir.warn(n.message)}}}async function Fy(t,e){try{const r=(await nE()).transaction(aa,"readwrite");await r.objectStore(aa).put(e,rE(t)),await r.done}catch(n){if(n instanceof Fo)ir.warn(n.message);else{const r=Ar.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ir.warn(r.message)}}}function rE(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WR=1024,HR=30*24*60*60*1e3;class QR{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new KR(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=By();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const a=new Date(s.date).valueOf();return Date.now()-a<=HR}),this._storage.overwrite(this._heartbeatsCache))}catch(r){ir.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=By(),{heartbeatsToSend:r,unsentEntries:i}=qR(this._heartbeatsCache.heartbeats),o=Iu(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return ir.warn(n),""}}}function By(){return new Date().toISOString().substring(0,10)}function qR(t,e=WR){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),Uy(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Uy(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class KR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return LP()?VP().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await YR(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Fy(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Fy(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Uy(t){return Iu(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GR(t){Ru(new sa("platform-logger",e=>new sR(e),"PRIVATE")),Ru(new sa("heartbeat",e=>new QR(e),"PRIVATE")),io(Jh,Ly,t),io(Jh,Ly,"esm2017"),io("fire-js","")}GR("");var XR="firebase",JR="11.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */io(XR,JR,"app");var jy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ui,iE;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(T,y){function S(){}S.prototype=y.prototype,T.D=y.prototype,T.prototype=new S,T.prototype.constructor=T,T.C=function(P,x,R){for(var C=Array(arguments.length-2),Z=2;Z<arguments.length;Z++)C[Z-2]=arguments[Z];return y.prototype[x].apply(P,C)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(T,y,S){S||(S=0);var P=Array(16);if(typeof y=="string")for(var x=0;16>x;++x)P[x]=y.charCodeAt(S++)|y.charCodeAt(S++)<<8|y.charCodeAt(S++)<<16|y.charCodeAt(S++)<<24;else for(x=0;16>x;++x)P[x]=y[S++]|y[S++]<<8|y[S++]<<16|y[S++]<<24;y=T.g[0],S=T.g[1],x=T.g[2];var R=T.g[3],C=y+(R^S&(x^R))+P[0]+3614090360&4294967295;y=S+(C<<7&4294967295|C>>>25),C=R+(x^y&(S^x))+P[1]+3905402710&4294967295,R=y+(C<<12&4294967295|C>>>20),C=x+(S^R&(y^S))+P[2]+606105819&4294967295,x=R+(C<<17&4294967295|C>>>15),C=S+(y^x&(R^y))+P[3]+3250441966&4294967295,S=x+(C<<22&4294967295|C>>>10),C=y+(R^S&(x^R))+P[4]+4118548399&4294967295,y=S+(C<<7&4294967295|C>>>25),C=R+(x^y&(S^x))+P[5]+1200080426&4294967295,R=y+(C<<12&4294967295|C>>>20),C=x+(S^R&(y^S))+P[6]+2821735955&4294967295,x=R+(C<<17&4294967295|C>>>15),C=S+(y^x&(R^y))+P[7]+4249261313&4294967295,S=x+(C<<22&4294967295|C>>>10),C=y+(R^S&(x^R))+P[8]+1770035416&4294967295,y=S+(C<<7&4294967295|C>>>25),C=R+(x^y&(S^x))+P[9]+2336552879&4294967295,R=y+(C<<12&4294967295|C>>>20),C=x+(S^R&(y^S))+P[10]+4294925233&4294967295,x=R+(C<<17&4294967295|C>>>15),C=S+(y^x&(R^y))+P[11]+2304563134&4294967295,S=x+(C<<22&4294967295|C>>>10),C=y+(R^S&(x^R))+P[12]+1804603682&4294967295,y=S+(C<<7&4294967295|C>>>25),C=R+(x^y&(S^x))+P[13]+4254626195&4294967295,R=y+(C<<12&4294967295|C>>>20),C=x+(S^R&(y^S))+P[14]+2792965006&4294967295,x=R+(C<<17&4294967295|C>>>15),C=S+(y^x&(R^y))+P[15]+1236535329&4294967295,S=x+(C<<22&4294967295|C>>>10),C=y+(x^R&(S^x))+P[1]+4129170786&4294967295,y=S+(C<<5&4294967295|C>>>27),C=R+(S^x&(y^S))+P[6]+3225465664&4294967295,R=y+(C<<9&4294967295|C>>>23),C=x+(y^S&(R^y))+P[11]+643717713&4294967295,x=R+(C<<14&4294967295|C>>>18),C=S+(R^y&(x^R))+P[0]+3921069994&4294967295,S=x+(C<<20&4294967295|C>>>12),C=y+(x^R&(S^x))+P[5]+3593408605&4294967295,y=S+(C<<5&4294967295|C>>>27),C=R+(S^x&(y^S))+P[10]+38016083&4294967295,R=y+(C<<9&4294967295|C>>>23),C=x+(y^S&(R^y))+P[15]+3634488961&4294967295,x=R+(C<<14&4294967295|C>>>18),C=S+(R^y&(x^R))+P[4]+3889429448&4294967295,S=x+(C<<20&4294967295|C>>>12),C=y+(x^R&(S^x))+P[9]+568446438&4294967295,y=S+(C<<5&4294967295|C>>>27),C=R+(S^x&(y^S))+P[14]+3275163606&4294967295,R=y+(C<<9&4294967295|C>>>23),C=x+(y^S&(R^y))+P[3]+4107603335&4294967295,x=R+(C<<14&4294967295|C>>>18),C=S+(R^y&(x^R))+P[8]+1163531501&4294967295,S=x+(C<<20&4294967295|C>>>12),C=y+(x^R&(S^x))+P[13]+2850285829&4294967295,y=S+(C<<5&4294967295|C>>>27),C=R+(S^x&(y^S))+P[2]+4243563512&4294967295,R=y+(C<<9&4294967295|C>>>23),C=x+(y^S&(R^y))+P[7]+1735328473&4294967295,x=R+(C<<14&4294967295|C>>>18),C=S+(R^y&(x^R))+P[12]+2368359562&4294967295,S=x+(C<<20&4294967295|C>>>12),C=y+(S^x^R)+P[5]+4294588738&4294967295,y=S+(C<<4&4294967295|C>>>28),C=R+(y^S^x)+P[8]+2272392833&4294967295,R=y+(C<<11&4294967295|C>>>21),C=x+(R^y^S)+P[11]+1839030562&4294967295,x=R+(C<<16&4294967295|C>>>16),C=S+(x^R^y)+P[14]+4259657740&4294967295,S=x+(C<<23&4294967295|C>>>9),C=y+(S^x^R)+P[1]+2763975236&4294967295,y=S+(C<<4&4294967295|C>>>28),C=R+(y^S^x)+P[4]+1272893353&4294967295,R=y+(C<<11&4294967295|C>>>21),C=x+(R^y^S)+P[7]+4139469664&4294967295,x=R+(C<<16&4294967295|C>>>16),C=S+(x^R^y)+P[10]+3200236656&4294967295,S=x+(C<<23&4294967295|C>>>9),C=y+(S^x^R)+P[13]+681279174&4294967295,y=S+(C<<4&4294967295|C>>>28),C=R+(y^S^x)+P[0]+3936430074&4294967295,R=y+(C<<11&4294967295|C>>>21),C=x+(R^y^S)+P[3]+3572445317&4294967295,x=R+(C<<16&4294967295|C>>>16),C=S+(x^R^y)+P[6]+76029189&4294967295,S=x+(C<<23&4294967295|C>>>9),C=y+(S^x^R)+P[9]+3654602809&4294967295,y=S+(C<<4&4294967295|C>>>28),C=R+(y^S^x)+P[12]+3873151461&4294967295,R=y+(C<<11&4294967295|C>>>21),C=x+(R^y^S)+P[15]+530742520&4294967295,x=R+(C<<16&4294967295|C>>>16),C=S+(x^R^y)+P[2]+3299628645&4294967295,S=x+(C<<23&4294967295|C>>>9),C=y+(x^(S|~R))+P[0]+4096336452&4294967295,y=S+(C<<6&4294967295|C>>>26),C=R+(S^(y|~x))+P[7]+1126891415&4294967295,R=y+(C<<10&4294967295|C>>>22),C=x+(y^(R|~S))+P[14]+2878612391&4294967295,x=R+(C<<15&4294967295|C>>>17),C=S+(R^(x|~y))+P[5]+4237533241&4294967295,S=x+(C<<21&4294967295|C>>>11),C=y+(x^(S|~R))+P[12]+1700485571&4294967295,y=S+(C<<6&4294967295|C>>>26),C=R+(S^(y|~x))+P[3]+2399980690&4294967295,R=y+(C<<10&4294967295|C>>>22),C=x+(y^(R|~S))+P[10]+4293915773&4294967295,x=R+(C<<15&4294967295|C>>>17),C=S+(R^(x|~y))+P[1]+2240044497&4294967295,S=x+(C<<21&4294967295|C>>>11),C=y+(x^(S|~R))+P[8]+1873313359&4294967295,y=S+(C<<6&4294967295|C>>>26),C=R+(S^(y|~x))+P[15]+4264355552&4294967295,R=y+(C<<10&4294967295|C>>>22),C=x+(y^(R|~S))+P[6]+2734768916&4294967295,x=R+(C<<15&4294967295|C>>>17),C=S+(R^(x|~y))+P[13]+1309151649&4294967295,S=x+(C<<21&4294967295|C>>>11),C=y+(x^(S|~R))+P[4]+4149444226&4294967295,y=S+(C<<6&4294967295|C>>>26),C=R+(S^(y|~x))+P[11]+3174756917&4294967295,R=y+(C<<10&4294967295|C>>>22),C=x+(y^(R|~S))+P[2]+718787259&4294967295,x=R+(C<<15&4294967295|C>>>17),C=S+(R^(x|~y))+P[9]+3951481745&4294967295,T.g[0]=T.g[0]+y&4294967295,T.g[1]=T.g[1]+(x+(C<<21&4294967295|C>>>11))&4294967295,T.g[2]=T.g[2]+x&4294967295,T.g[3]=T.g[3]+R&4294967295}r.prototype.u=function(T,y){y===void 0&&(y=T.length);for(var S=y-this.blockSize,P=this.B,x=this.h,R=0;R<y;){if(x==0)for(;R<=S;)i(this,T,R),R+=this.blockSize;if(typeof T=="string"){for(;R<y;)if(P[x++]=T.charCodeAt(R++),x==this.blockSize){i(this,P),x=0;break}}else for(;R<y;)if(P[x++]=T[R++],x==this.blockSize){i(this,P),x=0;break}}this.h=x,this.o+=y},r.prototype.v=function(){var T=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);T[0]=128;for(var y=1;y<T.length-8;++y)T[y]=0;var S=8*this.o;for(y=T.length-8;y<T.length;++y)T[y]=S&255,S/=256;for(this.u(T),T=Array(16),y=S=0;4>y;++y)for(var P=0;32>P;P+=8)T[S++]=this.g[y]>>>P&255;return T};function o(T,y){var S=a;return Object.prototype.hasOwnProperty.call(S,T)?S[T]:S[T]=y(T)}function s(T,y){this.h=y;for(var S=[],P=!0,x=T.length-1;0<=x;x--){var R=T[x]|0;P&&R==y||(S[x]=R,P=!1)}this.g=S}var a={};function u(T){return-128<=T&&128>T?o(T,function(y){return new s([y|0],0>y?-1:0)}):new s([T|0],0>T?-1:0)}function c(T){if(isNaN(T)||!isFinite(T))return f;if(0>T)return k(c(-T));for(var y=[],S=1,P=0;T>=S;P++)y[P]=T/S|0,S*=4294967296;return new s(y,0)}function d(T,y){if(T.length==0)throw Error("number format error: empty string");if(y=y||10,2>y||36<y)throw Error("radix out of range: "+y);if(T.charAt(0)=="-")return k(d(T.substring(1),y));if(0<=T.indexOf("-"))throw Error('number format error: interior "-" character');for(var S=c(Math.pow(y,8)),P=f,x=0;x<T.length;x+=8){var R=Math.min(8,T.length-x),C=parseInt(T.substring(x,x+R),y);8>R?(R=c(Math.pow(y,R)),P=P.j(R).add(c(C))):(P=P.j(S),P=P.add(c(C)))}return P}var f=u(0),p=u(1),g=u(16777216);t=s.prototype,t.m=function(){if(I(this))return-k(this).m();for(var T=0,y=1,S=0;S<this.g.length;S++){var P=this.i(S);T+=(0<=P?P:4294967296+P)*y,y*=4294967296}return T},t.toString=function(T){if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(D(this))return"0";if(I(this))return"-"+k(this).toString(T);for(var y=c(Math.pow(T,6)),S=this,P="";;){var x=A(S,y).g;S=v(S,x.j(y));var R=((0<S.g.length?S.g[0]:S.h)>>>0).toString(T);if(S=x,D(S))return R+P;for(;6>R.length;)R="0"+R;P=R+P}},t.i=function(T){return 0>T?0:T<this.g.length?this.g[T]:this.h};function D(T){if(T.h!=0)return!1;for(var y=0;y<T.g.length;y++)if(T.g[y]!=0)return!1;return!0}function I(T){return T.h==-1}t.l=function(T){return T=v(this,T),I(T)?-1:D(T)?0:1};function k(T){for(var y=T.g.length,S=[],P=0;P<y;P++)S[P]=~T.g[P];return new s(S,~T.h).add(p)}t.abs=function(){return I(this)?k(this):this},t.add=function(T){for(var y=Math.max(this.g.length,T.g.length),S=[],P=0,x=0;x<=y;x++){var R=P+(this.i(x)&65535)+(T.i(x)&65535),C=(R>>>16)+(this.i(x)>>>16)+(T.i(x)>>>16);P=C>>>16,R&=65535,C&=65535,S[x]=C<<16|R}return new s(S,S[S.length-1]&-2147483648?-1:0)};function v(T,y){return T.add(k(y))}t.j=function(T){if(D(this)||D(T))return f;if(I(this))return I(T)?k(this).j(k(T)):k(k(this).j(T));if(I(T))return k(this.j(k(T)));if(0>this.l(g)&&0>T.l(g))return c(this.m()*T.m());for(var y=this.g.length+T.g.length,S=[],P=0;P<2*y;P++)S[P]=0;for(P=0;P<this.g.length;P++)for(var x=0;x<T.g.length;x++){var R=this.i(P)>>>16,C=this.i(P)&65535,Z=T.i(x)>>>16,ne=T.i(x)&65535;S[2*P+2*x]+=C*ne,_(S,2*P+2*x),S[2*P+2*x+1]+=R*ne,_(S,2*P+2*x+1),S[2*P+2*x+1]+=C*Z,_(S,2*P+2*x+1),S[2*P+2*x+2]+=R*Z,_(S,2*P+2*x+2)}for(P=0;P<y;P++)S[P]=S[2*P+1]<<16|S[2*P];for(P=y;P<2*y;P++)S[P]=0;return new s(S,0)};function _(T,y){for(;(T[y]&65535)!=T[y];)T[y+1]+=T[y]>>>16,T[y]&=65535,y++}function E(T,y){this.g=T,this.h=y}function A(T,y){if(D(y))throw Error("division by zero");if(D(T))return new E(f,f);if(I(T))return y=A(k(T),y),new E(k(y.g),k(y.h));if(I(y))return y=A(T,k(y)),new E(k(y.g),y.h);if(30<T.g.length){if(I(T)||I(y))throw Error("slowDivide_ only works with positive integers.");for(var S=p,P=y;0>=P.l(T);)S=N(S),P=N(P);var x=O(S,1),R=O(P,1);for(P=O(P,2),S=O(S,2);!D(P);){var C=R.add(P);0>=C.l(T)&&(x=x.add(S),R=C),P=O(P,1),S=O(S,1)}return y=v(T,x.j(y)),new E(x,y)}for(x=f;0<=T.l(y);){for(S=Math.max(1,Math.floor(T.m()/y.m())),P=Math.ceil(Math.log(S)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),R=c(S),C=R.j(y);I(C)||0<C.l(T);)S-=P,R=c(S),C=R.j(y);D(R)&&(R=p),x=x.add(R),T=v(T,C)}return new E(x,T)}t.A=function(T){return A(this,T).h},t.and=function(T){for(var y=Math.max(this.g.length,T.g.length),S=[],P=0;P<y;P++)S[P]=this.i(P)&T.i(P);return new s(S,this.h&T.h)},t.or=function(T){for(var y=Math.max(this.g.length,T.g.length),S=[],P=0;P<y;P++)S[P]=this.i(P)|T.i(P);return new s(S,this.h|T.h)},t.xor=function(T){for(var y=Math.max(this.g.length,T.g.length),S=[],P=0;P<y;P++)S[P]=this.i(P)^T.i(P);return new s(S,this.h^T.h)};function N(T){for(var y=T.g.length+1,S=[],P=0;P<y;P++)S[P]=T.i(P)<<1|T.i(P-1)>>>31;return new s(S,T.h)}function O(T,y){var S=y>>5;y%=32;for(var P=T.g.length-S,x=[],R=0;R<P;R++)x[R]=0<y?T.i(R+S)>>>y|T.i(R+S+1)<<32-y:T.i(R+S);return new s(x,T.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,iE=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=c,s.fromString=d,ui=s}).apply(typeof jy<"u"?jy:typeof self<"u"?self:typeof window<"u"?window:{});var fl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var oE,Ts,sE,jl,tf,aE,lE,uE;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,h,m){return l==Array.prototype||l==Object.prototype||(l[h]=m.value),l};function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof fl=="object"&&fl];for(var h=0;h<l.length;++h){var m=l[h];if(m&&m.Math==Math)return m}throw Error("Cannot find global object")}var r=n(this);function i(l,h){if(h)e:{var m=r;l=l.split(".");for(var w=0;w<l.length-1;w++){var b=l[w];if(!(b in m))break e;m=m[b]}l=l[l.length-1],w=m[l],h=h(w),h!=w&&h!=null&&e(m,l,{configurable:!0,writable:!0,value:h})}}function o(l,h){l instanceof String&&(l+="");var m=0,w=!1,b={next:function(){if(!w&&m<l.length){var L=m++;return{value:h(L,l[L]),done:!1}}return w=!0,{done:!0,value:void 0}}};return b[Symbol.iterator]=function(){return b},b}i("Array.prototype.values",function(l){return l||function(){return o(this,function(h,m){return m})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},a=this||self;function u(l){var h=typeof l;return h=h!="object"?h:l?Array.isArray(l)?"array":h:"null",h=="array"||h=="object"&&typeof l.length=="number"}function c(l){var h=typeof l;return h=="object"&&l!=null||h=="function"}function d(l,h,m){return l.call.apply(l.bind,arguments)}function f(l,h,m){if(!l)throw Error();if(2<arguments.length){var w=Array.prototype.slice.call(arguments,2);return function(){var b=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(b,w),l.apply(h,b)}}return function(){return l.apply(h,arguments)}}function p(l,h,m){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:f,p.apply(null,arguments)}function g(l,h){var m=Array.prototype.slice.call(arguments,1);return function(){var w=m.slice();return w.push.apply(w,arguments),l.apply(this,w)}}function D(l,h){function m(){}m.prototype=h.prototype,l.aa=h.prototype,l.prototype=new m,l.prototype.constructor=l,l.Qb=function(w,b,L){for(var z=Array(arguments.length-2),De=2;De<arguments.length;De++)z[De-2]=arguments[De];return h.prototype[b].apply(w,z)}}function I(l){const h=l.length;if(0<h){const m=Array(h);for(let w=0;w<h;w++)m[w]=l[w];return m}return[]}function k(l,h){for(let m=1;m<arguments.length;m++){const w=arguments[m];if(u(w)){const b=l.length||0,L=w.length||0;l.length=b+L;for(let z=0;z<L;z++)l[b+z]=w[z]}else l.push(w)}}class v{constructor(h,m){this.i=h,this.j=m,this.h=0,this.g=null}get(){let h;return 0<this.h?(this.h--,h=this.g,this.g=h.next,h.next=null):h=this.i(),h}}function _(l){return/^[\s\xa0]*$/.test(l)}function E(){var l=a.navigator;return l&&(l=l.userAgent)?l:""}function A(l){return A[" "](l),l}A[" "]=function(){};var N=E().indexOf("Gecko")!=-1&&!(E().toLowerCase().indexOf("webkit")!=-1&&E().indexOf("Edge")==-1)&&!(E().indexOf("Trident")!=-1||E().indexOf("MSIE")!=-1)&&E().indexOf("Edge")==-1;function O(l,h,m){for(const w in l)h.call(m,l[w],w,l)}function T(l,h){for(const m in l)h.call(void 0,l[m],m,l)}function y(l){const h={};for(const m in l)h[m]=l[m];return h}const S="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(l,h){let m,w;for(let b=1;b<arguments.length;b++){w=arguments[b];for(m in w)l[m]=w[m];for(let L=0;L<S.length;L++)m=S[L],Object.prototype.hasOwnProperty.call(w,m)&&(l[m]=w[m])}}function x(l){var h=1;l=l.split(":");const m=[];for(;0<h&&l.length;)m.push(l.shift()),h--;return l.length&&m.push(l.join(":")),m}function R(l){a.setTimeout(()=>{throw l},0)}function C(){var l=Q;let h=null;return l.g&&(h=l.g,l.g=l.g.next,l.g||(l.h=null),h.next=null),h}class Z{constructor(){this.h=this.g=null}add(h,m){const w=ne.get();w.set(h,m),this.h?this.h.next=w:this.g=w,this.h=w}}var ne=new v(()=>new X,l=>l.reset());class X{constructor(){this.next=this.g=this.h=null}set(h,m){this.h=h,this.g=m,this.next=null}reset(){this.next=this.g=this.h=null}}let te,F=!1,Q=new Z,J=()=>{const l=a.Promise.resolve(void 0);te=()=>{l.then(se)}};var se=()=>{for(var l;l=C();){try{l.h.call(l.g)}catch(m){R(m)}var h=ne;h.j(l),100>h.h&&(h.h++,l.next=h.g,h.g=l)}F=!1};function ve(){this.s=this.s,this.C=this.C}ve.prototype.s=!1,ve.prototype.ma=function(){this.s||(this.s=!0,this.N())},ve.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Me(l,h){this.type=l,this.g=this.target=h,this.defaultPrevented=!1}Me.prototype.h=function(){this.defaultPrevented=!0};var Vn=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var l=!1,h=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const m=()=>{};a.addEventListener("test",m,h),a.removeEventListener("test",m,h)}catch{}return l}();function Fn(l,h){if(Me.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var m=this.type=l.type,w=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=h,h=l.relatedTarget){if(N){e:{try{A(h.nodeName);var b=!0;break e}catch{}b=!1}b||(h=null)}}else m=="mouseover"?h=l.fromElement:m=="mouseout"&&(h=l.toElement);this.relatedTarget=h,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:Bn[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&Fn.aa.h.call(this)}}D(Fn,Me);var Bn={2:"touch",3:"pen",4:"mouse"};Fn.prototype.h=function(){Fn.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var Un="closure_listenable_"+(1e6*Math.random()|0),sT=0;function aT(l,h,m,w,b){this.listener=l,this.proxy=null,this.src=h,this.type=m,this.capture=!!w,this.ha=b,this.key=++sT,this.da=this.fa=!1}function xa(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function Aa(l){this.src=l,this.g={},this.h=0}Aa.prototype.add=function(l,h,m,w,b){var L=l.toString();l=this.g[L],l||(l=this.g[L]=[],this.h++);var z=Vc(l,h,w,b);return-1<z?(h=l[z],m||(h.fa=!1)):(h=new aT(h,this.src,L,!!w,b),h.fa=m,l.push(h)),h};function Lc(l,h){var m=h.type;if(m in l.g){var w=l.g[m],b=Array.prototype.indexOf.call(w,h,void 0),L;(L=0<=b)&&Array.prototype.splice.call(w,b,1),L&&(xa(h),l.g[m].length==0&&(delete l.g[m],l.h--))}}function Vc(l,h,m,w){for(var b=0;b<l.length;++b){var L=l[b];if(!L.da&&L.listener==h&&L.capture==!!m&&L.ha==w)return b}return-1}var Fc="closure_lm_"+(1e6*Math.random()|0),Bc={};function pm(l,h,m,w,b){if(Array.isArray(h)){for(var L=0;L<h.length;L++)pm(l,h[L],m,w,b);return null}return m=ym(m),l&&l[Un]?l.K(h,m,c(w)?!!w.capture:!!w,b):lT(l,h,m,!1,w,b)}function lT(l,h,m,w,b,L){if(!h)throw Error("Invalid event type");var z=c(b)?!!b.capture:!!b,De=jc(l);if(De||(l[Fc]=De=new Aa(l)),m=De.add(h,m,w,z,L),m.proxy)return m;if(w=uT(),m.proxy=w,w.src=l,w.listener=m,l.addEventListener)Vn||(b=z),b===void 0&&(b=!1),l.addEventListener(h.toString(),w,b);else if(l.attachEvent)l.attachEvent(gm(h.toString()),w);else if(l.addListener&&l.removeListener)l.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return m}function uT(){function l(m){return h.call(l.src,l.listener,m)}const h=cT;return l}function mm(l,h,m,w,b){if(Array.isArray(h))for(var L=0;L<h.length;L++)mm(l,h[L],m,w,b);else w=c(w)?!!w.capture:!!w,m=ym(m),l&&l[Un]?(l=l.i,h=String(h).toString(),h in l.g&&(L=l.g[h],m=Vc(L,m,w,b),-1<m&&(xa(L[m]),Array.prototype.splice.call(L,m,1),L.length==0&&(delete l.g[h],l.h--)))):l&&(l=jc(l))&&(h=l.g[h.toString()],l=-1,h&&(l=Vc(h,m,w,b)),(m=-1<l?h[l]:null)&&Uc(m))}function Uc(l){if(typeof l!="number"&&l&&!l.da){var h=l.src;if(h&&h[Un])Lc(h.i,l);else{var m=l.type,w=l.proxy;h.removeEventListener?h.removeEventListener(m,w,l.capture):h.detachEvent?h.detachEvent(gm(m),w):h.addListener&&h.removeListener&&h.removeListener(w),(m=jc(h))?(Lc(m,l),m.h==0&&(m.src=null,h[Fc]=null)):xa(l)}}}function gm(l){return l in Bc?Bc[l]:Bc[l]="on"+l}function cT(l,h){if(l.da)l=!0;else{h=new Fn(h,this);var m=l.listener,w=l.ha||l.src;l.fa&&Uc(l),l=m.call(w,h)}return l}function jc(l){return l=l[Fc],l instanceof Aa?l:null}var $c="__closure_events_fn_"+(1e9*Math.random()>>>0);function ym(l){return typeof l=="function"?l:(l[$c]||(l[$c]=function(h){return l.handleEvent(h)}),l[$c])}function ht(){ve.call(this),this.i=new Aa(this),this.M=this,this.F=null}D(ht,ve),ht.prototype[Un]=!0,ht.prototype.removeEventListener=function(l,h,m,w){mm(this,l,h,m,w)};function Tt(l,h){var m,w=l.F;if(w)for(m=[];w;w=w.F)m.push(w);if(l=l.M,w=h.type||h,typeof h=="string")h=new Me(h,l);else if(h instanceof Me)h.target=h.target||l;else{var b=h;h=new Me(w,l),P(h,b)}if(b=!0,m)for(var L=m.length-1;0<=L;L--){var z=h.g=m[L];b=ba(z,w,!0,h)&&b}if(z=h.g=l,b=ba(z,w,!0,h)&&b,b=ba(z,w,!1,h)&&b,m)for(L=0;L<m.length;L++)z=h.g=m[L],b=ba(z,w,!1,h)&&b}ht.prototype.N=function(){if(ht.aa.N.call(this),this.i){var l=this.i,h;for(h in l.g){for(var m=l.g[h],w=0;w<m.length;w++)xa(m[w]);delete l.g[h],l.h--}}this.F=null},ht.prototype.K=function(l,h,m,w){return this.i.add(String(l),h,!1,m,w)},ht.prototype.L=function(l,h,m,w){return this.i.add(String(l),h,!0,m,w)};function ba(l,h,m,w){if(h=l.i.g[String(h)],!h)return!0;h=h.concat();for(var b=!0,L=0;L<h.length;++L){var z=h[L];if(z&&!z.da&&z.capture==m){var De=z.listener,ot=z.ha||z.src;z.fa&&Lc(l.i,z),b=De.call(ot,w)!==!1&&b}}return b&&!w.defaultPrevented}function vm(l,h,m){if(typeof l=="function")m&&(l=p(l,m));else if(l&&typeof l.handleEvent=="function")l=p(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(h)?-1:a.setTimeout(l,h||0)}function _m(l){l.g=vm(()=>{l.g=null,l.i&&(l.i=!1,_m(l))},l.l);const h=l.h;l.h=null,l.m.apply(null,h)}class dT extends ve{constructor(h,m){super(),this.m=h,this.l=m,this.h=null,this.i=!1,this.g=null}j(h){this.h=arguments,this.g?this.i=!0:_m(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Wo(l){ve.call(this),this.h=l,this.g={}}D(Wo,ve);var wm=[];function Em(l){O(l.g,function(h,m){this.g.hasOwnProperty(m)&&Uc(h)},l),l.g={}}Wo.prototype.N=function(){Wo.aa.N.call(this),Em(this)},Wo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var zc=a.JSON.stringify,hT=a.JSON.parse,fT=class{stringify(l){return a.JSON.stringify(l,void 0)}parse(l){return a.JSON.parse(l,void 0)}};function Yc(){}Yc.prototype.h=null;function Tm(l){return l.h||(l.h=l.i())}function Sm(){}var Ho={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Wc(){Me.call(this,"d")}D(Wc,Me);function Hc(){Me.call(this,"c")}D(Hc,Me);var Qr={},Dm=null;function Ma(){return Dm=Dm||new ht}Qr.La="serverreachability";function km(l){Me.call(this,Qr.La,l)}D(km,Me);function Qo(l){const h=Ma();Tt(h,new km(h))}Qr.STAT_EVENT="statevent";function Cm(l,h){Me.call(this,Qr.STAT_EVENT,l),this.stat=h}D(Cm,Me);function St(l){const h=Ma();Tt(h,new Cm(h,l))}Qr.Ma="timingevent";function Im(l,h){Me.call(this,Qr.Ma,l),this.size=h}D(Im,Me);function qo(l,h){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){l()},h)}function Ko(){this.g=!0}Ko.prototype.xa=function(){this.g=!1};function pT(l,h,m,w,b,L){l.info(function(){if(l.g)if(L)for(var z="",De=L.split("&"),ot=0;ot<De.length;ot++){var ge=De[ot].split("=");if(1<ge.length){var ft=ge[0];ge=ge[1];var pt=ft.split("_");z=2<=pt.length&&pt[1]=="type"?z+(ft+"="+ge+"&"):z+(ft+"=redacted&")}}else z=null;else z=L;return"XMLHTTP REQ ("+w+") [attempt "+b+"]: "+h+`
`+m+`
`+z})}function mT(l,h,m,w,b,L,z){l.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+b+"]: "+h+`
`+m+`
`+L+" "+z})}function Pi(l,h,m,w){l.info(function(){return"XMLHTTP TEXT ("+h+"): "+yT(l,m)+(w?" "+w:"")})}function gT(l,h){l.info(function(){return"TIMEOUT: "+h})}Ko.prototype.info=function(){};function yT(l,h){if(!l.g)return h;if(!h)return null;try{var m=JSON.parse(h);if(m){for(l=0;l<m.length;l++)if(Array.isArray(m[l])){var w=m[l];if(!(2>w.length)){var b=w[1];if(Array.isArray(b)&&!(1>b.length)){var L=b[0];if(L!="noop"&&L!="stop"&&L!="close")for(var z=1;z<b.length;z++)b[z]=""}}}}return zc(m)}catch{return h}}var Na={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Pm={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Qc;function Oa(){}D(Oa,Yc),Oa.prototype.g=function(){return new XMLHttpRequest},Oa.prototype.i=function(){return{}},Qc=new Oa;function lr(l,h,m,w){this.j=l,this.i=h,this.l=m,this.R=w||1,this.U=new Wo(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Rm}function Rm(){this.i=null,this.g="",this.h=!1}var xm={},qc={};function Kc(l,h,m){l.L=1,l.v=Ba(jn(h)),l.m=m,l.P=!0,Am(l,null)}function Am(l,h){l.F=Date.now(),La(l),l.A=jn(l.v);var m=l.A,w=l.R;Array.isArray(w)||(w=[String(w)]),Wm(m.i,"t",w),l.C=0,m=l.j.J,l.h=new Rm,l.g=ug(l.j,m?h:null,!l.m),0<l.O&&(l.M=new dT(p(l.Y,l,l.g),l.O)),h=l.U,m=l.g,w=l.ca;var b="readystatechange";Array.isArray(b)||(b&&(wm[0]=b.toString()),b=wm);for(var L=0;L<b.length;L++){var z=pm(m,b[L],w||h.handleEvent,!1,h.h||h);if(!z)break;h.g[z.key]=z}h=l.H?y(l.H):{},l.m?(l.u||(l.u="POST"),h["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,h)):(l.u="GET",l.g.ea(l.A,l.u,null,h)),Qo(),pT(l.i,l.u,l.A,l.l,l.R,l.m)}lr.prototype.ca=function(l){l=l.target;const h=this.M;h&&$n(l)==3?h.j():this.Y(l)},lr.prototype.Y=function(l){try{if(l==this.g)e:{const pt=$n(this.g);var h=this.g.Ba();const Ai=this.g.Z();if(!(3>pt)&&(pt!=3||this.g&&(this.h.h||this.g.oa()||Jm(this.g)))){this.J||pt!=4||h==7||(h==8||0>=Ai?Qo(3):Qo(2)),Gc(this);var m=this.g.Z();this.X=m;t:if(bm(this)){var w=Jm(this.g);l="";var b=w.length,L=$n(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){qr(this),Go(this);var z="";break t}this.h.i=new a.TextDecoder}for(h=0;h<b;h++)this.h.h=!0,l+=this.h.i.decode(w[h],{stream:!(L&&h==b-1)});w.length=0,this.h.g+=l,this.C=0,z=this.h.g}else z=this.g.oa();if(this.o=m==200,mT(this.i,this.u,this.A,this.l,this.R,pt,m),this.o){if(this.T&&!this.K){t:{if(this.g){var De,ot=this.g;if((De=ot.g?ot.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!_(De)){var ge=De;break t}}ge=null}if(m=ge)Pi(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Xc(this,m);else{this.o=!1,this.s=3,St(12),qr(this),Go(this);break e}}if(this.P){m=!0;let an;for(;!this.J&&this.C<z.length;)if(an=vT(this,z),an==qc){pt==4&&(this.s=4,St(14),m=!1),Pi(this.i,this.l,null,"[Incomplete Response]");break}else if(an==xm){this.s=4,St(15),Pi(this.i,this.l,z,"[Invalid Chunk]"),m=!1;break}else Pi(this.i,this.l,an,null),Xc(this,an);if(bm(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),pt!=4||z.length!=0||this.h.h||(this.s=1,St(16),m=!1),this.o=this.o&&m,!m)Pi(this.i,this.l,z,"[Invalid Chunked Response]"),qr(this),Go(this);else if(0<z.length&&!this.W){this.W=!0;var ft=this.j;ft.g==this&&ft.ba&&!ft.M&&(ft.j.info("Great, no buffering proxy detected. Bytes received: "+z.length),rd(ft),ft.M=!0,St(11))}}else Pi(this.i,this.l,z,null),Xc(this,z);pt==4&&qr(this),this.o&&!this.J&&(pt==4?og(this.j,this):(this.o=!1,La(this)))}else OT(this.g),m==400&&0<z.indexOf("Unknown SID")?(this.s=3,St(12)):(this.s=0,St(13)),qr(this),Go(this)}}}catch{}finally{}};function bm(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function vT(l,h){var m=l.C,w=h.indexOf(`
`,m);return w==-1?qc:(m=Number(h.substring(m,w)),isNaN(m)?xm:(w+=1,w+m>h.length?qc:(h=h.slice(w,w+m),l.C=w+m,h)))}lr.prototype.cancel=function(){this.J=!0,qr(this)};function La(l){l.S=Date.now()+l.I,Mm(l,l.I)}function Mm(l,h){if(l.B!=null)throw Error("WatchDog timer not null");l.B=qo(p(l.ba,l),h)}function Gc(l){l.B&&(a.clearTimeout(l.B),l.B=null)}lr.prototype.ba=function(){this.B=null;const l=Date.now();0<=l-this.S?(gT(this.i,this.A),this.L!=2&&(Qo(),St(17)),qr(this),this.s=2,Go(this)):Mm(this,this.S-l)};function Go(l){l.j.G==0||l.J||og(l.j,l)}function qr(l){Gc(l);var h=l.M;h&&typeof h.ma=="function"&&h.ma(),l.M=null,Em(l.U),l.g&&(h=l.g,l.g=null,h.abort(),h.ma())}function Xc(l,h){try{var m=l.j;if(m.G!=0&&(m.g==l||Jc(m.h,l))){if(!l.K&&Jc(m.h,l)&&m.G==3){try{var w=m.Da.g.parse(h)}catch{w=null}if(Array.isArray(w)&&w.length==3){var b=w;if(b[0]==0){e:if(!m.u){if(m.g)if(m.g.F+3e3<l.F)Wa(m),za(m);else break e;nd(m),St(18)}}else m.za=b[1],0<m.za-m.T&&37500>b[2]&&m.F&&m.v==0&&!m.C&&(m.C=qo(p(m.Za,m),6e3));if(1>=Lm(m.h)&&m.ca){try{m.ca()}catch{}m.ca=void 0}}else Gr(m,11)}else if((l.K||m.g==l)&&Wa(m),!_(h))for(b=m.Da.g.parse(h),h=0;h<b.length;h++){let ge=b[h];if(m.T=ge[0],ge=ge[1],m.G==2)if(ge[0]=="c"){m.K=ge[1],m.ia=ge[2];const ft=ge[3];ft!=null&&(m.la=ft,m.j.info("VER="+m.la));const pt=ge[4];pt!=null&&(m.Aa=pt,m.j.info("SVER="+m.Aa));const Ai=ge[5];Ai!=null&&typeof Ai=="number"&&0<Ai&&(w=1.5*Ai,m.L=w,m.j.info("backChannelRequestTimeoutMs_="+w)),w=m;const an=l.g;if(an){const Qa=an.g?an.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Qa){var L=w.h;L.g||Qa.indexOf("spdy")==-1&&Qa.indexOf("quic")==-1&&Qa.indexOf("h2")==-1||(L.j=L.l,L.g=new Set,L.h&&(Zc(L,L.h),L.h=null))}if(w.D){const id=an.g?an.g.getResponseHeader("X-HTTP-Session-Id"):null;id&&(w.ya=id,Ce(w.I,w.D,id))}}m.G=3,m.l&&m.l.ua(),m.ba&&(m.R=Date.now()-l.F,m.j.info("Handshake RTT: "+m.R+"ms")),w=m;var z=l;if(w.qa=lg(w,w.J?w.ia:null,w.W),z.K){Vm(w.h,z);var De=z,ot=w.L;ot&&(De.I=ot),De.B&&(Gc(De),La(De)),w.g=z}else rg(w);0<m.i.length&&Ya(m)}else ge[0]!="stop"&&ge[0]!="close"||Gr(m,7);else m.G==3&&(ge[0]=="stop"||ge[0]=="close"?ge[0]=="stop"?Gr(m,7):td(m):ge[0]!="noop"&&m.l&&m.l.ta(ge),m.v=0)}}Qo(4)}catch{}}var _T=class{constructor(l,h){this.g=l,this.map=h}};function Nm(l){this.l=l||10,a.PerformanceNavigationTiming?(l=a.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Om(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function Lm(l){return l.h?1:l.g?l.g.size:0}function Jc(l,h){return l.h?l.h==h:l.g?l.g.has(h):!1}function Zc(l,h){l.g?l.g.add(h):l.h=h}function Vm(l,h){l.h&&l.h==h?l.h=null:l.g&&l.g.has(h)&&l.g.delete(h)}Nm.prototype.cancel=function(){if(this.i=Fm(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function Fm(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let h=l.i;for(const m of l.g.values())h=h.concat(m.D);return h}return I(l.i)}function wT(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(u(l)){for(var h=[],m=l.length,w=0;w<m;w++)h.push(l[w]);return h}h=[],m=0;for(w in l)h[m++]=l[w];return h}function ET(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(u(l)||typeof l=="string"){var h=[];l=l.length;for(var m=0;m<l;m++)h.push(m);return h}h=[],m=0;for(const w in l)h[m++]=w;return h}}}function Bm(l,h){if(l.forEach&&typeof l.forEach=="function")l.forEach(h,void 0);else if(u(l)||typeof l=="string")Array.prototype.forEach.call(l,h,void 0);else for(var m=ET(l),w=wT(l),b=w.length,L=0;L<b;L++)h.call(void 0,w[L],m&&m[L],l)}var Um=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function TT(l,h){if(l){l=l.split("&");for(var m=0;m<l.length;m++){var w=l[m].indexOf("="),b=null;if(0<=w){var L=l[m].substring(0,w);b=l[m].substring(w+1)}else L=l[m];h(L,b?decodeURIComponent(b.replace(/\+/g," ")):"")}}}function Kr(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof Kr){this.h=l.h,Va(this,l.j),this.o=l.o,this.g=l.g,Fa(this,l.s),this.l=l.l;var h=l.i,m=new Zo;m.i=h.i,h.g&&(m.g=new Map(h.g),m.h=h.h),jm(this,m),this.m=l.m}else l&&(h=String(l).match(Um))?(this.h=!1,Va(this,h[1]||"",!0),this.o=Xo(h[2]||""),this.g=Xo(h[3]||"",!0),Fa(this,h[4]),this.l=Xo(h[5]||"",!0),jm(this,h[6]||"",!0),this.m=Xo(h[7]||"")):(this.h=!1,this.i=new Zo(null,this.h))}Kr.prototype.toString=function(){var l=[],h=this.j;h&&l.push(Jo(h,$m,!0),":");var m=this.g;return(m||h=="file")&&(l.push("//"),(h=this.o)&&l.push(Jo(h,$m,!0),"@"),l.push(encodeURIComponent(String(m)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m=this.s,m!=null&&l.push(":",String(m))),(m=this.l)&&(this.g&&m.charAt(0)!="/"&&l.push("/"),l.push(Jo(m,m.charAt(0)=="/"?kT:DT,!0))),(m=this.i.toString())&&l.push("?",m),(m=this.m)&&l.push("#",Jo(m,IT)),l.join("")};function jn(l){return new Kr(l)}function Va(l,h,m){l.j=m?Xo(h,!0):h,l.j&&(l.j=l.j.replace(/:$/,""))}function Fa(l,h){if(h){if(h=Number(h),isNaN(h)||0>h)throw Error("Bad port number "+h);l.s=h}else l.s=null}function jm(l,h,m){h instanceof Zo?(l.i=h,PT(l.i,l.h)):(m||(h=Jo(h,CT)),l.i=new Zo(h,l.h))}function Ce(l,h,m){l.i.set(h,m)}function Ba(l){return Ce(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function Xo(l,h){return l?h?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function Jo(l,h,m){return typeof l=="string"?(l=encodeURI(l).replace(h,ST),m&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function ST(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var $m=/[#\/\?@]/g,DT=/[#\?:]/g,kT=/[#\?]/g,CT=/[#\?@]/g,IT=/#/g;function Zo(l,h){this.h=this.g=null,this.i=l||null,this.j=!!h}function ur(l){l.g||(l.g=new Map,l.h=0,l.i&&TT(l.i,function(h,m){l.add(decodeURIComponent(h.replace(/\+/g," ")),m)}))}t=Zo.prototype,t.add=function(l,h){ur(this),this.i=null,l=Ri(this,l);var m=this.g.get(l);return m||this.g.set(l,m=[]),m.push(h),this.h+=1,this};function zm(l,h){ur(l),h=Ri(l,h),l.g.has(h)&&(l.i=null,l.h-=l.g.get(h).length,l.g.delete(h))}function Ym(l,h){return ur(l),h=Ri(l,h),l.g.has(h)}t.forEach=function(l,h){ur(this),this.g.forEach(function(m,w){m.forEach(function(b){l.call(h,b,w,this)},this)},this)},t.na=function(){ur(this);const l=Array.from(this.g.values()),h=Array.from(this.g.keys()),m=[];for(let w=0;w<h.length;w++){const b=l[w];for(let L=0;L<b.length;L++)m.push(h[w])}return m},t.V=function(l){ur(this);let h=[];if(typeof l=="string")Ym(this,l)&&(h=h.concat(this.g.get(Ri(this,l))));else{l=Array.from(this.g.values());for(let m=0;m<l.length;m++)h=h.concat(l[m])}return h},t.set=function(l,h){return ur(this),this.i=null,l=Ri(this,l),Ym(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[h]),this.h+=1,this},t.get=function(l,h){return l?(l=this.V(l),0<l.length?String(l[0]):h):h};function Wm(l,h,m){zm(l,h),0<m.length&&(l.i=null,l.g.set(Ri(l,h),I(m)),l.h+=m.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],h=Array.from(this.g.keys());for(var m=0;m<h.length;m++){var w=h[m];const L=encodeURIComponent(String(w)),z=this.V(w);for(w=0;w<z.length;w++){var b=L;z[w]!==""&&(b+="="+encodeURIComponent(String(z[w]))),l.push(b)}}return this.i=l.join("&")};function Ri(l,h){return h=String(h),l.j&&(h=h.toLowerCase()),h}function PT(l,h){h&&!l.j&&(ur(l),l.i=null,l.g.forEach(function(m,w){var b=w.toLowerCase();w!=b&&(zm(this,w),Wm(this,b,m))},l)),l.j=h}function RT(l,h){const m=new Ko;if(a.Image){const w=new Image;w.onload=g(cr,m,"TestLoadImage: loaded",!0,h,w),w.onerror=g(cr,m,"TestLoadImage: error",!1,h,w),w.onabort=g(cr,m,"TestLoadImage: abort",!1,h,w),w.ontimeout=g(cr,m,"TestLoadImage: timeout",!1,h,w),a.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=l}else h(!1)}function xT(l,h){const m=new Ko,w=new AbortController,b=setTimeout(()=>{w.abort(),cr(m,"TestPingServer: timeout",!1,h)},1e4);fetch(l,{signal:w.signal}).then(L=>{clearTimeout(b),L.ok?cr(m,"TestPingServer: ok",!0,h):cr(m,"TestPingServer: server error",!1,h)}).catch(()=>{clearTimeout(b),cr(m,"TestPingServer: error",!1,h)})}function cr(l,h,m,w,b){try{b&&(b.onload=null,b.onerror=null,b.onabort=null,b.ontimeout=null),w(m)}catch{}}function AT(){this.g=new fT}function bT(l,h,m){const w=m||"";try{Bm(l,function(b,L){let z=b;c(b)&&(z=zc(b)),h.push(w+L+"="+encodeURIComponent(z))})}catch(b){throw h.push(w+"type="+encodeURIComponent("_badmap")),b}}function Ua(l){this.l=l.Ub||null,this.j=l.eb||!1}D(Ua,Yc),Ua.prototype.g=function(){return new ja(this.l,this.j)},Ua.prototype.i=function(l){return function(){return l}}({});function ja(l,h){ht.call(this),this.D=l,this.o=h,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}D(ja,ht),t=ja.prototype,t.open=function(l,h){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=h,this.readyState=1,ts(this)},t.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const h={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(h.body=l),(this.D||a).fetch(new Request(this.A,h)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,es(this)),this.readyState=0},t.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,ts(this)),this.g&&(this.readyState=3,ts(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Hm(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function Hm(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}t.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var h=l.value?l.value:new Uint8Array(0);(h=this.v.decode(h,{stream:!l.done}))&&(this.response=this.responseText+=h)}l.done?es(this):ts(this),this.readyState==3&&Hm(this)}},t.Ra=function(l){this.g&&(this.response=this.responseText=l,es(this))},t.Qa=function(l){this.g&&(this.response=l,es(this))},t.ga=function(){this.g&&es(this)};function es(l){l.readyState=4,l.l=null,l.j=null,l.v=null,ts(l)}t.setRequestHeader=function(l,h){this.u.append(l,h)},t.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],h=this.h.entries();for(var m=h.next();!m.done;)m=m.value,l.push(m[0]+": "+m[1]),m=h.next();return l.join(`\r
`)};function ts(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(ja.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function Qm(l){let h="";return O(l,function(m,w){h+=w,h+=":",h+=m,h+=`\r
`}),h}function ed(l,h,m){e:{for(w in m){var w=!1;break e}w=!0}w||(m=Qm(m),typeof l=="string"?m!=null&&encodeURIComponent(String(m)):Ce(l,h,m))}function Ue(l){ht.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}D(Ue,ht);var MT=/^https?$/i,NT=["POST","PUT"];t=Ue.prototype,t.Ha=function(l){this.J=l},t.ea=function(l,h,m,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);h=h?h.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Qc.g(),this.v=this.o?Tm(this.o):Tm(Qc),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(h,String(l),!0),this.B=!1}catch(L){qm(this,L);return}if(l=m||"",m=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var b in w)m.set(b,w[b]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const L of w.keys())m.set(L,w.get(L));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(m.keys()).find(L=>L.toLowerCase()=="content-type"),b=a.FormData&&l instanceof a.FormData,!(0<=Array.prototype.indexOf.call(NT,h,void 0))||w||b||m.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[L,z]of m)this.g.setRequestHeader(L,z);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Xm(this),this.u=!0,this.g.send(l),this.u=!1}catch(L){qm(this,L)}};function qm(l,h){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=h,l.m=5,Km(l),$a(l)}function Km(l){l.A||(l.A=!0,Tt(l,"complete"),Tt(l,"error"))}t.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,Tt(this,"complete"),Tt(this,"abort"),$a(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),$a(this,!0)),Ue.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Gm(this):this.bb())},t.bb=function(){Gm(this)};function Gm(l){if(l.h&&typeof s<"u"&&(!l.v[1]||$n(l)!=4||l.Z()!=2)){if(l.u&&$n(l)==4)vm(l.Ea,0,l);else if(Tt(l,"readystatechange"),$n(l)==4){l.h=!1;try{const z=l.Z();e:switch(z){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var h=!0;break e;default:h=!1}var m;if(!(m=h)){var w;if(w=z===0){var b=String(l.D).match(Um)[1]||null;!b&&a.self&&a.self.location&&(b=a.self.location.protocol.slice(0,-1)),w=!MT.test(b?b.toLowerCase():"")}m=w}if(m)Tt(l,"complete"),Tt(l,"success");else{l.m=6;try{var L=2<$n(l)?l.g.statusText:""}catch{L=""}l.l=L+" ["+l.Z()+"]",Km(l)}}finally{$a(l)}}}}function $a(l,h){if(l.g){Xm(l);const m=l.g,w=l.v[0]?()=>{}:null;l.g=null,l.v=null,h||Tt(l,"ready");try{m.onreadystatechange=w}catch{}}}function Xm(l){l.I&&(a.clearTimeout(l.I),l.I=null)}t.isActive=function(){return!!this.g};function $n(l){return l.g?l.g.readyState:0}t.Z=function(){try{return 2<$n(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(l){if(this.g){var h=this.g.responseText;return l&&h.indexOf(l)==0&&(h=h.substring(l.length)),hT(h)}};function Jm(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function OT(l){const h={};l=(l.g&&2<=$n(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<l.length;w++){if(_(l[w]))continue;var m=x(l[w]);const b=m[0];if(m=m[1],typeof m!="string")continue;m=m.trim();const L=h[b]||[];h[b]=L,L.push(m)}T(h,function(w){return w.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ns(l,h,m){return m&&m.internalChannelParams&&m.internalChannelParams[l]||h}function Zm(l){this.Aa=0,this.i=[],this.j=new Ko,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ns("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ns("baseRetryDelayMs",5e3,l),this.cb=ns("retryDelaySeedMs",1e4,l),this.Wa=ns("forwardChannelMaxRetries",2,l),this.wa=ns("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new Nm(l&&l.concurrentRequestLimit),this.Da=new AT,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Zm.prototype,t.la=8,t.G=1,t.connect=function(l,h,m,w){St(0),this.W=l,this.H=h||{},m&&w!==void 0&&(this.H.OSID=m,this.H.OAID=w),this.F=this.X,this.I=lg(this,null,this.W),Ya(this)};function td(l){if(eg(l),l.G==3){var h=l.U++,m=jn(l.I);if(Ce(m,"SID",l.K),Ce(m,"RID",h),Ce(m,"TYPE","terminate"),rs(l,m),h=new lr(l,l.j,h),h.L=2,h.v=Ba(jn(m)),m=!1,a.navigator&&a.navigator.sendBeacon)try{m=a.navigator.sendBeacon(h.v.toString(),"")}catch{}!m&&a.Image&&(new Image().src=h.v,m=!0),m||(h.g=ug(h.j,null),h.g.ea(h.v)),h.F=Date.now(),La(h)}ag(l)}function za(l){l.g&&(rd(l),l.g.cancel(),l.g=null)}function eg(l){za(l),l.u&&(a.clearTimeout(l.u),l.u=null),Wa(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&a.clearTimeout(l.s),l.s=null)}function Ya(l){if(!Om(l.h)&&!l.s){l.s=!0;var h=l.Ga;te||J(),F||(te(),F=!0),Q.add(h,l),l.B=0}}function LT(l,h){return Lm(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=h.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=qo(p(l.Ga,l,h),sg(l,l.B)),l.B++,!0)}t.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;const b=new lr(this,this.j,l);let L=this.o;if(this.S&&(L?(L=y(L),P(L,this.S)):L=this.S),this.m!==null||this.O||(b.H=L,L=null),this.P)e:{for(var h=0,m=0;m<this.i.length;m++){t:{var w=this.i[m];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(h+=w,4096<h){h=m;break e}if(h===4096||m===this.i.length-1){h=m+1;break e}}h=1e3}else h=1e3;h=ng(this,b,h),m=jn(this.I),Ce(m,"RID",l),Ce(m,"CVER",22),this.D&&Ce(m,"X-HTTP-Session-Id",this.D),rs(this,m),L&&(this.O?h="headers="+encodeURIComponent(String(Qm(L)))+"&"+h:this.m&&ed(m,this.m,L)),Zc(this.h,b),this.Ua&&Ce(m,"TYPE","init"),this.P?(Ce(m,"$req",h),Ce(m,"SID","null"),b.T=!0,Kc(b,m,null)):Kc(b,m,h),this.G=2}}else this.G==3&&(l?tg(this,l):this.i.length==0||Om(this.h)||tg(this))};function tg(l,h){var m;h?m=h.l:m=l.U++;const w=jn(l.I);Ce(w,"SID",l.K),Ce(w,"RID",m),Ce(w,"AID",l.T),rs(l,w),l.m&&l.o&&ed(w,l.m,l.o),m=new lr(l,l.j,m,l.B+1),l.m===null&&(m.H=l.o),h&&(l.i=h.D.concat(l.i)),h=ng(l,m,1e3),m.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),Zc(l.h,m),Kc(m,w,h)}function rs(l,h){l.H&&O(l.H,function(m,w){Ce(h,w,m)}),l.l&&Bm({},function(m,w){Ce(h,w,m)})}function ng(l,h,m){m=Math.min(l.i.length,m);var w=l.l?p(l.l.Na,l.l,l):null;e:{var b=l.i;let L=-1;for(;;){const z=["count="+m];L==-1?0<m?(L=b[0].g,z.push("ofs="+L)):L=0:z.push("ofs="+L);let De=!0;for(let ot=0;ot<m;ot++){let ge=b[ot].g;const ft=b[ot].map;if(ge-=L,0>ge)L=Math.max(0,b[ot].g-100),De=!1;else try{bT(ft,z,"req"+ge+"_")}catch{w&&w(ft)}}if(De){w=z.join("&");break e}}}return l=l.i.splice(0,m),h.D=l,w}function rg(l){if(!l.g&&!l.u){l.Y=1;var h=l.Fa;te||J(),F||(te(),F=!0),Q.add(h,l),l.v=0}}function nd(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=qo(p(l.Fa,l),sg(l,l.v)),l.v++,!0)}t.Fa=function(){if(this.u=null,ig(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=qo(p(this.ab,this),l)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,St(10),za(this),ig(this))};function rd(l){l.A!=null&&(a.clearTimeout(l.A),l.A=null)}function ig(l){l.g=new lr(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var h=jn(l.qa);Ce(h,"RID","rpc"),Ce(h,"SID",l.K),Ce(h,"AID",l.T),Ce(h,"CI",l.F?"0":"1"),!l.F&&l.ja&&Ce(h,"TO",l.ja),Ce(h,"TYPE","xmlhttp"),rs(l,h),l.m&&l.o&&ed(h,l.m,l.o),l.L&&(l.g.I=l.L);var m=l.g;l=l.ia,m.L=1,m.v=Ba(jn(h)),m.m=null,m.P=!0,Am(m,l)}t.Za=function(){this.C!=null&&(this.C=null,za(this),nd(this),St(19))};function Wa(l){l.C!=null&&(a.clearTimeout(l.C),l.C=null)}function og(l,h){var m=null;if(l.g==h){Wa(l),rd(l),l.g=null;var w=2}else if(Jc(l.h,h))m=h.D,Vm(l.h,h),w=1;else return;if(l.G!=0){if(h.o)if(w==1){m=h.m?h.m.length:0,h=Date.now()-h.F;var b=l.B;w=Ma(),Tt(w,new Im(w,m)),Ya(l)}else rg(l);else if(b=h.s,b==3||b==0&&0<h.X||!(w==1&&LT(l,h)||w==2&&nd(l)))switch(m&&0<m.length&&(h=l.h,h.i=h.i.concat(m)),b){case 1:Gr(l,5);break;case 4:Gr(l,10);break;case 3:Gr(l,6);break;default:Gr(l,2)}}}function sg(l,h){let m=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(m*=2),m*h}function Gr(l,h){if(l.j.info("Error code "+h),h==2){var m=p(l.fb,l),w=l.Xa;const b=!w;w=new Kr(w||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Va(w,"https"),Ba(w),b?RT(w.toString(),m):xT(w.toString(),m)}else St(2);l.G=0,l.l&&l.l.sa(h),ag(l),eg(l)}t.fb=function(l){l?(this.j.info("Successfully pinged google.com"),St(2)):(this.j.info("Failed to ping google.com"),St(1))};function ag(l){if(l.G=0,l.ka=[],l.l){const h=Fm(l.h);(h.length!=0||l.i.length!=0)&&(k(l.ka,h),k(l.ka,l.i),l.h.i.length=0,I(l.i),l.i.length=0),l.l.ra()}}function lg(l,h,m){var w=m instanceof Kr?jn(m):new Kr(m);if(w.g!="")h&&(w.g=h+"."+w.g),Fa(w,w.s);else{var b=a.location;w=b.protocol,h=h?h+"."+b.hostname:b.hostname,b=+b.port;var L=new Kr(null);w&&Va(L,w),h&&(L.g=h),b&&Fa(L,b),m&&(L.l=m),w=L}return m=l.D,h=l.ya,m&&h&&Ce(w,m,h),Ce(w,"VER",l.la),rs(l,w),w}function ug(l,h,m){if(h&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return h=l.Ca&&!l.pa?new Ue(new Ua({eb:m})):new Ue(l.pa),h.Ha(l.J),h}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function cg(){}t=cg.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Ha(){}Ha.prototype.g=function(l,h){return new Ft(l,h)};function Ft(l,h){ht.call(this),this.g=new Zm(h),this.l=l,this.h=h&&h.messageUrlParams||null,l=h&&h.messageHeaders||null,h&&h.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=h&&h.initMessageHeaders||null,h&&h.messageContentType&&(l?l["X-WebChannel-Content-Type"]=h.messageContentType:l={"X-WebChannel-Content-Type":h.messageContentType}),h&&h.va&&(l?l["X-WebChannel-Client-Profile"]=h.va:l={"X-WebChannel-Client-Profile":h.va}),this.g.S=l,(l=h&&h.Sb)&&!_(l)&&(this.g.m=l),this.v=h&&h.supportsCrossDomainXhr||!1,this.u=h&&h.sendRawJson||!1,(h=h&&h.httpSessionIdParam)&&!_(h)&&(this.g.D=h,l=this.h,l!==null&&h in l&&(l=this.h,h in l&&delete l[h])),this.j=new xi(this)}D(Ft,ht),Ft.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ft.prototype.close=function(){td(this.g)},Ft.prototype.o=function(l){var h=this.g;if(typeof l=="string"){var m={};m.__data__=l,l=m}else this.u&&(m={},m.__data__=zc(l),l=m);h.i.push(new _T(h.Ya++,l)),h.G==3&&Ya(h)},Ft.prototype.N=function(){this.g.l=null,delete this.j,td(this.g),delete this.g,Ft.aa.N.call(this)};function dg(l){Wc.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var h=l.__sm__;if(h){e:{for(const m in h){l=m;break e}l=void 0}(this.i=l)&&(l=this.i,h=h!==null&&l in h?h[l]:void 0),this.data=h}else this.data=l}D(dg,Wc);function hg(){Hc.call(this),this.status=1}D(hg,Hc);function xi(l){this.g=l}D(xi,cg),xi.prototype.ua=function(){Tt(this.g,"a")},xi.prototype.ta=function(l){Tt(this.g,new dg(l))},xi.prototype.sa=function(l){Tt(this.g,new hg)},xi.prototype.ra=function(){Tt(this.g,"b")},Ha.prototype.createWebChannel=Ha.prototype.g,Ft.prototype.send=Ft.prototype.o,Ft.prototype.open=Ft.prototype.m,Ft.prototype.close=Ft.prototype.close,uE=function(){return new Ha},lE=function(){return Ma()},aE=Qr,tf={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Na.NO_ERROR=0,Na.TIMEOUT=8,Na.HTTP_ERROR=6,jl=Na,Pm.COMPLETE="complete",sE=Pm,Sm.EventType=Ho,Ho.OPEN="a",Ho.CLOSE="b",Ho.ERROR="c",Ho.MESSAGE="d",ht.prototype.listen=ht.prototype.K,Ts=Sm,Ue.prototype.listenOnce=Ue.prototype.L,Ue.prototype.getLastError=Ue.prototype.Ka,Ue.prototype.getLastErrorCode=Ue.prototype.Ba,Ue.prototype.getStatus=Ue.prototype.Z,Ue.prototype.getResponseJson=Ue.prototype.Oa,Ue.prototype.getResponseText=Ue.prototype.oa,Ue.prototype.send=Ue.prototype.ea,Ue.prototype.setWithCredentials=Ue.prototype.Ha,oE=Ue}).apply(typeof fl<"u"?fl:typeof self<"u"?self:typeof window<"u"?window:{});const $y="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}vt.UNAUTHENTICATED=new vt(null),vt.GOOGLE_CREDENTIALS=new vt("google-credentials-uid"),vt.FIRST_PARTY=new vt("first-party-uid"),vt.MOCK_USER=new vt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bo="11.0.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _i=new Jw("@firebase/firestore");function Oi(){return _i.logLevel}function q(t,...e){if(_i.logLevel<=fe.DEBUG){const n=e.map(xp);_i.debug(`Firestore (${Bo}): ${t}`,...n)}}function or(t,...e){if(_i.logLevel<=fe.ERROR){const n=e.map(xp);_i.error(`Firestore (${Bo}): ${t}`,...n)}}function So(t,...e){if(_i.logLevel<=fe.WARN){const n=e.map(xp);_i.warn(`Firestore (${Bo}): ${t}`,...n)}}function xp(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function re(t="Unexpected state"){const e=`FIRESTORE (${Bo}) INTERNAL ASSERTION FAILED: `+t;throw or(e),new Error(e)}function _e(t,e){t||re()}function oe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class G extends Fo{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cE{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class ZR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(vt.UNAUTHENTICATED))}shutdown(){}}class ex{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class tx{constructor(e){this.t=e,this.currentUser=vt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){_e(this.o===void 0);let r=this.i;const i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let o=new br;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new br,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const u=o;e.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},a=u=>{q("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?a(u):(q("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new br)}},0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(q("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(_e(typeof r.accessToken=="string"),new cE(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return _e(e===null||typeof e=="string"),new vt(e)}}class nx{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=vt.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class rx{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new nx(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(vt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class ix{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ox{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){_e(this.o===void 0);const r=o=>{o.error!=null&&q("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.R;return this.R=o.token,q("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{q("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):q("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(_e(typeof n.token=="string"),this.R=n.token,new ix(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sx(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dE{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=sx(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}}function ce(t,e){return t<e?-1:t>e?1:0}function Do(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Je{static now(){return Je.fromMillis(Date.now())}static fromDate(e){return Je.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Je(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new G(j.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new G(j.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new G(j.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new G(j.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ce(this.nanoseconds,e.nanoseconds):ce(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{static fromTimestamp(e){return new ie(e)}static min(){return new ie(new Je(0,0))}static max(){return new ie(new Je(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(e,n,r){n===void 0?n=0:n>e.length&&re(),r===void 0?r=e.length-n:r>e.length-n&&re(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return la.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof la?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Re extends la{construct(e,n,r){return new Re(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new G(j.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Re(n)}static emptyPath(){return new Re([])}}const ax=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class lt extends la{construct(e,n,r){return new lt(e,n,r)}static isValidIdentifier(e){return ax.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),lt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new lt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new G(j.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new G(j.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new G(j.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new G(j.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new lt(n)}static emptyPath(){return new lt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(e){this.path=e}static fromPath(e){return new ee(Re.fromString(e))}static fromName(e){return new ee(Re.fromString(e).popFirst(5))}static empty(){return new ee(Re.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Re.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Re.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ee(new Re(e.slice()))}}function lx(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ie.fromTimestamp(r===1e9?new Je(n+1,0):new Je(n,r));return new Fr(i,ee.empty(),e)}function ux(t){return new Fr(t.readTime,t.key,-1)}class Fr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Fr(ie.min(),ee.empty(),-1)}static max(){return new Fr(ie.max(),ee.empty(),-1)}}function cx(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ee.comparator(t.documentKey,e.documentKey),n!==0?n:ce(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dx="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class hx{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uo(t){if(t.code!==j.FAILED_PRECONDITION||t.message!==dx)throw t;q("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&re(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new B((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof B?n:B.resolve(n)}catch(n){return B.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):B.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):B.reject(n)}static resolve(e){return new B((n,r)=>{n(e)})}static reject(e){return new B((n,r)=>{r(e)})}static waitFor(e){return new B((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},u=>r(u))}),s=!0,o===i&&n()})}static or(e){let n=B.resolve(!1);for(const r of e)n=n.next(i=>i?B.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new B((r,i)=>{const o=e.length,s=new Array(o);let a=0;for(let u=0;u<o;u++){const c=u;n(e[c]).next(d=>{s[c]=d,++a,a===o&&r(s)},d=>i(d))}})}static doWhile(e,n){return new B((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}function fx(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function jo(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}fc.oe=-1;function pc(t){return t==null}function xu(t){return t===0&&1/t==-1/0}function px(t){return typeof t=="number"&&Number.isInteger(t)&&!xu(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mx(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=zy(e)),e=gx(t.get(n),e);return zy(e)}function gx(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const o=t.charAt(i);switch(o){case"\0":n+="";break;case"":n+="";break;default:n+=o}}return n}function zy(t){return t+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yy(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Di(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function hE(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Be{constructor(e,n){this.comparator=e,this.root=n||at.EMPTY}insert(e,n){return new Be(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,at.BLACK,null,null))}remove(e){return new Be(this.comparator,this.root.remove(e,this.comparator).copy(null,null,at.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new pl(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new pl(this.root,e,this.comparator,!1)}getReverseIterator(){return new pl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new pl(this.root,e,this.comparator,!0)}}class pl{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class at{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??at.RED,this.left=i??at.EMPTY,this.right=o??at.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new at(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return at.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return at.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,at.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,at.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw re();const e=this.left.check();if(e!==this.right.check())throw re();return e+(this.isRed()?0:1)}}at.EMPTY=null,at.RED=!0,at.BLACK=!1;at.EMPTY=new class{constructor(){this.size=0}get key(){throw re()}get value(){throw re()}get color(){throw re()}get left(){throw re()}get right(){throw re()}copy(e,n,r,i,o){return this}insert(e,n,r){return new at(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ze{constructor(e){this.comparator=e,this.data=new Be(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Wy(this.data.getIterator())}getIteratorFrom(e){return new Wy(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Ze)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ze(this.comparator);return n.data=e,n}}class Wy{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e){this.fields=e,e.sort(lt.comparator)}static empty(){return new hn([])}unionWith(e){let n=new Ze(lt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new hn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Do(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new fE("Invalid base64 string: "+o):o}}(e);return new dt(n)}static fromUint8Array(e){const n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new dt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ce(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}dt.EMPTY_BYTE_STRING=new dt("");const yx=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Br(t){if(_e(!!t),typeof t=="string"){let e=0;const n=yx.exec(t);if(_e(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ze(t.seconds),nanos:ze(t.nanos)}}function ze(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ur(t){return typeof t=="string"?dt.fromBase64String(t):dt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ap(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function mc(t){const e=t.mapValue.fields.__previous_value__;return Ap(e)?mc(e):e}function ua(t){const e=Br(t.mapValue.fields.__local_write_time__.timestampValue);return new Je(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vx{constructor(e,n,r,i,o,s,a,u,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=c}}class ca{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new ca("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof ca&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ml={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function jr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Ap(t)?4:wx(t)?9007199254740991:_x(t)?10:11:re()}function Nn(t,e){if(t===e)return!0;const n=jr(t);if(n!==jr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ua(t).isEqual(ua(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=Br(i.timestampValue),a=Br(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return Ur(i.bytesValue).isEqual(Ur(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return ze(i.geoPointValue.latitude)===ze(o.geoPointValue.latitude)&&ze(i.geoPointValue.longitude)===ze(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return ze(i.integerValue)===ze(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=ze(i.doubleValue),a=ze(o.doubleValue);return s===a?xu(s)===xu(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return Do(t.arrayValue.values||[],e.arrayValue.values||[],Nn);case 10:case 11:return function(i,o){const s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(Yy(s)!==Yy(a))return!1;for(const u in s)if(s.hasOwnProperty(u)&&(a[u]===void 0||!Nn(s[u],a[u])))return!1;return!0}(t,e);default:return re()}}function da(t,e){return(t.values||[]).find(n=>Nn(n,e))!==void 0}function ko(t,e){if(t===e)return 0;const n=jr(t),r=jr(e);if(n!==r)return ce(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ce(t.booleanValue,e.booleanValue);case 2:return function(o,s){const a=ze(o.integerValue||o.doubleValue),u=ze(s.integerValue||s.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return Hy(t.timestampValue,e.timestampValue);case 4:return Hy(ua(t),ua(e));case 5:return ce(t.stringValue,e.stringValue);case 6:return function(o,s){const a=Ur(o),u=Ur(s);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){const a=o.split("/"),u=s.split("/");for(let c=0;c<a.length&&c<u.length;c++){const d=ce(a[c],u[c]);if(d!==0)return d}return ce(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){const a=ce(ze(o.latitude),ze(s.latitude));return a!==0?a:ce(ze(o.longitude),ze(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Qy(t.arrayValue,e.arrayValue);case 10:return function(o,s){var a,u,c,d;const f=o.fields||{},p=s.fields||{},g=(a=f.value)===null||a===void 0?void 0:a.arrayValue,D=(u=p.value)===null||u===void 0?void 0:u.arrayValue,I=ce(((c=g==null?void 0:g.values)===null||c===void 0?void 0:c.length)||0,((d=D==null?void 0:D.values)===null||d===void 0?void 0:d.length)||0);return I!==0?I:Qy(g,D)}(t.mapValue,e.mapValue);case 11:return function(o,s){if(o===ml.mapValue&&s===ml.mapValue)return 0;if(o===ml.mapValue)return 1;if(s===ml.mapValue)return-1;const a=o.fields||{},u=Object.keys(a),c=s.fields||{},d=Object.keys(c);u.sort(),d.sort();for(let f=0;f<u.length&&f<d.length;++f){const p=ce(u[f],d[f]);if(p!==0)return p;const g=ko(a[u[f]],c[d[f]]);if(g!==0)return g}return ce(u.length,d.length)}(t.mapValue,e.mapValue);default:throw re()}}function Hy(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ce(t,e);const n=Br(t),r=Br(e),i=ce(n.seconds,r.seconds);return i!==0?i:ce(n.nanos,r.nanos)}function Qy(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const o=ko(n[i],r[i]);if(o)return o}return ce(n.length,r.length)}function Co(t){return nf(t)}function nf(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Br(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Ur(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ee.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=nf(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${nf(n.fields[s])}`;return i+"}"}(t.mapValue):re()}function $l(t){switch(jr(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=mc(t);return e?16+$l(e):16;case 5:return 2*t.stringValue.length;case 6:return Ur(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+$l(o),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return Di(r.fields,(o,s)=>{i+=o.length+$l(s)}),i}(t.mapValue);default:throw re()}}function qy(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function rf(t){return!!t&&"integerValue"in t}function bp(t){return!!t&&"arrayValue"in t}function Ky(t){return!!t&&"nullValue"in t}function Gy(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function zl(t){return!!t&&"mapValue"in t}function _x(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Ls(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Di(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Ls(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ls(t.arrayValue.values[n]);return e}return Object.assign({},t)}function wx(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e){this.value=e}static empty(){return new en({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!zl(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ls(n)}setAll(e){let n=lt.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=Ls(s):i.push(a.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());zl(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Nn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];zl(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Di(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new en(Ls(this.value))}}function pE(t){const e=[];return Di(t.fields,(n,r)=>{const i=new lt([n]);if(zl(r)){const o=pE(r.mapValue).fields;if(o.length===0)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new hn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new wt(e,0,ie.min(),ie.min(),ie.min(),en.empty(),0)}static newFoundDocument(e,n,r,i){return new wt(e,1,n,ie.min(),r,i,0)}static newNoDocument(e,n){return new wt(e,2,n,ie.min(),ie.min(),en.empty(),0)}static newUnknownDocument(e,n){return new wt(e,3,n,ie.min(),ie.min(),en.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ie.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=en.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=en.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ie.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof wt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new wt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Au{constructor(e,n){this.position=e,this.inclusive=n}}function Xy(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(o.field.isKeyField()?r=ee.comparator(ee.fromName(s.referenceValue),n.key):r=ko(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function Jy(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Nn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bu{constructor(e,n="asc"){this.field=e,this.dir=n}}function Ex(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mE{}class Ke extends mE{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Sx(e,n,r):n==="array-contains"?new Cx(e,r):n==="in"?new Ix(e,r):n==="not-in"?new Px(e,r):n==="array-contains-any"?new Rx(e,r):new Ke(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Dx(e,r):new kx(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(ko(n,this.value)):n!==null&&jr(this.value)===jr(n)&&this.matchesComparison(ko(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return re()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class yn extends mE{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new yn(e,n)}matches(e){return gE(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function gE(t){return t.op==="and"}function yE(t){return Tx(t)&&gE(t)}function Tx(t){for(const e of t.filters)if(e instanceof yn)return!1;return!0}function of(t){if(t instanceof Ke)return t.field.canonicalString()+t.op.toString()+Co(t.value);if(yE(t))return t.filters.map(e=>of(e)).join(",");{const e=t.filters.map(n=>of(n)).join(",");return`${t.op}(${e})`}}function vE(t,e){return t instanceof Ke?function(r,i){return i instanceof Ke&&r.op===i.op&&r.field.isEqual(i.field)&&Nn(r.value,i.value)}(t,e):t instanceof yn?function(r,i){return i instanceof yn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&vE(s,i.filters[a]),!0):!1}(t,e):void re()}function _E(t){return t instanceof Ke?function(n){return`${n.field.canonicalString()} ${n.op} ${Co(n.value)}`}(t):t instanceof yn?function(n){return n.op.toString()+" {"+n.getFilters().map(_E).join(" ,")+"}"}(t):"Filter"}class Sx extends Ke{constructor(e,n,r){super(e,n,r),this.key=ee.fromName(r.referenceValue)}matches(e){const n=ee.comparator(e.key,this.key);return this.matchesComparison(n)}}class Dx extends Ke{constructor(e,n){super(e,"in",n),this.keys=wE("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class kx extends Ke{constructor(e,n){super(e,"not-in",n),this.keys=wE("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function wE(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ee.fromName(r.referenceValue))}class Cx extends Ke{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return bp(n)&&da(n.arrayValue,this.value)}}class Ix extends Ke{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&da(this.value.arrayValue,n)}}class Px extends Ke{constructor(e,n){super(e,"not-in",n)}matches(e){if(da(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!da(this.value.arrayValue,n)}}class Rx extends Ke{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!bp(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>da(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xx{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ue=null}}function Zy(t,e=null,n=[],r=[],i=null,o=null,s=null){return new xx(t,e,n,r,i,o,s)}function Mp(t){const e=oe(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>of(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),pc(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Co(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Co(r)).join(",")),e.ue=n}return e.ue}function Np(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Ex(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!vE(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Jy(t.startAt,e.startAt)&&Jy(t.endAt,e.endAt)}function sf(t){return ee.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ea{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function Ax(t,e,n,r,i,o,s,a){return new Ea(t,e,n,r,i,o,s,a)}function EE(t){return new Ea(t)}function ev(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function TE(t){return t.collectionGroup!==null}function Vs(t){const e=oe(t);if(e.ce===null){e.ce=[];const n=new Set;for(const o of e.explicitOrderBy)e.ce.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new Ze(lt.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.ce.push(new bu(o,r))}),n.has(lt.keyField().canonicalString())||e.ce.push(new bu(lt.keyField(),r))}return e.ce}function xn(t){const e=oe(t);return e.le||(e.le=bx(e,Vs(t))),e.le}function bx(t,e){if(t.limitType==="F")return Zy(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new bu(i.field,o)});const n=t.endAt?new Au(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Au(t.startAt.position,t.startAt.inclusive):null;return Zy(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function af(t,e){const n=t.filters.concat([e]);return new Ea(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function lf(t,e,n){return new Ea(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function gc(t,e){return Np(xn(t),xn(e))&&t.limitType===e.limitType}function SE(t){return`${Mp(xn(t))}|lt:${t.limitType}`}function Li(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>_E(i)).join(", ")}]`),pc(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Co(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Co(i)).join(",")),`Target(${r})`}(xn(t))}; limitType=${t.limitType})`}function yc(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):ee.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of Vs(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,a,u){const c=Xy(s,a,u);return s.inclusive?c<=0:c<0}(r.startAt,Vs(r),i)||r.endAt&&!function(s,a,u){const c=Xy(s,a,u);return s.inclusive?c>=0:c>0}(r.endAt,Vs(r),i))}(t,e)}function Mx(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function DE(t){return(e,n)=>{let r=!1;for(const i of Vs(t)){const o=Nx(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function Nx(t,e,n){const r=t.field.isKeyField()?ee.comparator(e.key,n.key):function(o,s,a){const u=s.data.field(o),c=a.data.field(o);return u!==null&&c!==null?ko(u,c):re()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return re()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Di(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return hE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ox=new Be(ee.comparator);function sr(){return Ox}const kE=new Be(ee.comparator);function Ss(...t){let e=kE;for(const n of t)e=e.insert(n.key,n);return e}function CE(t){let e=kE;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function ii(){return Fs()}function IE(){return Fs()}function Fs(){return new ki(t=>t.toString(),(t,e)=>t.isEqual(e))}const Lx=new Be(ee.comparator),Vx=new Ze(ee.comparator);function ue(...t){let e=Vx;for(const n of t)e=e.add(n);return e}const Fx=new Ze(ce);function Bx(){return Fx}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Op(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:xu(e)?"-0":e}}function PE(t){return{integerValue:""+t}}function Ux(t,e){return px(e)?PE(e):Op(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vc{constructor(){this._=void 0}}function jx(t,e,n){return t instanceof Mu?function(i,o){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&Ap(o)&&(o=mc(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,e):t instanceof ha?xE(t,e):t instanceof fa?AE(t,e):function(i,o){const s=RE(i,o),a=tv(s)+tv(i.Pe);return rf(s)&&rf(i.Pe)?PE(a):Op(i.serializer,a)}(t,e)}function $x(t,e,n){return t instanceof ha?xE(t,e):t instanceof fa?AE(t,e):n}function RE(t,e){return t instanceof Nu?function(r){return rf(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class Mu extends vc{}class ha extends vc{constructor(e){super(),this.elements=e}}function xE(t,e){const n=bE(e);for(const r of t.elements)n.some(i=>Nn(i,r))||n.push(r);return{arrayValue:{values:n}}}class fa extends vc{constructor(e){super(),this.elements=e}}function AE(t,e){let n=bE(e);for(const r of t.elements)n=n.filter(i=>!Nn(i,r));return{arrayValue:{values:n}}}class Nu extends vc{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function tv(t){return ze(t.integerValue||t.doubleValue)}function bE(t){return bp(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function zx(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof ha&&i instanceof ha||r instanceof fa&&i instanceof fa?Do(r.elements,i.elements,Nn):r instanceof Nu&&i instanceof Nu?Nn(r.Pe,i.Pe):r instanceof Mu&&i instanceof Mu}(t.transform,e.transform)}class Yx{constructor(e,n){this.version=e,this.transformResults=n}}class An{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new An}static exists(e){return new An(void 0,e)}static updateTime(e){return new An(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Yl(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class _c{}function ME(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new OE(t.key,An.none()):new Ta(t.key,t.data,An.none());{const n=t.data,r=en.empty();let i=new Ze(lt.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Ci(t.key,r,new hn(i.toArray()),An.none())}}function Wx(t,e,n){t instanceof Ta?function(i,o,s){const a=i.value.clone(),u=rv(i.fieldTransforms,o,s.transformResults);a.setAll(u),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Ci?function(i,o,s){if(!Yl(i.precondition,o))return void o.convertToUnknownDocument(s.version);const a=rv(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(NE(i)),u.setAll(a),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function Bs(t,e,n,r){return t instanceof Ta?function(o,s,a,u){if(!Yl(o.precondition,s))return a;const c=o.value.clone(),d=iv(o.fieldTransforms,u,s);return c.setAll(d),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof Ci?function(o,s,a,u){if(!Yl(o.precondition,s))return a;const c=iv(o.fieldTransforms,u,s),d=s.data;return d.setAll(NE(o)),d.setAll(c),s.convertToFoundDocument(s.version,d).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(o,s,a){return Yl(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function Hx(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=RE(r.transform,i||null);o!=null&&(n===null&&(n=en.empty()),n.set(r.field,o))}return n||null}function nv(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Do(r,i,(o,s)=>zx(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Ta extends _c{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ci extends _c{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function NE(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function rv(t,e,n){const r=new Map;_e(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,$x(s,a,n[i]))}return r}function iv(t,e,n){const r=new Map;for(const i of t){const o=i.transform,s=n.data.field(i.field);r.set(i.field,jx(o,s,e))}return r}class OE extends _c{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Qx extends _c{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qx{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&Wx(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Bs(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Bs(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=IE();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;const u=ME(s,a);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(ie.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ue())}isEqual(e){return this.batchId===e.batchId&&Do(this.mutations,e.mutations,(n,r)=>nv(n,r))&&Do(this.baseMutations,e.baseMutations,(n,r)=>nv(n,r))}}class Lp{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){_e(e.mutations.length===r.length);let i=function(){return Lx}();const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new Lp(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kx{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gx{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qe,de;function Xx(t){switch(t){default:return re();case j.CANCELLED:case j.UNKNOWN:case j.DEADLINE_EXCEEDED:case j.RESOURCE_EXHAUSTED:case j.INTERNAL:case j.UNAVAILABLE:case j.UNAUTHENTICATED:return!1;case j.INVALID_ARGUMENT:case j.NOT_FOUND:case j.ALREADY_EXISTS:case j.PERMISSION_DENIED:case j.FAILED_PRECONDITION:case j.ABORTED:case j.OUT_OF_RANGE:case j.UNIMPLEMENTED:case j.DATA_LOSS:return!0}}function LE(t){if(t===void 0)return or("GRPC error has no .code"),j.UNKNOWN;switch(t){case Qe.OK:return j.OK;case Qe.CANCELLED:return j.CANCELLED;case Qe.UNKNOWN:return j.UNKNOWN;case Qe.DEADLINE_EXCEEDED:return j.DEADLINE_EXCEEDED;case Qe.RESOURCE_EXHAUSTED:return j.RESOURCE_EXHAUSTED;case Qe.INTERNAL:return j.INTERNAL;case Qe.UNAVAILABLE:return j.UNAVAILABLE;case Qe.UNAUTHENTICATED:return j.UNAUTHENTICATED;case Qe.INVALID_ARGUMENT:return j.INVALID_ARGUMENT;case Qe.NOT_FOUND:return j.NOT_FOUND;case Qe.ALREADY_EXISTS:return j.ALREADY_EXISTS;case Qe.PERMISSION_DENIED:return j.PERMISSION_DENIED;case Qe.FAILED_PRECONDITION:return j.FAILED_PRECONDITION;case Qe.ABORTED:return j.ABORTED;case Qe.OUT_OF_RANGE:return j.OUT_OF_RANGE;case Qe.UNIMPLEMENTED:return j.UNIMPLEMENTED;case Qe.DATA_LOSS:return j.DATA_LOSS;default:return re()}}(de=Qe||(Qe={}))[de.OK=0]="OK",de[de.CANCELLED=1]="CANCELLED",de[de.UNKNOWN=2]="UNKNOWN",de[de.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",de[de.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",de[de.NOT_FOUND=5]="NOT_FOUND",de[de.ALREADY_EXISTS=6]="ALREADY_EXISTS",de[de.PERMISSION_DENIED=7]="PERMISSION_DENIED",de[de.UNAUTHENTICATED=16]="UNAUTHENTICATED",de[de.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",de[de.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",de[de.ABORTED=10]="ABORTED",de[de.OUT_OF_RANGE=11]="OUT_OF_RANGE",de[de.UNIMPLEMENTED=12]="UNIMPLEMENTED",de[de.INTERNAL=13]="INTERNAL",de[de.UNAVAILABLE=14]="UNAVAILABLE",de[de.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jx(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zx=new ui([4294967295,4294967295],0);function ov(t){const e=Jx().encode(t),n=new iE;return n.update(e),new Uint8Array(n.digest())}function sv(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new ui([n,r],0),new ui([i,o],0)]}class Vp{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ds(`Invalid padding: ${n}`);if(r<0)throw new Ds(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ds(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ds(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ie=ui.fromNumber(this.Te)}Ee(e,n,r){let i=e.add(n.multiply(ui.fromNumber(r)));return i.compare(Zx)===1&&(i=new ui([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ie).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=ov(e),[r,i]=sv(n);for(let o=0;o<this.hashCount;o++){const s=this.Ee(r,i,o);if(!this.de(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new Vp(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.Te===0)return;const n=ov(e),[r,i]=sv(n);for(let o=0;o<this.hashCount;o++){const s=this.Ee(r,i,o);this.Ae(s)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Ds extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wc{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Sa.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new wc(ie.min(),i,new Be(ce),sr(),ue())}}class Sa{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Sa(r,n,ue(),ue(),ue())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wl{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class VE{constructor(e,n){this.targetId=e,this.me=n}}class FE{constructor(e,n,r=dt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class av{constructor(){this.fe=0,this.ge=lv(),this.pe=dt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=ue(),n=ue(),r=ue();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:re()}}),new Sa(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=lv()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,_e(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class eA{constructor(e){this.Le=e,this.Be=new Map,this.ke=sr(),this.qe=gl(),this.Qe=gl(),this.Ke=new Be(ce)}$e(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(n,e.Ve):this.We(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.We(n,e.key,e.Ve)}Ge(e){this.forEachTarget(e,n=>{const r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.je(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.De(e.resumeToken));break;default:re()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.je(i)&&n(i)})}Je(e){const n=e.targetId,r=e.me.count,i=this.Ye(n);if(i){const o=i.target;if(sf(o))if(r===0){const s=new ee(o.path);this.We(n,s,wt.newNoDocument(s,ie.min()))}else _e(r===1);else{const s=this.Ze(n);if(s!==r){const a=this.Xe(e),u=a?this.et(a,e,s):1;if(u!==0){this.He(n);const c=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,c)}}}}}Xe(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let s,a;try{s=Ur(r).toUint8Array()}catch(u){if(u instanceof fE)return So("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new Vp(s,i,o)}catch(u){return So(u instanceof Ds?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.Te===0?null:a}et(e,n,r){return n.me.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const s=this.Le.nt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.We(n,o,null),i++)}),i}it(e){const n=new Map;this.Be.forEach((o,s)=>{const a=this.Ye(s);if(a){if(o.current&&sf(a.target)){const u=new ee(a.target.path);this.st(u).has(s)||this.ot(s,u)||this.We(s,u,wt.newNoDocument(u,e))}o.be&&(n.set(s,o.ve()),o.Ce())}});let r=ue();this.Qe.forEach((o,s)=>{let a=!0;s.forEachWhile(u=>{const c=this.Ye(u);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(e));const i=new wc(e,n,this.Ke,this.ke,r);return this.ke=sr(),this.qe=gl(),this.Qe=gl(),this.Ke=new Be(ce),i}Ue(e,n){if(!this.je(e))return;const r=this.ot(e,n.key)?2:0;this.ze(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e)),this.Qe=this.Qe.insert(n.key,this._t(n.key).add(e))}We(e,n,r){if(!this.je(e))return;const i=this.ze(e);this.ot(e,n)?i.Fe(n,1):i.Me(n),this.Qe=this.Qe.insert(n,this._t(n).delete(e)),this.Qe=this.Qe.insert(n,this._t(n).add(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let n=this.Be.get(e);return n||(n=new av,this.Be.set(e,n)),n}_t(e){let n=this.Qe.get(e);return n||(n=new Ze(ce),this.Qe=this.Qe.insert(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Ze(ce),this.qe=this.qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||q("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ut(e)}He(e){this.Be.set(e,new av),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}ot(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function gl(){return new Be(ee.comparator)}function lv(){return new Be(ee.comparator)}const tA={asc:"ASCENDING",desc:"DESCENDING"},nA={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},rA={and:"AND",or:"OR"};class iA{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function uf(t,e){return t.useProto3Json||pc(e)?e:{value:e}}function Ou(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function BE(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function oA(t,e){return Ou(t,e.toTimestamp())}function bn(t){return _e(!!t),ie.fromTimestamp(function(n){const r=Br(n);return new Je(r.seconds,r.nanos)}(t))}function Fp(t,e){return cf(t,e).canonicalString()}function cf(t,e){const n=function(i){return new Re(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function UE(t){const e=Re.fromString(t);return _e(WE(e)),e}function df(t,e){return Fp(t.databaseId,e.path)}function Fd(t,e){const n=UE(e);if(n.get(1)!==t.databaseId.projectId)throw new G(j.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new G(j.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ee($E(n))}function jE(t,e){return Fp(t.databaseId,e)}function sA(t){const e=UE(t);return e.length===4?Re.emptyPath():$E(e)}function hf(t){return new Re(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function $E(t){return _e(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function uv(t,e,n){return{name:df(t,e),fields:n.value.mapValue.fields}}function aA(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:re()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(c,d){return c.useProto3Json?(_e(d===void 0||typeof d=="string"),dt.fromBase64String(d||"")):(_e(d===void 0||d instanceof Buffer||d instanceof Uint8Array),dt.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(c){const d=c.code===void 0?j.UNKNOWN:LE(c.code);return new G(d,c.message||"")}(s);n=new FE(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Fd(t,r.document.name),o=bn(r.document.updateTime),s=r.document.createTime?bn(r.document.createTime):ie.min(),a=new en({mapValue:{fields:r.document.fields}}),u=wt.newFoundDocument(i,o,s,a),c=r.targetIds||[],d=r.removedTargetIds||[];n=new Wl(c,d,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Fd(t,r.document),o=r.readTime?bn(r.readTime):ie.min(),s=wt.newNoDocument(i,o),a=r.removedTargetIds||[];n=new Wl([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Fd(t,r.document),o=r.removedTargetIds||[];n=new Wl([],o,i,null)}else{if(!("filter"in e))return re();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,s=new Gx(i,o),a=r.targetId;n=new VE(a,s)}}return n}function lA(t,e){let n;if(e instanceof Ta)n={update:uv(t,e.key,e.value)};else if(e instanceof OE)n={delete:df(t,e.key)};else if(e instanceof Ci)n={update:uv(t,e.key,e.data),updateMask:yA(e.fieldMask)};else{if(!(e instanceof Qx))return re();n={verify:df(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){const a=s.transform;if(a instanceof Mu)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof ha)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof fa)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Nu)return{fieldPath:s.field.canonicalString(),increment:a.Pe};throw re()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:oA(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:re()}(t,e.precondition)),n}function uA(t,e){return t&&t.length>0?(_e(e!==void 0),t.map(n=>function(i,o){let s=i.updateTime?bn(i.updateTime):bn(o);return s.isEqual(ie.min())&&(s=bn(o)),new Yx(s,i.transformResults||[])}(n,e))):[]}function cA(t,e){return{documents:[jE(t,e.path)]}}function dA(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=jE(t,i);const o=function(c){if(c.length!==0)return YE(yn.create(c,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const s=function(c){if(c.length!==0)return c.map(d=>function(p){return{field:Vi(p.field),direction:pA(p.dir)}}(d))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const a=uf(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{ct:n,parent:i}}function hA(t){let e=sA(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){_e(r===1);const d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let o=[];n.where&&(o=function(f){const p=zE(f);return p instanceof yn&&yE(p)?p.getFilters():[p]}(n.where));let s=[];n.orderBy&&(s=function(f){return f.map(p=>function(D){return new bu(Fi(D.field),function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(D.direction))}(p))}(n.orderBy));let a=null;n.limit&&(a=function(f){let p;return p=typeof f=="object"?f.value:f,pc(p)?null:p}(n.limit));let u=null;n.startAt&&(u=function(f){const p=!!f.before,g=f.values||[];return new Au(g,p)}(n.startAt));let c=null;return n.endAt&&(c=function(f){const p=!f.before,g=f.values||[];return new Au(g,p)}(n.endAt)),Ax(e,i,s,o,a,"F",u,c)}function fA(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return re()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function zE(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Fi(n.unaryFilter.field);return Ke.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Fi(n.unaryFilter.field);return Ke.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Fi(n.unaryFilter.field);return Ke.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Fi(n.unaryFilter.field);return Ke.create(s,"!=",{nullValue:"NULL_VALUE"});default:return re()}}(t):t.fieldFilter!==void 0?function(n){return Ke.create(Fi(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return re()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return yn.create(n.compositeFilter.filters.map(r=>zE(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return re()}}(n.compositeFilter.op))}(t):re()}function pA(t){return tA[t]}function mA(t){return nA[t]}function gA(t){return rA[t]}function Vi(t){return{fieldPath:t.canonicalString()}}function Fi(t){return lt.fromServerFormat(t.fieldPath)}function YE(t){return t instanceof Ke?function(n){if(n.op==="=="){if(Gy(n.value))return{unaryFilter:{field:Vi(n.field),op:"IS_NAN"}};if(Ky(n.value))return{unaryFilter:{field:Vi(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Gy(n.value))return{unaryFilter:{field:Vi(n.field),op:"IS_NOT_NAN"}};if(Ky(n.value))return{unaryFilter:{field:Vi(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Vi(n.field),op:mA(n.op),value:n.value}}}(t):t instanceof yn?function(n){const r=n.getFilters().map(i=>YE(i));return r.length===1?r[0]:{compositeFilter:{op:gA(n.op),filters:r}}}(t):re()}function yA(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function WE(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r{constructor(e,n,r,i,o=ie.min(),s=ie.min(),a=dt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new _r(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new _r(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new _r(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new _r(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vA{constructor(e){this.ht=e}}function _A(t){const e=hA({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?lf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wA{constructor(){this.ln=new EA}addToCollectionParentIndex(e,n){return this.ln.add(n),B.resolve()}getCollectionParents(e,n){return B.resolve(this.ln.getEntries(n))}addFieldIndex(e,n){return B.resolve()}deleteFieldIndex(e,n){return B.resolve()}deleteAllFieldIndexes(e){return B.resolve()}createTargetIndexes(e,n){return B.resolve()}getDocumentsMatchingTarget(e,n){return B.resolve(null)}getIndexType(e,n){return B.resolve(0)}getFieldIndexes(e,n){return B.resolve([])}getNextCollectionGroupToUpdate(e){return B.resolve(null)}getMinOffset(e,n){return B.resolve(Fr.min())}getMinOffsetFromCollectionGroup(e,n){return B.resolve(Fr.min())}updateCollectionGroup(e,n,r){return B.resolve()}updateIndexEntries(e,n){return B.resolve()}}class EA{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Ze(Re.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ze(Re.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class At{static withCacheSize(e){return new At(e,At.DEFAULT_COLLECTION_PERCENTILE,At.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */At.DEFAULT_COLLECTION_PERCENTILE=10,At.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,At.DEFAULT=new At(41943040,At.DEFAULT_COLLECTION_PERCENTILE,At.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),At.DISABLED=new At(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new Io(0)}static Qn(){return new Io(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dv([t,e],[n,r]){const i=ce(t,n);return i===0?ce(e,r):i}class TA{constructor(e){this.Gn=e,this.buffer=new Ze(dv),this.zn=0}jn(){return++this.zn}Hn(e){const n=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();dv(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class SA{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(e){q("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){jo(n)?q("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await Uo(n)}await this.Yn(3e5)})}}class DA{constructor(e,n){this.Zn=e,this.params=n}calculateTargetCount(e,n){return this.Zn.Xn(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return B.resolve(fc.oe);const r=new TA(n);return this.Zn.forEachTarget(e,i=>r.Hn(i.sequenceNumber)).next(()=>this.Zn.er(e,i=>r.Hn(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Zn.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Zn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(q("LruGarbageCollector","Garbage collection skipped; disabled"),B.resolve(cv)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(q("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),cv):this.tr(e,n))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,n){let r,i,o,s,a,u,c;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(q("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),i=this.params.maximumSequenceNumbersToCollect):i=f,s=Date.now(),this.nthSequenceNumber(e,i))).next(f=>(r=f,a=Date.now(),this.removeTargets(e,r,n))).next(f=>(o=f,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(c=Date.now(),Oi()<=fe.DEBUG&&q("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-d}ms
	Determined least recently used ${i} in `+(a-s)+`ms
	Removed ${o} targets in `+(u-a)+`ms
	Removed ${f} documents in `+(c-u)+`ms
Total Duration: ${c-d}ms`),B.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:f})))}}function kA(t,e){return new DA(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CA{constructor(){this.changes=new ki(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,wt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?B.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IA{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PA{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Bs(r.mutation,i,hn.empty(),Je.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ue()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ue()){const i=ii();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=Ss();return o.forEach((a,u)=>{s=s.insert(a,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=ii();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ue()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=sr();const s=Fs(),a=function(){return Fs()}();return n.forEach((u,c)=>{const d=r.get(c.key);i.has(c.key)&&(d===void 0||d.mutation instanceof Ci)?o=o.insert(c.key,c):d!==void 0?(s.set(c.key,d.mutation.getFieldMask()),Bs(d.mutation,c,d.mutation.getFieldMask(),Je.now())):s.set(c.key,hn.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((c,d)=>s.set(c,d)),n.forEach((c,d)=>{var f;return a.set(c,new IA(d,(f=s.get(c))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Fs();let i=new Be((s,a)=>s-a),o=ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const a of s)a.keys().forEach(u=>{const c=n.get(u);if(c===null)return;let d=r.get(u)||hn.empty();d=a.applyToLocalView(c,d),r.set(u,d);const f=(i.get(a.batchId)||ue()).add(u);i=i.insert(a.batchId,f)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),c=u.key,d=u.value,f=IE();d.forEach(p=>{if(!o.has(p)){const g=ME(n.get(p),r.get(p));g!==null&&f.set(p,g),o=o.add(p)}}),s.push(this.documentOverlayCache.saveOverlays(e,c,f))}return B.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return ee.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):TE(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):B.resolve(ii());let a=-1,u=o;return s.next(c=>B.forEach(c,(d,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),o.get(d)?B.resolve():this.remoteDocumentCache.getEntry(e,d).next(p=>{u=u.insert(d,p)}))).next(()=>this.populateOverlays(e,c,o)).next(()=>this.computeViews(e,u,c,ue())).next(d=>({batchId:a,changes:CE(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ee(n)).next(r=>{let i=Ss();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let s=Ss();return this.indexManager.getCollectionParents(e,o).next(a=>B.forEach(a,u=>{const c=function(f,p){return new Ea(p,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(d=>{d.forEach((f,p)=>{s=s.insert(f,p)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((u,c)=>{const d=c.getKey();s.get(d)===null&&(s=s.insert(d,wt.newInvalidDocument(d)))});let a=Ss();return s.forEach((u,c)=>{const d=o.get(u);d!==void 0&&Bs(d.mutation,c,hn.empty(),Je.now()),yc(n,c)&&(a=a.insert(u,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RA{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,n){return B.resolve(this.Tr.get(n))}saveBundleMetadata(e,n){return this.Tr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:bn(i.createTime)}}(n)),B.resolve()}getNamedQuery(e,n){return B.resolve(this.Ir.get(n))}saveNamedQuery(e,n){return this.Ir.set(n.name,function(i){return{name:i.name,query:_A(i.bundledQuery),readTime:bn(i.readTime)}}(n)),B.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xA{constructor(){this.overlays=new Be(ee.comparator),this.Er=new Map}getOverlay(e,n){return B.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ii();return B.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.Tt(e,n,o)}),B.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Er.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Er.delete(r)),B.resolve()}getOverlaysForCollection(e,n,r){const i=ii(),o=n.length+1,s=new ee(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const u=a.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return B.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new Be((c,d)=>c-d);const s=this.overlays.getIterator();for(;s.hasNext();){const c=s.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let d=o.get(c.largestBatchId);d===null&&(d=ii(),o=o.insert(c.largestBatchId,d)),d.set(c.getKey(),c)}}const a=ii(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,d)=>a.set(c,d)),!(a.size()>=i)););return B.resolve(a)}Tt(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.Er.get(i.largestBatchId).delete(r.key);this.Er.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new Kx(n,r));let o=this.Er.get(n);o===void 0&&(o=ue(),this.Er.set(n,o)),this.Er.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AA{constructor(){this.sessionToken=dt.EMPTY_BYTE_STRING}getSessionToken(e){return B.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,B.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bp{constructor(){this.dr=new Ze(et.Ar),this.Rr=new Ze(et.Vr)}isEmpty(){return this.dr.isEmpty()}addReference(e,n){const r=new et(e,n);this.dr=this.dr.add(r),this.Rr=this.Rr.add(r)}mr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.gr(new et(e,n))}pr(e,n){e.forEach(r=>this.removeReference(r,n))}yr(e){const n=new ee(new Re([])),r=new et(n,e),i=new et(n,e+1),o=[];return this.Rr.forEachInRange([r,i],s=>{this.gr(s),o.push(s.key)}),o}wr(){this.dr.forEach(e=>this.gr(e))}gr(e){this.dr=this.dr.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const n=new ee(new Re([])),r=new et(n,e),i=new et(n,e+1);let o=ue();return this.Rr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const n=new et(e,0),r=this.dr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class et{constructor(e,n){this.key=e,this.br=n}static Ar(e,n){return ee.comparator(e.key,n.key)||ce(e.br,n.br)}static Vr(e,n){return ce(e.br,n.br)||ee.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bA{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Dr=1,this.vr=new Ze(et.Ar)}checkEmpty(e){return B.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new qx(o,n,r,i);this.mutationQueue.push(s);for(const a of i)this.vr=this.vr.add(new et(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return B.resolve(s)}lookupMutationBatch(e,n){return B.resolve(this.Cr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Fr(r),o=i<0?0:i;return B.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return B.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(e){return B.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new et(n,0),i=new et(n,Number.POSITIVE_INFINITY),o=[];return this.vr.forEachInRange([r,i],s=>{const a=this.Cr(s.br);o.push(a)}),B.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ze(ce);return n.forEach(i=>{const o=new et(i,0),s=new et(i,Number.POSITIVE_INFINITY);this.vr.forEachInRange([o,s],a=>{r=r.add(a.br)})}),B.resolve(this.Mr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;ee.isDocumentKey(o)||(o=o.child(""));const s=new et(new ee(o),0);let a=new Ze(ce);return this.vr.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(u.br)),!0)},s),B.resolve(this.Mr(a))}Mr(e){const n=[];return e.forEach(r=>{const i=this.Cr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){_e(this.Or(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.vr;return B.forEach(n.mutations,i=>{const o=new et(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.vr=r})}Ln(e){}containsKey(e,n){const r=new et(n,0),i=this.vr.firstAfterOrEqual(r);return B.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,B.resolve()}Or(e,n){return this.Fr(e)}Fr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Cr(e){const n=this.Fr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MA{constructor(e){this.Nr=e,this.docs=function(){return new Be(ee.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.Nr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return B.resolve(r?r.document.mutableCopy():wt.newInvalidDocument(n))}getEntries(e,n){let r=sr();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():wt.newInvalidDocument(i))}),B.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=sr();const s=n.path,a=new ee(s.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:c,value:{document:d}}=u.getNext();if(!s.isPrefixOf(c.path))break;c.path.length>s.length+1||cx(ux(d),r)<=0||(i.has(d.key)||yc(n,d))&&(o=o.insert(d.key,d.mutableCopy()))}return B.resolve(o)}getAllFromCollectionGroup(e,n,r,i){re()}Lr(e,n){return B.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new NA(this)}getSize(e){return B.resolve(this.size)}}class NA extends CA{constructor(e){super(),this.hr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.hr.addEntry(e,i)):this.hr.removeEntry(r)}),B.waitFor(n)}getFromCache(e,n){return this.hr.getEntry(e,n)}getAllFromCache(e,n){return this.hr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OA{constructor(e){this.persistence=e,this.Br=new ki(n=>Mp(n),Np),this.lastRemoteSnapshotVersion=ie.min(),this.highestTargetId=0,this.kr=0,this.qr=new Bp,this.targetCount=0,this.Qr=Io.qn()}forEachTarget(e,n){return this.Br.forEach((r,i)=>n(i)),B.resolve()}getLastRemoteSnapshotVersion(e){return B.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return B.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),B.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.kr&&(this.kr=n),B.resolve()}Un(e){this.Br.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Qr=new Io(n),this.highestTargetId=n),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,n){return this.Un(n),this.targetCount+=1,B.resolve()}updateTargetData(e,n){return this.Un(n),B.resolve()}removeTargetData(e,n){return this.Br.delete(n.target),this.qr.yr(n.targetId),this.targetCount-=1,B.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.Br.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Br.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),B.waitFor(o).next(()=>i)}getTargetCount(e){return B.resolve(this.targetCount)}getTargetData(e,n){const r=this.Br.get(n)||null;return B.resolve(r)}addMatchingKeys(e,n,r){return this.qr.mr(n,r),B.resolve()}removeMatchingKeys(e,n,r){this.qr.pr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),B.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.qr.yr(n),B.resolve()}getMatchingKeysForTargetId(e,n){const r=this.qr.Sr(n);return B.resolve(r)}containsKey(e,n){return B.resolve(this.qr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HE{constructor(e,n){this.Kr={},this.overlays={},this.$r=new fc(0),this.Ur=!1,this.Ur=!0,this.Wr=new AA,this.referenceDelegate=e(this),this.Gr=new OA(this),this.indexManager=new wA,this.remoteDocumentCache=function(i){return new MA(i)}(r=>this.referenceDelegate.zr(r)),this.serializer=new vA(n),this.jr=new RA(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new xA,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Kr[e.toKey()];return r||(r=new bA(n,this.referenceDelegate),this.Kr[e.toKey()]=r),r}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,n,r){q("MemoryPersistence","Starting transaction:",e);const i=new LA(this.$r.next());return this.referenceDelegate.Hr(),r(i).next(o=>this.referenceDelegate.Jr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Yr(e,n){return B.or(Object.values(this.Kr).map(r=>()=>r.containsKey(e,n)))}}class LA extends hx{constructor(e){super(),this.currentSequenceNumber=e}}class Up{constructor(e){this.persistence=e,this.Zr=new Bp,this.Xr=null}static ei(e){return new Up(e)}get ti(){if(this.Xr)return this.Xr;throw re()}addReference(e,n,r){return this.Zr.addReference(r,n),this.ti.delete(r.toString()),B.resolve()}removeReference(e,n,r){return this.Zr.removeReference(r,n),this.ti.add(r.toString()),B.resolve()}markPotentiallyOrphaned(e,n){return this.ti.add(n.toString()),B.resolve()}removeTarget(e,n){this.Zr.yr(n.targetId).forEach(i=>this.ti.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.ti.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Hr(){this.Xr=new Set}Jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return B.forEach(this.ti,r=>{const i=ee.fromPath(r);return this.ni(e,i).next(o=>{o||n.removeEntry(i,ie.min())})}).next(()=>(this.Xr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ni(e,n).next(r=>{r?this.ti.delete(n.toString()):this.ti.add(n.toString())})}zr(e){return 0}ni(e,n){return B.or([()=>B.resolve(this.Zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Yr(e,n)])}}class Lu{constructor(e,n){this.persistence=e,this.ri=new ki(r=>mx(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=kA(this,n)}static ei(e,n){return new Lu(e,n)}Hr(){}Jr(e){return B.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}Xn(e){const n=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}nr(e){let n=0;return this.er(e,r=>{n++}).next(()=>n)}er(e,n){return B.forEach(this.ri,(r,i)=>this.ir(e,r,i).next(o=>o?B.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.Lr(e,s=>this.ir(e,s,n).next(a=>{a||(r++,o.removeEntry(s,ie.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.ri.set(n,e.currentSequenceNumber),B.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.ri.set(r,e.currentSequenceNumber),B.resolve()}removeReference(e,n,r){return this.ri.set(r,e.currentSequenceNumber),B.resolve()}updateLimboDocument(e,n){return this.ri.set(n,e.currentSequenceNumber),B.resolve()}zr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=$l(e.data.value)),n}ir(e,n,r){return B.or([()=>this.persistence.Yr(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.ri.get(n);return B.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jp{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Wi=r,this.Gi=i}static zi(e,n){let r=ue(),i=ue();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new jp(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VA{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FA{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return OP()?8:fx(MP())>0?6:4}()}initialize(e,n){this.Zi=e,this.indexManager=n,this.ji=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.Xi(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.es(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new VA;return this.ts(e,n,s).next(a=>{if(o.result=a,this.Hi)return this.ns(e,n,s,a.size)})}).next(()=>o.result)}ns(e,n,r,i){return r.documentReadCount<this.Ji?(Oi()<=fe.DEBUG&&q("QueryEngine","SDK will not create cache indexes for query:",Li(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),B.resolve()):(Oi()<=fe.DEBUG&&q("QueryEngine","Query:",Li(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Yi*i?(Oi()<=fe.DEBUG&&q("QueryEngine","The SDK decides to create cache indexes for query:",Li(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,xn(n))):B.resolve())}Xi(e,n){if(ev(n))return B.resolve(null);let r=xn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=lf(n,null,"F"),r=xn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=ue(...o);return this.Zi.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const c=this.rs(n,a);return this.ss(n,c,s,u.readTime)?this.Xi(e,lf(n,null,"F")):this.os(e,c,n,u)}))})))}es(e,n,r,i){return ev(n)||i.isEqual(ie.min())?B.resolve(null):this.Zi.getDocuments(e,r).next(o=>{const s=this.rs(n,o);return this.ss(n,s,r,i)?B.resolve(null):(Oi()<=fe.DEBUG&&q("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Li(n)),this.os(e,s,n,lx(i,-1)).next(a=>a))})}rs(e,n){let r=new Ze(DE(e));return n.forEach((i,o)=>{yc(e,o)&&(r=r.add(o))}),r}ss(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}ts(e,n,r){return Oi()<=fe.DEBUG&&q("QueryEngine","Using full collection scan to execute query:",Li(n)),this.Zi.getDocumentsMatchingQuery(e,n,Fr.min(),r)}os(e,n,r,i){return this.Zi.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BA{constructor(e,n,r,i){this.persistence=e,this._s=n,this.serializer=i,this.us=new Be(ce),this.cs=new ki(o=>Mp(o),Np),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(r)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new PA(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.us))}}function UA(t,e,n,r){return new BA(t,e,n,r)}async function QE(t,e){const n=oe(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.Ps(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let u=ue();for(const c of i){s.push(c.batchId);for(const d of c.mutations)u=u.add(d.key)}for(const c of o){a.push(c.batchId);for(const d of c.mutations)u=u.add(d.key)}return n.localDocuments.getDocuments(r,u).next(c=>({Ts:c,removedBatchIds:s,addedBatchIds:a}))})})}function jA(t,e){const n=oe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.hs.newChangeBuffer({trackRemovals:!0});return function(a,u,c,d){const f=c.batch,p=f.keys();let g=B.resolve();return p.forEach(D=>{g=g.next(()=>d.getEntry(u,D)).next(I=>{const k=c.docVersions.get(D);_e(k!==null),I.version.compareTo(k)<0&&(f.applyToRemoteDocument(I,c),I.isValidDocument()&&(I.setReadTime(c.commitVersion),d.addEntry(I)))})}),g.next(()=>a.mutationQueue.removeMutationBatch(u,f))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=ue();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(u=u.add(a.batch.mutations[c].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function qE(t){const e=oe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Gr.getLastRemoteSnapshotVersion(n))}function $A(t,e){const n=oe(t),r=e.snapshotVersion;let i=n.us;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.hs.newChangeBuffer({trackRemovals:!0});i=n.us;const a=[];e.targetChanges.forEach((d,f)=>{const p=i.get(f);if(!p)return;a.push(n.Gr.removeMatchingKeys(o,d.removedDocuments,f).next(()=>n.Gr.addMatchingKeys(o,d.addedDocuments,f)));let g=p.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(f)!==null?g=g.withResumeToken(dt.EMPTY_BYTE_STRING,ie.min()).withLastLimboFreeSnapshotVersion(ie.min()):d.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(d.resumeToken,r)),i=i.insert(f,g),function(I,k,v){return I.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-I.snapshotVersion.toMicroseconds()>=3e8?!0:v.addedDocuments.size+v.modifiedDocuments.size+v.removedDocuments.size>0}(p,g,d)&&a.push(n.Gr.updateTargetData(o,g))});let u=sr(),c=ue();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,d))}),a.push(zA(o,s,e.documentUpdates).next(d=>{u=d.Is,c=d.Es})),!r.isEqual(ie.min())){const d=n.Gr.getLastRemoteSnapshotVersion(o).next(f=>n.Gr.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(d)}return B.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,u,c)).next(()=>u)}).then(o=>(n.us=i,o))}function zA(t,e,n){let r=ue(),i=ue();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=sr();return n.forEach((a,u)=>{const c=o.get(a);u.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(ie.min())?(e.removeEntry(a,u.readTime),s=s.insert(a,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||u.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(u),s=s.insert(a,u)):q("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",u.version)}),{Is:s,Es:i}})}function YA(t,e){const n=oe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function WA(t,e){const n=oe(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Gr.getTargetData(r,e).next(o=>o?(i=o,B.resolve(i)):n.Gr.allocateTargetId(r).next(s=>(i=new _r(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Gr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.us.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.us=n.us.insert(r.targetId,r),n.cs.set(e,r.targetId)),r})}async function ff(t,e,n){const r=oe(t),i=r.us.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!jo(s))throw s;q("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.us=r.us.remove(e),r.cs.delete(i.target)}function hv(t,e,n){const r=oe(t);let i=ie.min(),o=ue();return r.persistence.runTransaction("Execute query","readwrite",s=>function(u,c,d){const f=oe(u),p=f.cs.get(d);return p!==void 0?B.resolve(f.us.get(p)):f.Gr.getTargetData(c,d)}(r,s,xn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Gr.getMatchingKeysForTargetId(s,a.targetId).next(u=>{o=u})}).next(()=>r._s.getDocumentsMatchingQuery(s,e,n?i:ie.min(),n?o:ue())).next(a=>(HA(r,Mx(e),a),{documents:a,ds:o})))}function HA(t,e,n){let r=t.ls.get(e)||ie.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.ls.set(e,r)}class fv{constructor(){this.activeTargetIds=Bx()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class QA{constructor(){this._o=new fv,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,n,r){this.ao[e]=n}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new fv,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qA{uo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pv{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){q("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){q("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yl=null;function Bd(){return yl===null?yl=function(){return 268435456+Math.round(2147483648*Math.random())}():yl++,"0x"+yl.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KA={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GA{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yt="WebChannelConnection";class XA extends class{get Co(){return!1}constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Fo=r+"://"+n.host,this.Mo=`projects/${i}/databases/${o}`,this.xo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}Oo(n,r,i,o,s){const a=Bd(),u=this.No(n,r.toUriEncodedString());q("RestConnection",`Sending RPC '${n}' ${a}:`,u,i);const c={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Lo(c,o,s),this.Bo(n,u,c,i).then(d=>(q("RestConnection",`Received RPC '${n}' ${a}: `,d),d),d=>{throw So("RestConnection",`RPC '${n}' ${a} failed with error: `,d,"url: ",u,"request:",i),d})}ko(n,r,i,o,s,a){return this.Oo(n,r,i,o,s)}Lo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Bo}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>n[s]=o),i&&i.headers.forEach((o,s)=>n[s]=o)}No(n,r){const i=KA[n];return`${this.Fo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Bo(e,n,r,i){const o=Bd();return new Promise((s,a)=>{const u=new oE;u.setWithCredentials(!0),u.listenOnce(sE.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case jl.NO_ERROR:const d=u.getResponseJson();q(yt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(d)),s(d);break;case jl.TIMEOUT:q(yt,`RPC '${e}' ${o} timed out`),a(new G(j.DEADLINE_EXCEEDED,"Request time out"));break;case jl.HTTP_ERROR:const f=u.getStatus();if(q(yt,`RPC '${e}' ${o} failed with status:`,f,"response text:",u.getResponseText()),f>0){let p=u.getResponseJson();Array.isArray(p)&&(p=p[0]);const g=p==null?void 0:p.error;if(g&&g.status&&g.message){const D=function(k){const v=k.toLowerCase().replace(/_/g,"-");return Object.values(j).indexOf(v)>=0?v:j.UNKNOWN}(g.status);a(new G(D,g.message))}else a(new G(j.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new G(j.UNAVAILABLE,"Connection failed."));break;default:re()}}finally{q(yt,`RPC '${e}' ${o} completed.`)}});const c=JSON.stringify(i);q(yt,`RPC '${e}' ${o} sending request:`,i),u.send(n,"POST",c,r,15)})}qo(e,n,r){const i=Bd(),o=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=uE(),a=lE(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Lo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const d=o.join("");q(yt,`Creating RPC '${e}' stream ${i}: ${d}`,u);const f=s.createWebChannel(d,u);let p=!1,g=!1;const D=new GA({Eo:k=>{g?q(yt,`Not sending because RPC '${e}' stream ${i} is closed:`,k):(p||(q(yt,`Opening RPC '${e}' stream ${i} transport.`),f.open(),p=!0),q(yt,`RPC '${e}' stream ${i} sending:`,k),f.send(k))},Ao:()=>f.close()}),I=(k,v,_)=>{k.listen(v,E=>{try{_(E)}catch(A){setTimeout(()=>{throw A},0)}})};return I(f,Ts.EventType.OPEN,()=>{g||(q(yt,`RPC '${e}' stream ${i} transport opened.`),D.So())}),I(f,Ts.EventType.CLOSE,()=>{g||(g=!0,q(yt,`RPC '${e}' stream ${i} transport closed`),D.Do())}),I(f,Ts.EventType.ERROR,k=>{g||(g=!0,So(yt,`RPC '${e}' stream ${i} transport errored:`,k),D.Do(new G(j.UNAVAILABLE,"The operation could not be completed")))}),I(f,Ts.EventType.MESSAGE,k=>{var v;if(!g){const _=k.data[0];_e(!!_);const E=_,A=(E==null?void 0:E.error)||((v=E[0])===null||v===void 0?void 0:v.error);if(A){q(yt,`RPC '${e}' stream ${i} received error:`,A);const N=A.status;let O=function(S){const P=Qe[S];if(P!==void 0)return LE(P)}(N),T=A.message;O===void 0&&(O=j.INTERNAL,T="Unknown error status: "+N+" with message "+A.message),g=!0,D.Do(new G(O,T)),f.close()}else q(yt,`RPC '${e}' stream ${i} received:`,_),D.vo(_)}}),I(a,aE.STAT_EVENT,k=>{k.stat===tf.PROXY?q(yt,`RPC '${e}' stream ${i} detected buffering proxy`):k.stat===tf.NOPROXY&&q(yt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{D.bo()},0),D}}function Ud(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ec(t){return new iA(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KE{constructor(e,n,r=1e3,i=1.5,o=6e4){this.li=e,this.timerId=n,this.Qo=r,this.Ko=i,this.$o=o,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const n=Math.floor(this.Uo+this.Ho()),r=Math.max(0,Date.now()-this.Go),i=Math.max(0,n-r);i>0&&q("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Uo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,i,()=>(this.Go=Date.now(),e())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GE{constructor(e,n,r,i,o,s,a,u){this.li=e,this.Yo=r,this.Zo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new KE(e,n)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,n){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,e!==4?this.r_.reset():n&&n.code===j.RESOURCE_EXHAUSTED?(or(n.toString()),or("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):n&&n.code===j.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(n)}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),n=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Xo===n&&this.I_(r,i)},r=>{e(()=>{const i=new G(j.UNKNOWN,"Fetching auth token failed: "+r.message);return this.E_(i)})})}I_(e,n){const r=this.T_(this.Xo);this.stream=this.d_(e,n),this.stream.Ro(()=>{r(()=>this.listener.Ro())}),this.stream.mo(()=>{r(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(i=>{r(()=>this.E_(i))}),this.stream.onMessage(i=>{r(()=>++this.n_==1?this.A_(i):this.onNext(i))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}E_(e){return q("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}T_(e){return n=>{this.li.enqueueAndForget(()=>this.Xo===e?n():(q("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class JA extends GE{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}d_(e,n){return this.connection.qo("Listen",e,n)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();const n=aA(this.serializer,e),r=function(o){if(!("targetChange"in o))return ie.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?ie.min():s.readTime?bn(s.readTime):ie.min()}(e);return this.listener.R_(n,r)}V_(e){const n={};n.database=hf(this.serializer),n.addTarget=function(o,s){let a;const u=s.target;if(a=sf(u)?{documents:cA(o,u)}:{query:dA(o,u).ct},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=BE(o,s.resumeToken);const c=uf(o,s.expectedCount);c!==null&&(a.expectedCount=c)}else if(s.snapshotVersion.compareTo(ie.min())>0){a.readTime=Ou(o,s.snapshotVersion.toTimestamp());const c=uf(o,s.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=fA(this.serializer,e);r&&(n.labels=r),this.c_(n)}m_(e){const n={};n.database=hf(this.serializer),n.removeTarget=e,this.c_(n)}}class ZA extends GE{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}d_(e,n){return this.connection.qo("Write",e,n)}A_(e){return _e(!!e.streamToken),this.lastStreamToken=e.streamToken,_e(!e.writeResults||e.writeResults.length===0),this.listener.p_()}onNext(e){_e(!!e.streamToken),this.lastStreamToken=e.streamToken,this.r_.reset();const n=uA(e.writeResults,e.commitTime),r=bn(e.commitTime);return this.listener.y_(r,n)}w_(){const e={};e.database=hf(this.serializer),this.c_(e)}g_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>lA(this.serializer,r))};this.c_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eb extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.S_=!1}b_(){if(this.S_)throw new G(j.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,n,r,i){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Oo(e,cf(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===j.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new G(j.UNKNOWN,o.toString())})}ko(e,n,r,i,o){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.ko(e,cf(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===j.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new G(j.UNKNOWN,s.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class tb{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(e){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.M_("Offline")))}set(e){this.N_(),this.D_=0,e==="Online"&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(or(n),this.C_=!1):q("OnlineStateTracker",n)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nb{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.L_=[],this.B_=new Map,this.k_=new Set,this.q_=[],this.Q_=o,this.Q_.uo(s=>{r.enqueueAndForget(async()=>{Ii(this)&&(q("RemoteStore","Restarting streams for network reachability change."),await async function(u){const c=oe(u);c.k_.add(4),await Da(c),c.K_.set("Unknown"),c.k_.delete(4),await Tc(c)}(this))})}),this.K_=new tb(r,i)}}async function Tc(t){if(Ii(t))for(const e of t.q_)await e(!0)}async function Da(t){for(const e of t.q_)await e(!1)}function XE(t,e){const n=oe(t);n.B_.has(e.targetId)||(n.B_.set(e.targetId,e),Wp(n)?Yp(n):$o(n).s_()&&zp(n,e))}function $p(t,e){const n=oe(t),r=$o(n);n.B_.delete(e),r.s_()&&JE(n,e),n.B_.size===0&&(r.s_()?r.a_():Ii(n)&&n.K_.set("Unknown"))}function zp(t,e){if(t.U_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ie.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}$o(t).V_(e)}function JE(t,e){t.U_.xe(e),$o(t).m_(e)}function Yp(t){t.U_=new eA({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>t.B_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),$o(t).start(),t.K_.F_()}function Wp(t){return Ii(t)&&!$o(t).i_()&&t.B_.size>0}function Ii(t){return oe(t).k_.size===0}function ZE(t){t.U_=void 0}async function rb(t){t.K_.set("Online")}async function ib(t){t.B_.forEach((e,n)=>{zp(t,e)})}async function ob(t,e){ZE(t),Wp(t)?(t.K_.O_(e),Yp(t)):t.K_.set("Unknown")}async function sb(t,e,n){if(t.K_.set("Online"),e instanceof FE&&e.state===2&&e.cause)try{await async function(i,o){const s=o.cause;for(const a of o.targetIds)i.B_.has(a)&&(await i.remoteSyncer.rejectListen(a,s),i.B_.delete(a),i.U_.removeTarget(a))}(t,e)}catch(r){q("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Vu(t,r)}else if(e instanceof Wl?t.U_.$e(e):e instanceof VE?t.U_.Je(e):t.U_.Ge(e),!n.isEqual(ie.min()))try{const r=await qE(t.localStore);n.compareTo(r)>=0&&await function(o,s){const a=o.U_.it(s);return a.targetChanges.forEach((u,c)=>{if(u.resumeToken.approximateByteSize()>0){const d=o.B_.get(c);d&&o.B_.set(c,d.withResumeToken(u.resumeToken,s))}}),a.targetMismatches.forEach((u,c)=>{const d=o.B_.get(u);if(!d)return;o.B_.set(u,d.withResumeToken(dt.EMPTY_BYTE_STRING,d.snapshotVersion)),JE(o,u);const f=new _r(d.target,u,c,d.sequenceNumber);zp(o,f)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){q("RemoteStore","Failed to raise snapshot:",r),await Vu(t,r)}}async function Vu(t,e,n){if(!jo(e))throw e;t.k_.add(1),await Da(t),t.K_.set("Offline"),n||(n=()=>qE(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{q("RemoteStore","Retrying IndexedDB access"),await n(),t.k_.delete(1),await Tc(t)})}function e1(t,e){return e().catch(n=>Vu(t,n,e))}async function Sc(t){const e=oe(t),n=$r(e);let r=e.L_.length>0?e.L_[e.L_.length-1].batchId:-1;for(;ab(e);)try{const i=await YA(e.localStore,r);if(i===null){e.L_.length===0&&n.a_();break}r=i.batchId,lb(e,i)}catch(i){await Vu(e,i)}t1(e)&&n1(e)}function ab(t){return Ii(t)&&t.L_.length<10}function lb(t,e){t.L_.push(e);const n=$r(t);n.s_()&&n.f_&&n.g_(e.mutations)}function t1(t){return Ii(t)&&!$r(t).i_()&&t.L_.length>0}function n1(t){$r(t).start()}async function ub(t){$r(t).w_()}async function cb(t){const e=$r(t);for(const n of t.L_)e.g_(n.mutations)}async function db(t,e,n){const r=t.L_.shift(),i=Lp.from(r,e,n);await e1(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Sc(t)}async function hb(t,e){e&&$r(t).f_&&await async function(r,i){if(function(s){return Xx(s)&&s!==j.ABORTED}(i.code)){const o=r.L_.shift();$r(r).__(),await e1(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await Sc(r)}}(t,e),t1(t)&&n1(t)}async function mv(t,e){const n=oe(t);n.asyncQueue.verifyOperationInProgress(),q("RemoteStore","RemoteStore received new credentials");const r=Ii(n);n.k_.add(3),await Da(n),r&&n.K_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.k_.delete(3),await Tc(n)}async function fb(t,e){const n=oe(t);e?(n.k_.delete(2),await Tc(n)):e||(n.k_.add(2),await Da(n),n.K_.set("Unknown"))}function $o(t){return t.W_||(t.W_=function(n,r,i){const o=oe(n);return o.b_(),new JA(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Ro:rb.bind(null,t),mo:ib.bind(null,t),po:ob.bind(null,t),R_:sb.bind(null,t)}),t.q_.push(async e=>{e?(t.W_.__(),Wp(t)?Yp(t):t.K_.set("Unknown")):(await t.W_.stop(),ZE(t))})),t.W_}function $r(t){return t.G_||(t.G_=function(n,r,i){const o=oe(n);return o.b_(),new ZA(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Ro:()=>Promise.resolve(),mo:ub.bind(null,t),po:hb.bind(null,t),p_:cb.bind(null,t),y_:db.bind(null,t)}),t.q_.push(async e=>{e?(t.G_.__(),await Sc(t)):(await t.G_.stop(),t.L_.length>0&&(q("RemoteStore",`Stopping write stream with ${t.L_.length} pending writes`),t.L_=[]))})),t.G_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hp{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new br,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const s=Date.now()+r,a=new Hp(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new G(j.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Qp(t,e){if(or("AsyncQueue",`${e}: ${t}`),jo(t))return new G(j.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo{static emptySet(e){return new oo(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||ee.comparator(n.key,r.key):(n,r)=>ee.comparator(n.key,r.key),this.keyedMap=Ss(),this.sortedSet=new Be(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof oo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new oo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gv{constructor(){this.z_=new Be(ee.comparator)}track(e){const n=e.doc.key,r=this.z_.get(n);r?e.type!==0&&r.type===3?this.z_=this.z_.insert(n,e):e.type===3&&r.type!==1?this.z_=this.z_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.z_=this.z_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.z_=this.z_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.z_=this.z_.remove(n):e.type===1&&r.type===2?this.z_=this.z_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.z_=this.z_.insert(n,{type:2,doc:e.doc}):re():this.z_=this.z_.insert(n,e)}j_(){const e=[];return this.z_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Po{constructor(e,n,r,i,o,s,a,u,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,o){const s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new Po(e,n,oo.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&gc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pb{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some(e=>e.Z_())}}class mb{constructor(){this.queries=yv(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(n,r){const i=oe(n),o=i.queries;i.queries=yv(),o.forEach((s,a)=>{for(const u of a.J_)u.onError(r)})})(this,new G(j.ABORTED,"Firestore shutting down"))}}function yv(){return new ki(t=>SE(t),gc)}async function gb(t,e){const n=oe(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.Y_()&&e.Z_()&&(r=2):(o=new pb,r=e.Z_()?0:1);try{switch(r){case 0:o.H_=await n.onListen(i,!0);break;case 1:o.H_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(s){const a=Qp(s,`Initialization of query '${Li(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,o),o.J_.push(e),e.ea(n.onlineState),o.H_&&e.ta(o.H_)&&qp(n)}async function yb(t,e){const n=oe(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const s=o.J_.indexOf(e);s>=0&&(o.J_.splice(s,1),o.J_.length===0?i=e.Z_()?0:1:!o.Y_()&&e.Z_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function vb(t,e){const n=oe(t);let r=!1;for(const i of e){const o=i.query,s=n.queries.get(o);if(s){for(const a of s.J_)a.ta(i)&&(r=!0);s.H_=i}}r&&qp(n)}function _b(t,e,n){const r=oe(t),i=r.queries.get(e);if(i)for(const o of i.J_)o.onError(n);r.queries.delete(e)}function qp(t){t.X_.forEach(e=>{e.next()})}var pf,vv;(vv=pf||(pf={})).na="default",vv.Cache="cache";class wb{constructor(e,n,r){this.query=e,this.ra=n,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=r||{}}ta(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Po(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ia?this.oa(e)&&(this.ra.next(e),n=!0):this._a(e,this.onlineState)&&(this.aa(e),n=!0),this.sa=e,n}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let n=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),n=!0),n}_a(e,n){if(!e.fromCache||!this.Z_())return!0;const r=n!=="Offline";return(!this.options.ua||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}oa(e){if(e.docChanges.length>0)return!0;const n=this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}aa(e){e=Po.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==pf.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r1{constructor(e){this.key=e}}class i1{constructor(e){this.key=e}}class Eb{constructor(e,n){this.query=e,this.da=n,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=ue(),this.mutatedKeys=ue(),this.Va=DE(e),this.ma=new oo(this.Va)}get fa(){return this.da}ga(e,n){const r=n?n.pa:new gv,i=n?n.ma:this.ma;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1;const u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,f)=>{const p=i.get(d),g=yc(this.query,f)?f:null,D=!!p&&this.mutatedKeys.has(p.key),I=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let k=!1;p&&g?p.data.isEqual(g.data)?D!==I&&(r.track({type:3,doc:g}),k=!0):this.ya(p,g)||(r.track({type:2,doc:g}),k=!0,(u&&this.Va(g,u)>0||c&&this.Va(g,c)<0)&&(a=!0)):!p&&g?(r.track({type:0,doc:g}),k=!0):p&&!g&&(r.track({type:1,doc:p}),k=!0,(u||c)&&(a=!0)),k&&(g?(s=s.add(g),o=I?o.add(d):o.delete(d)):(s=s.delete(d),o=o.delete(d)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const d=this.query.limitType==="F"?s.last():s.first();s=s.delete(d.key),o=o.delete(d.key),r.track({type:1,doc:d})}return{ma:s,pa:r,ss:a,mutatedKeys:o}}ya(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;const s=e.pa.j_();s.sort((d,f)=>function(g,D){const I=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return re()}};return I(g)-I(D)}(d.type,f.type)||this.Va(d.doc,f.doc)),this.wa(r),i=i!=null&&i;const a=n&&!i?this.Sa():[],u=this.Ra.size===0&&this.current&&!i?1:0,c=u!==this.Aa;return this.Aa=u,s.length!==0||c?{snapshot:new Po(this.query,e.ma,o,s,e.mutatedKeys,u===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),ba:a}:{ba:a}}ea(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ma:this.ma,pa:new gv,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.da.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach(n=>this.da=this.da.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.da=this.da.delete(n)),this.current=e.current)}Sa(){if(!this.current)return[];const e=this.Ra;this.Ra=ue(),this.ma.forEach(r=>{this.Da(r.key)&&(this.Ra=this.Ra.add(r.key))});const n=[];return e.forEach(r=>{this.Ra.has(r)||n.push(new i1(r))}),this.Ra.forEach(r=>{e.has(r)||n.push(new r1(r))}),n}va(e){this.da=e.ds,this.Ra=ue();const n=this.ga(e.documents);return this.applyChanges(n,!0)}Ca(){return Po.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,this.Aa===0,this.hasCachedResults)}}class Tb{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Sb{constructor(e){this.key=e,this.Fa=!1}}class Db{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Ma={},this.xa=new ki(a=>SE(a),gc),this.Oa=new Map,this.Na=new Set,this.La=new Be(ee.comparator),this.Ba=new Map,this.ka=new Bp,this.qa={},this.Qa=new Map,this.Ka=Io.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function kb(t,e,n=!0){const r=c1(t);let i;const o=r.xa.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Ca()):i=await o1(r,e,n,!0),i}async function Cb(t,e){const n=c1(t);await o1(n,e,!0,!1)}async function o1(t,e,n,r){const i=await WA(t.localStore,xn(e)),o=i.targetId,s=t.sharedClientState.addLocalQueryTarget(o,n);let a;return r&&(a=await Ib(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&XE(t.remoteStore,i),a}async function Ib(t,e,n,r,i){t.Ua=(f,p,g)=>async function(I,k,v,_){let E=k.view.ga(v);E.ss&&(E=await hv(I.localStore,k.query,!1).then(({documents:T})=>k.view.ga(T,E)));const A=_&&_.targetChanges.get(k.targetId),N=_&&_.targetMismatches.get(k.targetId)!=null,O=k.view.applyChanges(E,I.isPrimaryClient,A,N);return wv(I,k.targetId,O.ba),O.snapshot}(t,f,p,g);const o=await hv(t.localStore,e,!0),s=new Eb(e,o.ds),a=s.ga(o.documents),u=Sa.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=s.applyChanges(a,t.isPrimaryClient,u);wv(t,n,c.ba);const d=new Tb(e,n,s);return t.xa.set(e,d),t.Oa.has(n)?t.Oa.get(n).push(e):t.Oa.set(n,[e]),c.snapshot}async function Pb(t,e,n){const r=oe(t),i=r.xa.get(e),o=r.Oa.get(i.targetId);if(o.length>1)return r.Oa.set(i.targetId,o.filter(s=>!gc(s,e))),void r.xa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await ff(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&$p(r.remoteStore,i.targetId),mf(r,i.targetId)}).catch(Uo)):(mf(r,i.targetId),await ff(r.localStore,i.targetId,!0))}async function Rb(t,e){const n=oe(t),r=n.xa.get(e),i=n.Oa.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),$p(n.remoteStore,r.targetId))}async function xb(t,e,n){const r=Vb(t);try{const i=await function(s,a){const u=oe(s),c=Je.now(),d=a.reduce((g,D)=>g.add(D.key),ue());let f,p;return u.persistence.runTransaction("Locally write mutations","readwrite",g=>{let D=sr(),I=ue();return u.hs.getEntries(g,d).next(k=>{D=k,D.forEach((v,_)=>{_.isValidDocument()||(I=I.add(v))})}).next(()=>u.localDocuments.getOverlayedDocuments(g,D)).next(k=>{f=k;const v=[];for(const _ of a){const E=Hx(_,f.get(_.key).overlayedDocument);E!=null&&v.push(new Ci(_.key,E,pE(E.value.mapValue),An.exists(!0)))}return u.mutationQueue.addMutationBatch(g,c,v,a)}).next(k=>{p=k;const v=k.applyToLocalDocumentSet(f,I);return u.documentOverlayCache.saveOverlays(g,k.batchId,v)})}).then(()=>({batchId:p.batchId,changes:CE(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,u){let c=s.qa[s.currentUser.toKey()];c||(c=new Be(ce)),c=c.insert(a,u),s.qa[s.currentUser.toKey()]=c}(r,i.batchId,n),await ka(r,i.changes),await Sc(r.remoteStore)}catch(i){const o=Qp(i,"Failed to persist write");n.reject(o)}}async function s1(t,e){const n=oe(t);try{const r=await $A(n.localStore,e);e.targetChanges.forEach((i,o)=>{const s=n.Ba.get(o);s&&(_e(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.Fa=!0:i.modifiedDocuments.size>0?_e(s.Fa):i.removedDocuments.size>0&&(_e(s.Fa),s.Fa=!1))}),await ka(n,r,e)}catch(r){await Uo(r)}}function _v(t,e,n){const r=oe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.xa.forEach((o,s)=>{const a=s.view.ea(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){const u=oe(s);u.onlineState=a;let c=!1;u.queries.forEach((d,f)=>{for(const p of f.J_)p.ea(a)&&(c=!0)}),c&&qp(u)}(r.eventManager,e),i.length&&r.Ma.R_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Ab(t,e,n){const r=oe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Ba.get(e),o=i&&i.key;if(o){let s=new Be(ee.comparator);s=s.insert(o,wt.newNoDocument(o,ie.min()));const a=ue().add(o),u=new wc(ie.min(),new Map,new Be(ce),s,a);await s1(r,u),r.La=r.La.remove(o),r.Ba.delete(e),Kp(r)}else await ff(r.localStore,e,!1).then(()=>mf(r,e,n)).catch(Uo)}async function bb(t,e){const n=oe(t),r=e.batch.batchId;try{const i=await jA(n.localStore,e);l1(n,r,null),a1(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await ka(n,i)}catch(i){await Uo(i)}}async function Mb(t,e,n){const r=oe(t);try{const i=await function(s,a){const u=oe(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let d;return u.mutationQueue.lookupMutationBatch(c,a).next(f=>(_e(f!==null),d=f.keys(),u.mutationQueue.removeMutationBatch(c,f))).next(()=>u.mutationQueue.performConsistencyCheck(c)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(c,d,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,d)).next(()=>u.localDocuments.getDocuments(c,d))})}(r.localStore,e);l1(r,e,n),a1(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await ka(r,i)}catch(i){await Uo(i)}}function a1(t,e){(t.Qa.get(e)||[]).forEach(n=>{n.resolve()}),t.Qa.delete(e)}function l1(t,e,n){const r=oe(t);let i=r.qa[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.qa[r.currentUser.toKey()]=i}}function mf(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Oa.get(e))t.xa.delete(r),n&&t.Ma.Wa(r,n);t.Oa.delete(e),t.isPrimaryClient&&t.ka.yr(e).forEach(r=>{t.ka.containsKey(r)||u1(t,r)})}function u1(t,e){t.Na.delete(e.path.canonicalString());const n=t.La.get(e);n!==null&&($p(t.remoteStore,n),t.La=t.La.remove(e),t.Ba.delete(n),Kp(t))}function wv(t,e,n){for(const r of n)r instanceof r1?(t.ka.addReference(r.key,e),Nb(t,r)):r instanceof i1?(q("SyncEngine","Document no longer in limbo: "+r.key),t.ka.removeReference(r.key,e),t.ka.containsKey(r.key)||u1(t,r.key)):re()}function Nb(t,e){const n=e.key,r=n.path.canonicalString();t.La.get(n)||t.Na.has(r)||(q("SyncEngine","New document in limbo: "+n),t.Na.add(r),Kp(t))}function Kp(t){for(;t.Na.size>0&&t.La.size<t.maxConcurrentLimboResolutions;){const e=t.Na.values().next().value;t.Na.delete(e);const n=new ee(Re.fromString(e)),r=t.Ka.next();t.Ba.set(r,new Sb(n)),t.La=t.La.insert(n,r),XE(t.remoteStore,new _r(xn(EE(n.path)),r,"TargetPurposeLimboResolution",fc.oe))}}async function ka(t,e,n){const r=oe(t),i=[],o=[],s=[];r.xa.isEmpty()||(r.xa.forEach((a,u)=>{s.push(r.Ua(u,e,n).then(c=>{var d;if((c||n)&&r.isPrimaryClient){const f=c?!c.fromCache:(d=n==null?void 0:n.targetChanges.get(u.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(u.targetId,f?"current":"not-current")}if(c){i.push(c);const f=jp.zi(u.targetId,c);o.push(f)}}))}),await Promise.all(s),r.Ma.R_(i),await async function(u,c){const d=oe(u);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>B.forEach(c,p=>B.forEach(p.Wi,g=>d.persistence.referenceDelegate.addReference(f,p.targetId,g)).next(()=>B.forEach(p.Gi,g=>d.persistence.referenceDelegate.removeReference(f,p.targetId,g)))))}catch(f){if(!jo(f))throw f;q("LocalStore","Failed to update sequence numbers: "+f)}for(const f of c){const p=f.targetId;if(!f.fromCache){const g=d.us.get(p),D=g.snapshotVersion,I=g.withLastLimboFreeSnapshotVersion(D);d.us=d.us.insert(p,I)}}}(r.localStore,o))}async function Ob(t,e){const n=oe(t);if(!n.currentUser.isEqual(e)){q("SyncEngine","User change. New user:",e.toKey());const r=await QE(n.localStore,e);n.currentUser=e,function(o,s){o.Qa.forEach(a=>{a.forEach(u=>{u.reject(new G(j.CANCELLED,s))})}),o.Qa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await ka(n,r.Ts)}}function Lb(t,e){const n=oe(t),r=n.Ba.get(e);if(r&&r.Fa)return ue().add(r.key);{let i=ue();const o=n.Oa.get(e);if(!o)return i;for(const s of o){const a=n.xa.get(s);i=i.unionWith(a.view.fa)}return i}}function c1(t){const e=oe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=s1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Lb.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Ab.bind(null,e),e.Ma.R_=vb.bind(null,e.eventManager),e.Ma.Wa=_b.bind(null,e.eventManager),e}function Vb(t){const e=oe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=bb.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Mb.bind(null,e),e}class Fu{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ec(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,n){return null}Ya(e,n){return null}Ha(e){return UA(this.persistence,new FA,e.initialUser,this.serializer)}ja(e){return new HE(Up.ei,this.serializer)}za(e){return new QA}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Fu.provider={build:()=>new Fu};class Fb extends Fu{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,n){_e(this.persistence.referenceDelegate instanceof Lu);const r=this.persistence.referenceDelegate.garbageCollector;return new SA(r,e.asyncQueue,n)}ja(e){const n=this.cacheSizeBytes!==void 0?At.withCacheSize(this.cacheSizeBytes):At.DEFAULT;return new HE(r=>Lu.ei(r,n),this.serializer)}}class gf{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>_v(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Ob.bind(null,this.syncEngine),await fb(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new mb}()}createDatastore(e){const n=Ec(e.databaseInfo.databaseId),r=function(o){return new XA(o)}(e.databaseInfo);return function(o,s,a,u){return new eb(o,s,a,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,s,a){return new nb(r,i,o,s,a)}(this.localStore,this.datastore,e.asyncQueue,n=>_v(this.syncEngine,n,0),function(){return pv.p()?new pv:new qA}())}createSyncEngine(e,n){return function(i,o,s,a,u,c,d){const f=new Db(i,o,s,a,u,c);return d&&(f.$a=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const o=oe(i);q("RemoteStore","RemoteStore shutting down."),o.k_.add(5),await Da(o),o.Q_.shutdown(),o.K_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}gf.provider={build:()=>new gf};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bb{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):or("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ub{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=vt.UNAUTHENTICATED,this.clientId=dE.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async s=>{q("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(q("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new br;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Qp(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function jd(t,e){t.asyncQueue.verifyOperationInProgress(),q("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await QE(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Ev(t,e){t.asyncQueue.verifyOperationInProgress();const n=await jb(t);q("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>mv(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>mv(e.remoteStore,i)),t._onlineComponents=e}async function jb(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){q("FirestoreClient","Using user provided OfflineComponentProvider");try{await jd(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===j.FAILED_PRECONDITION||i.code===j.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;So("Error using user provided cache. Falling back to memory cache: "+n),await jd(t,new Fu)}}else q("FirestoreClient","Using default OfflineComponentProvider"),await jd(t,new Fb(void 0));return t._offlineComponents}async function d1(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(q("FirestoreClient","Using user provided OnlineComponentProvider"),await Ev(t,t._uninitializedComponentsProvider._online)):(q("FirestoreClient","Using default OnlineComponentProvider"),await Ev(t,new gf))),t._onlineComponents}function $b(t){return d1(t).then(e=>e.syncEngine)}async function zb(t){const e=await d1(t),n=e.eventManager;return n.onListen=kb.bind(null,e.syncEngine),n.onUnlisten=Pb.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Cb.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Rb.bind(null,e.syncEngine),n}function Yb(t,e,n={}){const r=new br;return t.asyncQueue.enqueueAndForget(async()=>function(o,s,a,u,c){const d=new Bb({next:p=>{d.eu(),s.enqueueAndForget(()=>yb(o,f)),p.fromCache&&u.source==="server"?c.reject(new G(j.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(p)},error:p=>c.reject(p)}),f=new wb(a,d,{includeMetadataChanges:!0,ua:!0});return gb(o,f)}(await zb(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h1(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tv=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f1(t,e,n){if(!n)throw new G(j.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Wb(t,e,n,r){if(e===!0&&r===!0)throw new G(j.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Sv(t){if(!ee.isDocumentKey(t))throw new G(j.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Dv(t){if(ee.isDocumentKey(t))throw new G(j.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Dc(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":re()}function Ro(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new G(j.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Dc(t);throw new G(j.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kv{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new G(j.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new G(j.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Wb("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=h1((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new G(j.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new G(j.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new G(j.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class kc{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new kv({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new G(j.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new G(j.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new kv(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new ZR;switch(r.type){case"firstParty":return new rx(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new G(j.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Tv.get(n);r&&(q("ComponentProvider","Removing Datastore"),Tv.delete(n),r.terminate())}(this),Promise.resolve()}}function Hb(t,e,n,r={}){var i;const o=(t=Ro(t,kc))._getSettings(),s=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&So("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,u;if(typeof r.mockUserToken=="string")a=r.mockUserToken,u=vt.MOCK_USER;else{a=bP(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new G(j.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new vt(c)}t._authCredentials=new ex(new cE(a,u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zo{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new zo(this.firestore,e,this._query)}}class Wt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Mr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Wt(this.firestore,e,this._key)}}class Mr extends zo{constructor(e,n,r){super(e,n,EE(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Wt(this.firestore,null,new ee(e))}withConverter(e){return new Mr(this.firestore,e,this._path)}}function vl(t,e,...n){if(t=To(t),f1("collection","path",e),t instanceof kc){const r=Re.fromString(e,...n);return Dv(r),new Mr(t,null,r)}{if(!(t instanceof Wt||t instanceof Mr))throw new G(j.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Re.fromString(e,...n));return Dv(r),new Mr(t.firestore,null,r)}}function p1(t,e,...n){if(t=To(t),arguments.length===1&&(e=dE.newId()),f1("doc","path",e),t instanceof kc){const r=Re.fromString(e,...n);return Sv(r),new Wt(t,null,new ee(r))}{if(!(t instanceof Wt||t instanceof Mr))throw new G(j.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Re.fromString(e,...n));return Sv(r),new Wt(t.firestore,t instanceof Mr?t.converter:null,new ee(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cv{constructor(e=Promise.resolve()){this.Iu=[],this.Eu=!1,this.du=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new KE(this,"async_queue_retry"),this.fu=()=>{const r=Ud();r&&q("AsyncQueue","Visibility state changed to "+r.visibilityState),this.r_.Jo()},this.gu=e;const n=Ud();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.Eu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.Eu){this.Eu=!0,this.Vu=e||!1;const n=Ud();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.Eu)return new Promise(()=>{});const n=new br;return this.yu(()=>this.Eu&&this.Vu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Iu.push(e),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(e){if(!jo(e))throw e;q("AsyncQueue","Operation failed with retryable error: "+e)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(e){const n=this.gu.then(()=>(this.Ru=!0,e().catch(r=>{this.Au=r,this.Ru=!1;const i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw or("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Ru=!1,r))));return this.gu=n,n}enqueueAfterDelay(e,n,r){this.pu(),this.mu.indexOf(e)>-1&&(n=0);const i=Hp.createAndSchedule(this,e,n,r,o=>this.Su(o));return this.du.push(i),i}pu(){this.Au&&re()}verifyOperationInProgress(){}async bu(){let e;do e=this.gu,await e;while(e!==this.gu)}Du(e){for(const n of this.du)if(n.timerId===e)return!0;return!1}vu(e){return this.bu().then(()=>{this.du.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.du)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.bu()})}Cu(e){this.mu.push(e)}Su(e){const n=this.du.indexOf(e);this.du.splice(n,1)}}class Cc extends kc{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new Cv,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Cv(e),this._firestoreClient=void 0,await e}}}function Qb(t,e){const n=typeof t=="object"?t:jR(),r=typeof t=="string"?t:"(default)",i=VR(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=xP("firestore");o&&Hb(i,...o)}return i}function m1(t){if(t._terminated)throw new G(j.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||qb(t),t._firestoreClient}function qb(t){var e,n,r;const i=t._freezeSettings(),o=function(a,u,c,d){return new vx(a,u,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,h1(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new Ub(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(a){const u=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(u),_online:u}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new xo(dt.fromBase64String(e))}catch(n){throw new G(j.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new xo(dt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gp{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new G(j.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new lt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g1{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xp{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new G(j.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new G(j.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ce(this._lat,e._lat)||ce(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jp{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kb=/^__.*__$/;class Gb{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Ci(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ta(e,this.data,n,this.fieldTransforms)}}function y1(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw re()}}class Zp{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Fu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(e){return new Zp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.xu({path:r,Nu:!1});return i.Lu(e),i}Bu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.xu({path:r,Nu:!1});return i.Fu(),i}ku(e){return this.xu({path:void 0,Nu:!0})}qu(e){return Bu(e,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Fu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Lu(this.path.get(e))}Lu(e){if(e.length===0)throw this.qu("Document fields must not be empty");if(y1(this.Mu)&&Kb.test(e))throw this.qu('Document fields cannot begin and end with "__"')}}class Xb{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Ec(e)}$u(e,n,r,i=!1){return new Zp({Mu:e,methodName:n,Ku:r,path:lt.emptyPath(),Nu:!1,Qu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function em(t){const e=t._freezeSettings(),n=Ec(t._databaseId);return new Xb(t._databaseId,!!e.ignoreUndefinedProperties,n)}function v1(t,e,n,r,i,o={}){const s=t.$u(o.merge||o.mergeFields?2:0,e,n,i);E1("Data must be an object, but it was:",s,r);const a=_1(r,s);let u,c;if(o.merge)u=new hn(s.fieldMask),c=s.fieldTransforms;else if(o.mergeFields){const d=[];for(const f of o.mergeFields){const p=Zb(e,f,n);if(!s.contains(p))throw new G(j.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);tM(d,p)||d.push(p)}u=new hn(d),c=s.fieldTransforms.filter(f=>u.covers(f.field))}else u=null,c=s.fieldTransforms;return new Gb(new en(a),u,c)}function Jb(t,e,n,r=!1){return tm(n,t.$u(r?4:3,e))}function tm(t,e){if(w1(t=To(t)))return E1("Unsupported field value:",e,t),_1(t,e);if(t instanceof g1)return function(r,i){if(!y1(i.Mu))throw i.qu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.qu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Nu&&e.Mu!==4)throw e.qu("Nested arrays are not supported");return function(r,i){const o=[];let s=0;for(const a of r){let u=tm(a,i.ku(s));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=To(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Ux(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=Je.fromDate(r);return{timestampValue:Ou(i.serializer,o)}}if(r instanceof Je){const o=new Je(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Ou(i.serializer,o)}}if(r instanceof Xp)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof xo)return{bytesValue:BE(i.serializer,r._byteString)};if(r instanceof Wt){const o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.qu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Fp(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Jp)return function(s,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map(u=>{if(typeof u!="number")throw a.qu("VectorValues must only contain numeric values.");return Op(a.serializer,u)})}}}}}}(r,i);throw i.qu(`Unsupported field value: ${Dc(r)}`)}(t,e)}function _1(t,e){const n={};return hE(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Di(t,(r,i)=>{const o=tm(i,e.Ou(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function w1(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Je||t instanceof Xp||t instanceof xo||t instanceof Wt||t instanceof g1||t instanceof Jp)}function E1(t,e,n){if(!w1(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Dc(n);throw r==="an object"?e.qu(t+" a custom object"):e.qu(t+" "+r)}}function Zb(t,e,n){if((e=To(e))instanceof Gp)return e._internalPath;if(typeof e=="string")return T1(t,e);throw Bu("Field path arguments must be of type string or ",t,!1,void 0,n)}const eM=new RegExp("[~\\*/\\[\\]]");function T1(t,e,n){if(e.search(eM)>=0)throw Bu(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Gp(...e.split("."))._internalPath}catch{throw Bu(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Bu(t,e,n,r,i){const o=r&&!r.isEmpty(),s=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new G(j.INVALID_ARGUMENT,a+t+u)}function tM(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S1{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Wt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new nM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(nm("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class nM extends S1{data(){return super.data()}}function nm(t,e){return typeof e=="string"?T1(t,e):e instanceof Gp?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rM(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new G(j.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class rm{}class iM extends rm{}function oM(t,e,...n){let r=[];e instanceof rm&&r.push(e),r=r.concat(n),function(o){const s=o.filter(u=>u instanceof im).length,a=o.filter(u=>u instanceof Ic).length;if(s>1||s>0&&a>0)throw new G(j.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Ic extends iM{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Ic(e,n,r)}_apply(e){const n=this._parse(e);return D1(e._query,n),new zo(e.firestore,e.converter,af(e._query,n))}_parse(e){const n=em(e.firestore);return function(o,s,a,u,c,d,f){let p;if(c.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new G(j.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){Pv(f,d);const g=[];for(const D of f)g.push(Iv(u,o,D));p={arrayValue:{values:g}}}else p=Iv(u,o,f)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||Pv(f,d),p=Jb(a,s,f,d==="in"||d==="not-in");return Ke.create(c,d,p)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function sM(t,e,n){const r=e,i=nm("where",t);return Ic._create(i,r,n)}class im extends rm{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new im(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:yn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,o){let s=i;const a=o.getFlattenedFilters();for(const u of a)D1(s,u),s=af(s,u)}(e._query,n),new zo(e.firestore,e.converter,af(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function Iv(t,e,n){if(typeof(n=To(n))=="string"){if(n==="")throw new G(j.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!TE(e)&&n.indexOf("/")!==-1)throw new G(j.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Re.fromString(n));if(!ee.isDocumentKey(r))throw new G(j.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return qy(t,new ee(r))}if(n instanceof Wt)return qy(t,n._key);throw new G(j.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Dc(n)}.`)}function Pv(t,e){if(!Array.isArray(t)||t.length===0)throw new G(j.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function D1(t,e){const n=function(i,o){for(const s of i)for(const a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new G(j.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new G(j.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class aM{convertValue(e,n="none"){switch(jr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ze(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ur(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw re()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Di(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,i;const o=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>ze(s.doubleValue));return new Jp(o)}convertGeoPoint(e){return new Xp(ze(e.latitude),ze(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=mc(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(ua(e));default:return null}}convertTimestamp(e){const n=Br(e);return new Je(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Re.fromString(e);_e(WE(r));const i=new ca(r.get(1),r.get(3)),o=new ee(r.popFirst(5));return i.isEqual(n)||or(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k1(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _l{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class lM extends S1{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Hl(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(nm("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Hl extends lM{data(e={}){return super.data(e)}}class uM{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new _l(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Hl(this._firestore,this._userDataWriter,r.key,r,new _l(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new G(j.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{const u=new Hl(i._firestore,i._userDataWriter,a.doc.key,a.doc,new _l(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{const u=new Hl(i._firestore,i._userDataWriter,a.doc.key,a.doc,new _l(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,d=-1;return a.type!==0&&(c=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),d=s.indexOf(a.doc.key)),{type:cM(a.type),doc:u,oldIndex:c,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function cM(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return re()}}class dM extends aM{constructor(e){super(),this.firestore=e}convertBytes(e){return new xo(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Wt(this.firestore,null,n)}}function $d(t){t=Ro(t,zo);const e=Ro(t.firestore,Cc),n=m1(e),r=new dM(e);return rM(t._query),Yb(n,t._query).then(i=>new uM(e,r,t,i))}function hM(t,e,n){t=Ro(t,Wt);const r=Ro(t.firestore,Cc),i=k1(t.converter,e,n);return C1(r,[v1(em(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,An.none())])}function fM(t,e){const n=Ro(t.firestore,Cc),r=p1(t),i=k1(t.converter,e);return C1(n,[v1(em(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,An.exists(!1))]).then(()=>r)}function C1(t,e){return function(r,i){const o=new br;return r.asyncQueue.enqueueAndForget(async()=>xb(await $b(r),i,o)),o.promise}(m1(t),e)}(function(e,n=!0){(function(i){Bo=i})(UR),Ru(new sa("firestore",(r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),a=new Cc(new tx(r.getProvider("auth-internal")),new ox(r.getProvider("app-check-internal")),function(c,d){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new G(j.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ca(c.options.projectId,d)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),io($y,"4.7.5",e),io($y,"4.7.5","esm2017")})();const pM={apiKey:"AIzaSyBEQ4Yk8OvBQII1uVmdm6HisnT5PZF34e0",authDomain:"rota-scheduler-cc485.firebaseapp.com",projectId:"rota-scheduler-cc485",storageBucket:"rota-scheduler-cc485.firebasestorage.app",messagingSenderId:"677039349773",appId:"1:677039349773:web:7cf204d16a737d60d8b544",databaseURL:void 0},mM=tE(pM),ms=Qb(mM);class Ao{static async getAllMembers(e){try{const n=vl(ms,`churches/${e}/members`);return(await $d(n)).docs.map(i=>({...i.data(),id:i.id}))}catch(n){throw console.error("Error retrieving members:",n),n}}static async addMember(e,n){if(await this.checkIfMemberExists(e.name,n))throw new Error("Member already exists");const i=vl(ms,`churches/${n}/members`);await fM(i,{...e,name:e.name.toLowerCase()})}static async checkIfMemberExists(e,n){const r=vl(ms,`churches/${n}/members`),i=oM(r,sM("name","==",e.toLowerCase()));return!(await $d(i)).empty}static async getSchedules(e,n){const r=vl(ms,`churches/${e}/teams/${n}/schedules`);return(await $d(r)).docs.map(o=>({id:o.id,...o.data()}))}static async updateSchedule(e,n,r){const i=p1(ms,`churches/${e}/teams/${n}/schedules/${r.date}`);await hM(i,r,{merge:!0})}}function I1(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=I1(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function nt(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=I1(t))&&(r&&(r+=" "),r+=e);return r}function Pc(){return typeof window<"u"}function Yo(t){return P1(t)?(t.nodeName||"").toLowerCase():"#document"}function Ht(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Ln(t){var e;return(e=(P1(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function P1(t){return Pc()?t instanceof Node||t instanceof Ht(t).Node:!1}function It(t){return Pc()?t instanceof Element||t instanceof Ht(t).Element:!1}function On(t){return Pc()?t instanceof HTMLElement||t instanceof Ht(t).HTMLElement:!1}function Rv(t){return!Pc()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Ht(t).ShadowRoot}function Ca(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=sn(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(i)}function gM(t){return["table","td","th"].includes(Yo(t))}function Rc(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function om(t){const e=sm(),n=It(t)?sn(t):t;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function yM(t){let e=zr(t);for(;On(e)&&!bo(e);){if(om(e))return e;if(Rc(e))return null;e=zr(e)}return null}function sm(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function bo(t){return["html","body","#document"].includes(Yo(t))}function sn(t){return Ht(t).getComputedStyle(t)}function xc(t){return It(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function zr(t){if(Yo(t)==="html")return t;const e=t.assignedSlot||t.parentNode||Rv(t)&&t.host||Ln(t);return Rv(e)?e.host:e}function R1(t){const e=zr(t);return bo(e)?t.ownerDocument?t.ownerDocument.body:t.body:On(e)&&Ca(e)?e:R1(e)}function pa(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=R1(t),o=i===((r=t.ownerDocument)==null?void 0:r.body),s=Ht(i);if(o){const a=yf(s);return e.concat(s,s.visualViewport||[],Ca(i)?i:[],a&&n?pa(a):[])}return e.concat(i,pa(i,[],n))}function yf(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}const Mo=Math.min,ci=Math.max,Uu=Math.round,wl=Math.floor,Mn=t=>({x:t,y:t}),vM={left:"right",right:"left",bottom:"top",top:"bottom"},_M={start:"end",end:"start"};function wM(t,e,n){return ci(t,Mo(e,n))}function Ac(t,e){return typeof t=="function"?t(e):t}function No(t){return t.split("-")[0]}function Ia(t){return t.split("-")[1]}function EM(t){return t==="x"?"y":"x"}function am(t){return t==="y"?"height":"width"}function ma(t){return["top","bottom"].includes(No(t))?"y":"x"}function lm(t){return EM(ma(t))}function TM(t,e,n){n===void 0&&(n=!1);const r=Ia(t),i=lm(t),o=am(i);let s=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(s=ju(s)),[s,ju(s)]}function SM(t){const e=ju(t);return[vf(t),e,vf(e)]}function vf(t){return t.replace(/start|end/g,e=>_M[e])}function DM(t,e,n){const r=["left","right"],i=["right","left"],o=["top","bottom"],s=["bottom","top"];switch(t){case"top":case"bottom":return n?e?i:r:e?r:i;case"left":case"right":return e?o:s;default:return[]}}function kM(t,e,n,r){const i=Ia(t);let o=DM(No(t),n==="start",r);return i&&(o=o.map(s=>s+"-"+i),e&&(o=o.concat(o.map(vf)))),o}function ju(t){return t.replace(/left|right|bottom|top/g,e=>vM[e])}function CM(t){return{top:0,right:0,bottom:0,left:0,...t}}function x1(t){return typeof t!="number"?CM(t):{top:t,right:t,bottom:t,left:t}}function $u(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function xv(t,e,n){let{reference:r,floating:i}=t;const o=ma(e),s=lm(e),a=am(s),u=No(e),c=o==="y",d=r.x+r.width/2-i.width/2,f=r.y+r.height/2-i.height/2,p=r[a]/2-i[a]/2;let g;switch(u){case"top":g={x:d,y:r.y-i.height};break;case"bottom":g={x:d,y:r.y+r.height};break;case"right":g={x:r.x+r.width,y:f};break;case"left":g={x:r.x-i.width,y:f};break;default:g={x:r.x,y:r.y}}switch(Ia(e)){case"start":g[s]-=p*(n&&c?-1:1);break;case"end":g[s]+=p*(n&&c?-1:1);break}return g}const IM=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:o=[],platform:s}=n,a=o.filter(Boolean),u=await(s.isRTL==null?void 0:s.isRTL(e));let c=await s.getElementRects({reference:t,floating:e,strategy:i}),{x:d,y:f}=xv(c,r,u),p=r,g={},D=0;for(let I=0;I<a.length;I++){const{name:k,fn:v}=a[I],{x:_,y:E,data:A,reset:N}=await v({x:d,y:f,initialPlacement:r,placement:p,strategy:i,middlewareData:g,rects:c,platform:s,elements:{reference:t,floating:e}});d=_??d,f=E??f,g={...g,[k]:{...g[k],...A}},N&&D<=50&&(D++,typeof N=="object"&&(N.placement&&(p=N.placement),N.rects&&(c=N.rects===!0?await s.getElementRects({reference:t,floating:e,strategy:i}):N.rects),{x:d,y:f}=xv(c,p,u)),I=-1)}return{x:d,y:f,placement:p,strategy:i,middlewareData:g}};async function PM(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:o,rects:s,elements:a,strategy:u}=t,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:p=!1,padding:g=0}=Ac(e,t),D=x1(g),k=a[p?f==="floating"?"reference":"floating":f],v=$u(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(k)))==null||n?k:k.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(a.floating)),boundary:c,rootBoundary:d,strategy:u})),_=f==="floating"?{x:r,y:i,width:s.floating.width,height:s.floating.height}:s.reference,E=await(o.getOffsetParent==null?void 0:o.getOffsetParent(a.floating)),A=await(o.isElement==null?void 0:o.isElement(E))?await(o.getScale==null?void 0:o.getScale(E))||{x:1,y:1}:{x:1,y:1},N=$u(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:_,offsetParent:E,strategy:u}):_);return{top:(v.top-N.top+D.top)/A.y,bottom:(N.bottom-v.bottom+D.bottom)/A.y,left:(v.left-N.left+D.left)/A.x,right:(N.right-v.right+D.right)/A.x}}const RM=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:o,platform:s,elements:a,middlewareData:u}=e,{element:c,padding:d=0}=Ac(t,e)||{};if(c==null)return{};const f=x1(d),p={x:n,y:r},g=lm(i),D=am(g),I=await s.getDimensions(c),k=g==="y",v=k?"top":"left",_=k?"bottom":"right",E=k?"clientHeight":"clientWidth",A=o.reference[D]+o.reference[g]-p[g]-o.floating[D],N=p[g]-o.reference[g],O=await(s.getOffsetParent==null?void 0:s.getOffsetParent(c));let T=O?O[E]:0;(!T||!await(s.isElement==null?void 0:s.isElement(O)))&&(T=a.floating[E]||o.floating[D]);const y=A/2-N/2,S=T/2-I[D]/2-1,P=Mo(f[v],S),x=Mo(f[_],S),R=P,C=T-I[D]-x,Z=T/2-I[D]/2+y,ne=wM(R,Z,C),X=!u.arrow&&Ia(i)!=null&&Z!==ne&&o.reference[D]/2-(Z<R?P:x)-I[D]/2<0,te=X?Z<R?Z-R:Z-C:0;return{[g]:p[g]+te,data:{[g]:ne,centerOffset:Z-ne-te,...X&&{alignmentOffset:te}},reset:X}}}),xM=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:o,rects:s,initialPlacement:a,platform:u,elements:c}=e,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:p,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:D="none",flipAlignment:I=!0,...k}=Ac(t,e);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const v=No(i),_=ma(a),E=No(a)===a,A=await(u.isRTL==null?void 0:u.isRTL(c.floating)),N=p||(E||!I?[ju(a)]:SM(a)),O=D!=="none";!p&&O&&N.push(...kM(a,I,D,A));const T=[a,...N],y=await PM(e,k),S=[];let P=((r=o.flip)==null?void 0:r.overflows)||[];if(d&&S.push(y[v]),f){const Z=TM(i,s,A);S.push(y[Z[0]],y[Z[1]])}if(P=[...P,{placement:i,overflows:S}],!S.every(Z=>Z<=0)){var x,R;const Z=(((x=o.flip)==null?void 0:x.index)||0)+1,ne=T[Z];if(ne)return{data:{index:Z,overflows:P},reset:{placement:ne}};let X=(R=P.filter(te=>te.overflows[0]<=0).sort((te,F)=>te.overflows[1]-F.overflows[1])[0])==null?void 0:R.placement;if(!X)switch(g){case"bestFit":{var C;const te=(C=P.filter(F=>{if(O){const Q=ma(F.placement);return Q===_||Q==="y"}return!0}).map(F=>[F.placement,F.overflows.filter(Q=>Q>0).reduce((Q,J)=>Q+J,0)]).sort((F,Q)=>F[1]-Q[1])[0])==null?void 0:C[0];te&&(X=te);break}case"initialPlacement":X=a;break}if(i!==X)return{reset:{placement:X}}}return{}}}};async function AM(t,e){const{placement:n,platform:r,elements:i}=t,o=await(r.isRTL==null?void 0:r.isRTL(i.floating)),s=No(n),a=Ia(n),u=ma(n)==="y",c=["left","top"].includes(s)?-1:1,d=o&&u?-1:1,f=Ac(e,t);let{mainAxis:p,crossAxis:g,alignmentAxis:D}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return a&&typeof D=="number"&&(g=a==="end"?D*-1:D),u?{x:g*d,y:p*c}:{x:p*c,y:g*d}}const bM=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:o,placement:s,middlewareData:a}=e,u=await AM(e,t);return s===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+u.x,y:o+u.y,data:{...u,placement:s}}}}};function A1(t){const e=sn(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=On(t),o=i?t.offsetWidth:n,s=i?t.offsetHeight:r,a=Uu(n)!==o||Uu(r)!==s;return a&&(n=o,r=s),{width:n,height:r,$:a}}function um(t){return It(t)?t:t.contextElement}function so(t){const e=um(t);if(!On(e))return Mn(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:o}=A1(e);let s=(o?Uu(n.width):n.width)/r,a=(o?Uu(n.height):n.height)/i;return(!s||!Number.isFinite(s))&&(s=1),(!a||!Number.isFinite(a))&&(a=1),{x:s,y:a}}const MM=Mn(0);function b1(t){const e=Ht(t);return!sm()||!e.visualViewport?MM:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function NM(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Ht(t)?!1:e}function wi(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),o=um(t);let s=Mn(1);e&&(r?It(r)&&(s=so(r)):s=so(t));const a=NM(o,n,r)?b1(o):Mn(0);let u=(i.left+a.x)/s.x,c=(i.top+a.y)/s.y,d=i.width/s.x,f=i.height/s.y;if(o){const p=Ht(o),g=r&&It(r)?Ht(r):r;let D=p,I=yf(D);for(;I&&r&&g!==D;){const k=so(I),v=I.getBoundingClientRect(),_=sn(I),E=v.left+(I.clientLeft+parseFloat(_.paddingLeft))*k.x,A=v.top+(I.clientTop+parseFloat(_.paddingTop))*k.y;u*=k.x,c*=k.y,d*=k.x,f*=k.y,u+=E,c+=A,D=Ht(I),I=yf(D)}}return $u({width:d,height:f,x:u,y:c})}function cm(t,e){const n=xc(t).scrollLeft;return e?e.left+n:wi(Ln(t)).left+n}function M1(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),i=r.left+e.scrollLeft-(n?0:cm(t,r)),o=r.top+e.scrollTop;return{x:i,y:o}}function OM(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const o=i==="fixed",s=Ln(r),a=e?Rc(e.floating):!1;if(r===s||a&&o)return n;let u={scrollLeft:0,scrollTop:0},c=Mn(1);const d=Mn(0),f=On(r);if((f||!f&&!o)&&((Yo(r)!=="body"||Ca(s))&&(u=xc(r)),On(r))){const g=wi(r);c=so(r),d.x=g.x+r.clientLeft,d.y=g.y+r.clientTop}const p=s&&!f&&!o?M1(s,u,!0):Mn(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-u.scrollLeft*c.x+d.x+p.x,y:n.y*c.y-u.scrollTop*c.y+d.y+p.y}}function LM(t){return Array.from(t.getClientRects())}function VM(t){const e=Ln(t),n=xc(t),r=t.ownerDocument.body,i=ci(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),o=ci(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let s=-n.scrollLeft+cm(t);const a=-n.scrollTop;return sn(r).direction==="rtl"&&(s+=ci(e.clientWidth,r.clientWidth)-i),{width:i,height:o,x:s,y:a}}function FM(t,e){const n=Ht(t),r=Ln(t),i=n.visualViewport;let o=r.clientWidth,s=r.clientHeight,a=0,u=0;if(i){o=i.width,s=i.height;const c=sm();(!c||c&&e==="fixed")&&(a=i.offsetLeft,u=i.offsetTop)}return{width:o,height:s,x:a,y:u}}function BM(t,e){const n=wi(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,o=On(t)?so(t):Mn(1),s=t.clientWidth*o.x,a=t.clientHeight*o.y,u=i*o.x,c=r*o.y;return{width:s,height:a,x:u,y:c}}function Av(t,e,n){let r;if(e==="viewport")r=FM(t,n);else if(e==="document")r=VM(Ln(t));else if(It(e))r=BM(e,n);else{const i=b1(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return $u(r)}function N1(t,e){const n=zr(t);return n===e||!It(n)||bo(n)?!1:sn(n).position==="fixed"||N1(n,e)}function UM(t,e){const n=e.get(t);if(n)return n;let r=pa(t,[],!1).filter(a=>It(a)&&Yo(a)!=="body"),i=null;const o=sn(t).position==="fixed";let s=o?zr(t):t;for(;It(s)&&!bo(s);){const a=sn(s),u=om(s);!u&&a.position==="fixed"&&(i=null),(o?!u&&!i:!u&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||Ca(s)&&!u&&N1(t,s))?r=r.filter(d=>d!==s):i=a,s=zr(s)}return e.set(t,r),r}function jM(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const s=[...n==="clippingAncestors"?Rc(e)?[]:UM(e,this._c):[].concat(n),r],a=s[0],u=s.reduce((c,d)=>{const f=Av(e,d,i);return c.top=ci(f.top,c.top),c.right=Mo(f.right,c.right),c.bottom=Mo(f.bottom,c.bottom),c.left=ci(f.left,c.left),c},Av(e,a,i));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function $M(t){const{width:e,height:n}=A1(t);return{width:e,height:n}}function zM(t,e,n){const r=On(e),i=Ln(e),o=n==="fixed",s=wi(t,!0,o,e);let a={scrollLeft:0,scrollTop:0};const u=Mn(0);if(r||!r&&!o)if((Yo(e)!=="body"||Ca(i))&&(a=xc(e)),r){const p=wi(e,!0,o,e);u.x=p.x+e.clientLeft,u.y=p.y+e.clientTop}else i&&(u.x=cm(i));const c=i&&!r&&!o?M1(i,a):Mn(0),d=s.left+a.scrollLeft-u.x-c.x,f=s.top+a.scrollTop-u.y-c.y;return{x:d,y:f,width:s.width,height:s.height}}function zd(t){return sn(t).position==="static"}function bv(t,e){if(!On(t)||sn(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Ln(t)===n&&(n=n.ownerDocument.body),n}function O1(t,e){const n=Ht(t);if(Rc(t))return n;if(!On(t)){let i=zr(t);for(;i&&!bo(i);){if(It(i)&&!zd(i))return i;i=zr(i)}return n}let r=bv(t,e);for(;r&&gM(r)&&zd(r);)r=bv(r,e);return r&&bo(r)&&zd(r)&&!om(r)?n:r||yM(t)||n}const YM=async function(t){const e=this.getOffsetParent||O1,n=this.getDimensions,r=await n(t.floating);return{reference:zM(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function WM(t){return sn(t).direction==="rtl"}const HM={convertOffsetParentRelativeRectToViewportRelativeRect:OM,getDocumentElement:Ln,getClippingRect:jM,getOffsetParent:O1,getElementRects:YM,getClientRects:LM,getDimensions:$M,getScale:so,isElement:It,isRTL:WM};function QM(t,e){let n=null,r;const i=Ln(t);function o(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function s(a,u){a===void 0&&(a=!1),u===void 0&&(u=1),o();const{left:c,top:d,width:f,height:p}=t.getBoundingClientRect();if(a||e(),!f||!p)return;const g=wl(d),D=wl(i.clientWidth-(c+f)),I=wl(i.clientHeight-(d+p)),k=wl(c),_={rootMargin:-g+"px "+-D+"px "+-I+"px "+-k+"px",threshold:ci(0,Mo(1,u))||1};let E=!0;function A(N){const O=N[0].intersectionRatio;if(O!==u){if(!E)return s();O?s(!1,O):r=setTimeout(()=>{s(!1,1e-7)},1e3)}E=!1}try{n=new IntersectionObserver(A,{..._,root:i.ownerDocument})}catch{n=new IntersectionObserver(A,_)}n.observe(t)}return s(!0),o}function qM(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:u=!1}=r,c=um(t),d=i||o?[...c?pa(c):[],...pa(e)]:[];d.forEach(v=>{i&&v.addEventListener("scroll",n,{passive:!0}),o&&v.addEventListener("resize",n)});const f=c&&a?QM(c,n):null;let p=-1,g=null;s&&(g=new ResizeObserver(v=>{let[_]=v;_&&_.target===c&&g&&(g.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var E;(E=g)==null||E.observe(e)})),n()}),c&&!u&&g.observe(c),g.observe(e));let D,I=u?wi(t):null;u&&k();function k(){const v=wi(t);I&&(v.x!==I.x||v.y!==I.y||v.width!==I.width||v.height!==I.height)&&n(),I=v,D=requestAnimationFrame(k)}return n(),()=>{var v;d.forEach(_=>{i&&_.removeEventListener("scroll",n),o&&_.removeEventListener("resize",n)}),f==null||f(),(v=g)==null||v.disconnect(),g=null,u&&cancelAnimationFrame(D)}}const KM=bM,GM=xM,Mv=RM,XM=(t,e,n)=>{const r=new Map,i={platform:HM,...n},o={...i.platform,_c:r};return IM(t,e,{...i,platform:o})};var Ql=typeof document<"u"?M.useLayoutEffect:M.useEffect;function zu(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!zu(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const o=i[r];if(!(o==="_owner"&&t.$$typeof)&&!zu(t[o],e[o]))return!1}return!0}return t!==t&&e!==e}function L1(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function Nv(t,e){const n=L1(t);return Math.round(e*n)/n}function Yd(t){const e=M.useRef(t);return Ql(()=>{e.current=t}),e}function JM(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:o,floating:s}={},transform:a=!0,whileElementsMounted:u,open:c}=t,[d,f]=M.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[p,g]=M.useState(r);zu(p,r)||g(r);const[D,I]=M.useState(null),[k,v]=M.useState(null),_=M.useCallback(F=>{F!==O.current&&(O.current=F,I(F))},[]),E=M.useCallback(F=>{F!==T.current&&(T.current=F,v(F))},[]),A=o||D,N=s||k,O=M.useRef(null),T=M.useRef(null),y=M.useRef(d),S=u!=null,P=Yd(u),x=Yd(i),R=Yd(c),C=M.useCallback(()=>{if(!O.current||!T.current)return;const F={placement:e,strategy:n,middleware:p};x.current&&(F.platform=x.current),XM(O.current,T.current,F).then(Q=>{const J={...Q,isPositioned:R.current!==!1};Z.current&&!zu(y.current,J)&&(y.current=J,_p.flushSync(()=>{f(J)}))})},[p,e,n,x,R]);Ql(()=>{c===!1&&y.current.isPositioned&&(y.current.isPositioned=!1,f(F=>({...F,isPositioned:!1})))},[c]);const Z=M.useRef(!1);Ql(()=>(Z.current=!0,()=>{Z.current=!1}),[]),Ql(()=>{if(A&&(O.current=A),N&&(T.current=N),A&&N){if(P.current)return P.current(A,N,C);C()}},[A,N,C,P,S]);const ne=M.useMemo(()=>({reference:O,floating:T,setReference:_,setFloating:E}),[_,E]),X=M.useMemo(()=>({reference:A,floating:N}),[A,N]),te=M.useMemo(()=>{const F={position:n,left:0,top:0};if(!X.floating)return F;const Q=Nv(X.floating,d.x),J=Nv(X.floating,d.y);return a?{...F,transform:"translate("+Q+"px, "+J+"px)",...L1(X.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:Q,top:J}},[n,a,X.floating,d.x,d.y]);return M.useMemo(()=>({...d,update:C,refs:ne,elements:X,floatingStyles:te}),[d,C,ne,X,te])}const ZM=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?Mv({element:r.current,padding:i}).fn(n):{}:r?Mv({element:r,padding:i}).fn(n):{}}}},eN=(t,e)=>({...KM(t),options:[t,e]}),tN=(t,e)=>({...GM(t),options:[t,e]}),nN=(t,e)=>({...ZM(t),options:[t,e]}),V1={...x_},rN=V1.useInsertionEffect,iN=rN||(t=>t());function oN(t){const e=M.useRef(()=>{});return iN(()=>{e.current=t}),M.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e.current==null?void 0:e.current(...r)},[])}var Yu=typeof document<"u"?M.useLayoutEffect:M.useEffect;function _f(){return _f=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_f.apply(this,arguments)}let Ov=!1,sN=0;const Lv=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+sN++;function aN(){const[t,e]=M.useState(()=>Ov?Lv():void 0);return Yu(()=>{t==null&&e(Lv())},[]),M.useEffect(()=>{Ov=!0},[]),t}const lN=V1.useId,F1=lN||aN,uN=M.forwardRef(function(e,n){const{context:{placement:r,elements:{floating:i},middlewareData:{arrow:o,shift:s}},width:a=14,height:u=7,tipRadius:c=0,strokeWidth:d=0,staticOffset:f,stroke:p,d:g,style:{transform:D,...I}={},...k}=e,v=F1(),[_,E]=M.useState(!1);if(Yu(()=>{if(!i)return;sn(i).direction==="rtl"&&E(!0)},[i]),!i)return null;const[A,N]=r.split("-"),O=A==="top"||A==="bottom";let T=f;(O&&s!=null&&s.x||!O&&s!=null&&s.y)&&(T=null);const y=d*2,S=y/2,P=a/2*(c/-8+1),x=u/2*c/4,R=!!g,C=T&&N==="end"?"bottom":"top";let Z=T&&N==="end"?"right":"left";T&&_&&(Z=N==="end"?"left":"right");const ne=(o==null?void 0:o.x)!=null?T||o.x:"",X=(o==null?void 0:o.y)!=null?T||o.y:"",te=g||"M0,0"+(" H"+a)+(" L"+(a-P)+","+(u-x))+(" Q"+a/2+","+u+" "+P+","+(u-x))+" Z",F={top:R?"rotate(180deg)":"",left:R?"rotate(90deg)":"rotate(-90deg)",bottom:R?"":"rotate(180deg)",right:R?"rotate(-90deg)":"rotate(90deg)"}[A];return M.createElement("svg",_f({},k,{"aria-hidden":!0,ref:n,width:R?a:a+y,height:a,viewBox:"0 0 "+a+" "+(u>a?u:a),style:{position:"absolute",pointerEvents:"none",[Z]:ne,[C]:X,[A]:O||R?"100%":"calc(100% - "+y/2+"px)",transform:[F,D].filter(Q=>!!Q).join(" "),...I}}),y>0&&M.createElement("path",{clipPath:"url(#"+v+")",fill:"none",stroke:p,strokeWidth:y+(g?0:1),d:te}),M.createElement("path",{stroke:y&&!g?k.fill:"none",d:te}),M.createElement("clipPath",{id:v},M.createElement("rect",{x:-S,y:S*(R?-1:1),width:a+y,height:a})))});function cN(){const t=new Map;return{emit(e,n){var r;(r=t.get(e))==null||r.forEach(i=>i(n))},on(e,n){t.set(e,[...t.get(e)||[],n])},off(e,n){var r;t.set(e,((r=t.get(e))==null?void 0:r.filter(i=>i!==n))||[])}}}const dN=M.createContext(null),hN=M.createContext(null),fN=()=>{var t;return((t=M.useContext(dN))==null?void 0:t.id)||null},pN=()=>M.useContext(hN);function mN(t){const{open:e=!1,onOpenChange:n,elements:r}=t,i=F1(),o=M.useRef({}),[s]=M.useState(()=>cN()),a=fN()!=null,[u,c]=M.useState(r.reference),d=oN((g,D,I)=>{o.current.openEvent=g?D:void 0,s.emit("openchange",{open:g,event:D,reason:I,nested:a}),n==null||n(g,D,I)}),f=M.useMemo(()=>({setPositionReference:c}),[]),p=M.useMemo(()=>({reference:u||r.reference||null,floating:r.floating||null,domReference:r.reference}),[u,r.reference,r.floating]);return M.useMemo(()=>({dataRef:o,open:e,onOpenChange:d,elements:p,events:s,floatingId:i,refs:f}),[e,d,p,s,i,f])}function gN(t){t===void 0&&(t={});const{nodeId:e}=t,n=mN({...t,elements:{reference:null,floating:null,...t.elements}}),r=t.rootContext||n,i=r.elements,[o,s]=M.useState(null),[a,u]=M.useState(null),d=(i==null?void 0:i.domReference)||o,f=M.useRef(null),p=pN();Yu(()=>{d&&(f.current=d)},[d]);const g=JM({...t,elements:{...i,...a&&{reference:a}}}),D=M.useCallback(E=>{const A=It(E)?{getBoundingClientRect:()=>E.getBoundingClientRect(),contextElement:E}:E;u(A),g.refs.setReference(A)},[g.refs]),I=M.useCallback(E=>{(It(E)||E===null)&&(f.current=E,s(E)),(It(g.refs.reference.current)||g.refs.reference.current===null||E!==null&&!It(E))&&g.refs.setReference(E)},[g.refs]),k=M.useMemo(()=>({...g.refs,setReference:I,setPositionReference:D,domReference:f}),[g.refs,I,D]),v=M.useMemo(()=>({...g.elements,domReference:d}),[g.elements,d]),_=M.useMemo(()=>({...g,...r,refs:k,elements:v,nodeId:e}),[g,k,v,e,r]);return Yu(()=>{r.dataRef.current.floatingContext=_;const E=p==null?void 0:p.nodesRef.current.find(A=>A.id===e);E&&(E.context=_)}),M.useMemo(()=>({...g,context:_,refs:k,elements:v}),[g,k,v,_])}/*!
  react-datepicker v7.5.0
  https://github.com/Hacker0x01/react-datepicker
  Released under the MIT License.
*/var wf=function(e,n){return wf=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},wf(e,n)};function it(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");wf(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var pe=function(){return pe=Object.assign||function(n){for(var r,i=1,o=arguments.length;i<o;i++){r=arguments[i];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(n[s]=r[s])}return n},pe.apply(this,arguments)};function kn(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))}var yN=function(t){var e=t.showTimeSelectOnly,n=e===void 0?!1:e,r=t.showTime,i=r===void 0?!1:r,o=t.className,s=t.children,a=n?"Choose Time":"Choose Date".concat(i?" and Time":"");return V.createElement("div",{className:o,role:"dialog","aria-label":a,"aria-modal":"true"},s)},vN=function(t,e){var n=M.useRef(null),r=M.useRef(t);r.current=t;var i=M.useCallback(function(o){var s;n.current&&!n.current.contains(o.target)&&(e&&o.target instanceof HTMLElement&&o.target.classList.contains(e)||(s=r.current)===null||s===void 0||s.call(r,o))},[e]);return M.useEffect(function(){return document.addEventListener("mousedown",i),function(){document.removeEventListener("mousedown",i)}},[i]),n},bc=function(t){var e=t.children,n=t.onClickOutside,r=t.className,i=t.containerRef,o=t.style,s=t.ignoreClass,a=vN(n,s);return V.createElement("div",{className:r,style:o,ref:function(u){a.current=u,i&&(i.current=u)}},e)},Y;(function(t){t.ArrowUp="ArrowUp",t.ArrowDown="ArrowDown",t.ArrowLeft="ArrowLeft",t.ArrowRight="ArrowRight",t.PageUp="PageUp",t.PageDown="PageDown",t.Home="Home",t.End="End",t.Enter="Enter",t.Space=" ",t.Tab="Tab",t.Escape="Escape",t.Backspace="Backspace",t.X="x"})(Y||(Y={}));function B1(){var t=typeof window<"u"?window:globalThis;return t}var Pa=12,_N=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g;function Te(t){if(t==null)return new Date;var e=typeof t=="string"?jI(t):W(t);return Wn(e)?e:new Date}function Wd(t,e,n,r,i){var o,s=null,a=di(n)||di(Us()),u=!0;if(Array.isArray(e))return e.forEach(function(d){var f=bd(t,d,new Date,{locale:a,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});r&&(u=Wn(f,i)&&t===Ae(f,d,n)),Wn(f,i)&&u&&(s=f)}),s;if(s=bd(t,e,new Date,{locale:a,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0}),r)u=Wn(s)&&t===Ae(s,e,n);else if(!Wn(s)){var c=((o=e.match(_N))!==null&&o!==void 0?o:[]).map(function(d){var f=d[0];if(f==="p"||f==="P"){var p=ku[f];return a?p(d,a.formatLong):f}return d}).join("");t.length>0&&(s=bd(t,c.slice(0,t.length),new Date,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})),Wn(s)||(s=new Date(t))}return Wn(s)&&u?s:null}function Wn(t,e){return Eu(t)&&!vi(t,e??new Date("1/1/1800"))}function Ae(t,e,n){if(n==="en")return ro(t,e,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});var r=n?di(n):void 0;return n&&!r&&console.warn('A locale object was not found for the provided string ["'.concat(n,'"].')),!r&&Us()&&di(Us())&&(r=di(Us())),ro(t,e,{locale:r,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})}function Gt(t,e){var n=e.dateFormat,r=e.locale,i=Array.isArray(n)&&n.length>0?n[0]:n;return t&&Ae(t,i,r)||""}function wN(t,e,n){if(!t)return"";var r=Gt(t,n),i=e?Gt(e,n):"";return"".concat(r," - ").concat(i)}function EN(t,e){if(!(t!=null&&t.length))return"";var n=t[0]?Gt(t[0],e):"";if(t.length===1)return n;if(t.length===2&&t[1]){var r=Gt(t[1],e);return"".concat(n,", ").concat(r)}var i=t.length-1;return"".concat(n," (+").concat(i,")")}function Hd(t,e){var n=e.hour,r=n===void 0?0:n,i=e.minute,o=i===void 0?0:i,s=e.second,a=s===void 0?0:s;return Fl(Bl(Ul(t,a),o),r)}function TN(t){return Dp(t)}function SN(t,e){return Ae(t,"ddd",e)}function ql(t){return yi(t)}function Nr(t,e,n){var r=di(e||Us());return zt(t,{locale:r,weekStartsOn:n})}function Jn(t){return Sp(t)}function ks(t){return hc(t)}function Vv(t){return Hh(t)}function Fv(){return yi(Te())}function Bv(t){return Ow(t)}function DN(t){return Hk(t)}function kN(t){return Tp(t)}function En(t,e){return t&&e?BI(t,e):!t&&!e}function kt(t,e){return t&&e?VI(t,e):!t&&!e}function Wu(t,e){return t&&e?FI(t,e):!t&&!e}function he(t,e){return t&&e?zk(t,e):!t&&!e}function oi(t,e){return t&&e?$C(t,e):!t&&!e}function Cs(t,e,n){var r,i=yi(e),o=Ow(n);try{r=oa(t,{start:i,end:o})}catch{r=!1}return r}function Us(){var t=B1();return t.__localeId__}function di(t){if(typeof t=="string"){var e=B1();return e.__localeData__?e.__localeData__[t]:void 0}else return t}function CN(t,e,n){return e(Ae(t,"EEEE",n))}function IN(t,e){return Ae(t,"EEEEEE",e)}function PN(t,e){return Ae(t,"EEE",e)}function dm(t,e){return Ae(jt(Te(),t),"LLLL",e)}function U1(t,e){return Ae(jt(Te(),t),"LLL",e)}function RN(t,e){return Ae(Ni(Te(),t),"QQQ",e)}function Zt(t,e){var n=e===void 0?{}:e,r=n.minDate,i=n.maxDate,o=n.excludeDates,s=n.excludeDateIntervals,a=n.includeDates,u=n.includeDateIntervals,c=n.filterDate;return Ra(t,{minDate:r,maxDate:i})||o&&o.some(function(d){return d instanceof Date?he(t,d):he(t,d.date)})||s&&s.some(function(d){var f=d.start,p=d.end;return oa(t,{start:f,end:p})})||a&&!a.some(function(d){return he(t,d)})||u&&!u.some(function(d){var f=d.start,p=d.end;return oa(t,{start:f,end:p})})||c&&!c(Te(t))||!1}function hm(t,e){var n=e===void 0?{}:e,r=n.excludeDates,i=n.excludeDateIntervals;return i&&i.length>0?i.some(function(o){var s=o.start,a=o.end;return oa(t,{start:s,end:a})}):r&&r.some(function(o){var s;return o instanceof Date?he(t,o):he(t,(s=o.date)!==null&&s!==void 0?s:new Date)})||!1}function j1(t,e){var n=e===void 0?{}:e,r=n.minDate,i=n.maxDate,o=n.excludeDates,s=n.includeDates,a=n.filterDate;return Ra(t,{minDate:r?Sp(r):void 0,maxDate:i?Tp(i):void 0})||(o==null?void 0:o.some(function(u){return kt(t,u instanceof Date?u:u.date)}))||s&&!s.some(function(u){return kt(t,u)})||a&&!a(Te(t))||!1}function El(t,e,n,r){var i=ae(t),o=Ct(t),s=ae(e),a=Ct(e),u=ae(r);return i===s&&i===u?o<=n&&n<=a:i<s?u===i&&o<=n||u===s&&a>=n||u<s&&u>i:!1}function xN(t,e){var n=e===void 0?{}:e,r=n.minDate,i=n.maxDate,o=n.excludeDates,s=n.includeDates;return Ra(t,{minDate:r,maxDate:i})||o&&o.some(function(a){return kt(a instanceof Date?a:a.date,t)})||s&&!s.some(function(a){return kt(a,t)})||!1}function Tl(t,e){var n=e===void 0?{}:e,r=n.minDate,i=n.maxDate,o=n.excludeDates,s=n.includeDates,a=n.filterDate;return Ra(t,{minDate:r,maxDate:i})||(o==null?void 0:o.some(function(u){return Wu(t,u instanceof Date?u:u.date)}))||s&&!s.some(function(u){return Wu(t,u)})||a&&!a(Te(t))||!1}function Sl(t,e,n){if(!e||!n||!Eu(e)||!Eu(n))return!1;var r=ae(e),i=ae(n);return r<=t&&i>=t}function Kl(t,e){var n=e===void 0?{}:e,r=n.minDate,i=n.maxDate,o=n.excludeDates,s=n.includeDates,a=n.filterDate,u=new Date(t,0,1);return Ra(u,{minDate:r?hc(r):void 0,maxDate:i?Lw(i):void 0})||(o==null?void 0:o.some(function(c){return En(u,c instanceof Date?c:c.date)}))||s&&!s.some(function(c){return En(u,c)})||a&&!a(Te(u))||!1}function Dl(t,e,n,r){var i=ae(t),o=li(t),s=ae(e),a=li(e),u=ae(r);return i===s&&i===u?o<=n&&n<=a:i<s?u===i&&o<=n||u===s&&a>=n||u<s&&u>i:!1}function Ra(t,e){var n,r=e===void 0?{}:e,i=r.minDate,o=r.maxDate;return(n=i&&_o(t,i)<0||o&&_o(t,o)>0)!==null&&n!==void 0?n:!1}function Uv(t,e){return e.some(function(n){return Pn(n)===Pn(t)&&Rn(n)===Rn(t)&&Xn(n)===Xn(t)})}function jv(t,e){var n=e===void 0?{}:e,r=n.excludeTimes,i=n.includeTimes,o=n.filterTime;return r&&Uv(t,r)||i&&!Uv(t,i)||o&&!o(t)||!1}function $v(t,e){var n=e.minTime,r=e.maxTime;if(!n||!r)throw new Error("Both minTime and maxTime props required");var i=Te();i=Fl(i,Pn(t)),i=Bl(i,Rn(t)),i=Ul(i,Xn(t));var o=Te();o=Fl(o,Pn(n)),o=Bl(o,Rn(n)),o=Ul(o,Xn(n));var s=Te();s=Fl(s,Pn(r)),s=Bl(s,Rn(r)),s=Ul(s,Xn(r));var a;try{a=!oa(i,{start:o,end:s})}catch{a=!1}return a}function zv(t,e){var n=e===void 0?{}:e,r=n.minDate,i=n.includeDates,o=wo(t,1);return r&&Tu(r,o)>0||i&&i.every(function(s){return Tu(s,o)>0})||!1}function Yv(t,e){var n=e===void 0?{}:e,r=n.maxDate,i=n.includeDates,o=gn(t,1);return r&&Tu(o,r)>0||i&&i.every(function(s){return Tu(o,s)>0})||!1}function AN(t,e){var n=e===void 0?{}:e,r=n.minDate,i=n.includeDates,o=hc(t),s=Qw(o,1);return r&&Su(r,s)>0||i&&i.every(function(a){return Su(a,s)>0})||!1}function bN(t,e){var n=e===void 0?{}:e,r=n.maxDate,i=n.includeDates,o=Lw(t),s=Ep(o,1);return r&&Su(s,r)>0||i&&i.every(function(a){return Su(s,a)>0})||!1}function Wv(t,e){var n=e===void 0?{}:e,r=n.minDate,i=n.includeDates,o=Eo(t,1);return r&&Du(r,o)>0||i&&i.every(function(s){return Du(s,o)>0})||!1}function MN(t,e){var n=e===void 0?{}:e,r=n.minDate,i=n.yearItemNumber,o=i===void 0?Pa:i,s=ks(Eo(t,o)),a=wr(s,o).endPeriod,u=r&&ae(r);return u&&u>a||!1}function Hv(t,e){var n=e===void 0?{}:e,r=n.maxDate,i=n.includeDates,o=Kn(t,1);return r&&Du(o,r)>0||i&&i.every(function(s){return Du(o,s)>0})||!1}function NN(t,e){var n=e===void 0?{}:e,r=n.maxDate,i=n.yearItemNumber,o=i===void 0?Pa:i,s=Kn(t,o),a=wr(s,o).startPeriod,u=r&&ae(r);return u&&u<a||!1}function $1(t){var e=t.minDate,n=t.includeDates;if(n&&e){var r=n.filter(function(i){return _o(i,e)>=0});return Sy(r)}else return n?Sy(n):e}function z1(t){var e=t.maxDate,n=t.includeDates;if(n&&e){var r=n.filter(function(i){return _o(i,e)<=0});return Ty(r)}else return n?Ty(n):e}function Qv(t,e){var n;t===void 0&&(t=[]),e===void 0&&(e="react-datepicker__day--highlighted");for(var r=new Map,i=0,o=t.length;i<o;i++){var s=t[i];if(Gn(s)){var a=Ae(s,"MM.dd.yyyy"),u=r.get(a)||[];u.includes(e)||(u.push(e),r.set(a,u))}else if(typeof s=="object"){var c=Object.keys(s),d=(n=c[0])!==null&&n!==void 0?n:"",f=s[d];if(typeof d=="string"&&Array.isArray(f))for(var p=0,g=f.length;p<g;p++){var D=f[p];if(D){var a=Ae(D,"MM.dd.yyyy"),u=r.get(a)||[];u.includes(d)||(u.push(d),r.set(a,u))}}}}return r}function ON(t,e){return t.length!==e.length?!1:t.every(function(n,r){return n===e[r]})}function LN(t,e){t===void 0&&(t=[]),e===void 0&&(e="react-datepicker__day--holidays");var n=new Map;return t.forEach(function(r){var i=r.date,o=r.holidayName;if(Gn(i)){var s=Ae(i,"MM.dd.yyyy"),a=n.get(s)||{className:"",holidayNames:[]};if(!("className"in a&&a.className===e&&ON(a.holidayNames,[o]))){a.className=e;var u=a.holidayNames;a.holidayNames=u?kn(kn([],u,!0),[o],!1):[o],n.set(s,a)}}}),n}function VN(t,e,n,r,i){for(var o=i.length,s=[],a=0;a<o;a++){var u=t,c=i[a];c&&(u=Bk(u,Pn(c)),u=Wh(u,Rn(c)),u=$k(u,Xn(c)));var d=Wh(t,(n+1)*r);Vr(u,e)&&vi(u,d)&&c!=null&&s.push(c)}return s}function qv(t){return t<10?"0".concat(t):"".concat(t)}function wr(t,e){e===void 0&&(e=Pa);var n=Math.ceil(ae(t)/e)*e,r=n-(e-1);return{startPeriod:r,endPeriod:n}}function FN(t){var e=new Date(t.getFullYear(),t.getMonth(),t.getDate()),n=new Date(t.getFullYear(),t.getMonth(),t.getDate(),24);return Math.round((+n-+e)/36e5)}function Kv(t){var e=t.getSeconds(),n=t.getMilliseconds();return W(t.getTime()-e*1e3-n)}function BN(t,e){return Kv(t).getTime()===Kv(e).getTime()}function Gv(t){if(!Gn(t))throw new Error("Invalid date");var e=new Date(t);return e.setHours(0,0,0,0),e}function Xv(t,e){if(!Gn(t)||!Gn(e))throw new Error("Invalid date received");var n=Gv(t),r=Gv(e);return vi(n,r)}function Y1(t){return t.key===Y.Space}var UN=function(t){it(e,t);function e(n){var r=t.call(this,n)||this;return r.inputRef=V.createRef(),r.onTimeChange=function(i){var o,s;r.setState({time:i});var a=r.props.date,u=a instanceof Date&&!isNaN(+a),c=u?a:new Date;if(i!=null&&i.includes(":")){var d=i.split(":"),f=d[0],p=d[1];c.setHours(Number(f)),c.setMinutes(Number(p))}(s=(o=r.props).onChange)===null||s===void 0||s.call(o,c)},r.renderTimeInput=function(){var i=r.state.time,o=r.props,s=o.date,a=o.timeString,u=o.customTimeInput;return u?M.cloneElement(u,{date:s,value:i,onChange:r.onTimeChange}):V.createElement("input",{type:"time",className:"react-datepicker-time__input",placeholder:"Time",name:"time-input",ref:r.inputRef,onClick:function(){var c;(c=r.inputRef.current)===null||c===void 0||c.focus()},required:!0,value:i,onChange:function(c){r.onTimeChange(c.target.value||a)}})},r.state={time:r.props.timeString},r}return e.getDerivedStateFromProps=function(n,r){return n.timeString!==r.time?{time:n.timeString}:null},e.prototype.render=function(){return V.createElement("div",{className:"react-datepicker__input-time-container"},V.createElement("div",{className:"react-datepicker-time__caption"},this.props.timeInputLabel),V.createElement("div",{className:"react-datepicker-time__input-container"},V.createElement("div",{className:"react-datepicker-time__input"},this.renderTimeInput())))},e}(M.Component),jN=function(t){it(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.dayEl=M.createRef(),n.handleClick=function(r){!n.isDisabled()&&n.props.onClick&&n.props.onClick(r)},n.handleMouseEnter=function(r){!n.isDisabled()&&n.props.onMouseEnter&&n.props.onMouseEnter(r)},n.handleOnKeyDown=function(r){var i,o,s=r.key;s===Y.Space&&(r.preventDefault(),r.key=Y.Enter),(o=(i=n.props).handleOnKeyDown)===null||o===void 0||o.call(i,r)},n.isSameDay=function(r){return he(n.props.day,r)},n.isKeyboardSelected=function(){var r;if(n.props.disabledKeyboardNavigation)return!1;var i=n.props.selectsMultiple?(r=n.props.selectedDates)===null||r===void 0?void 0:r.some(function(s){return n.isSameDayOrWeek(s)}):n.isSameDayOrWeek(n.props.selected),o=n.props.preSelection&&n.isDisabled(n.props.preSelection);return!i&&n.isSameDayOrWeek(n.props.preSelection)&&!o},n.isDisabled=function(r){return r===void 0&&(r=n.props.day),Zt(r,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals,includeDateIntervals:n.props.includeDateIntervals,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.isExcluded=function(){return hm(n.props.day,{excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals})},n.isStartOfWeek=function(){return he(n.props.day,Nr(n.props.day,n.props.locale,n.props.calendarStartDay))},n.isSameWeek=function(r){return n.props.showWeekPicker&&he(r,Nr(n.props.day,n.props.locale,n.props.calendarStartDay))},n.isSameDayOrWeek=function(r){return n.isSameDay(r)||n.isSameWeek(r)},n.getHighLightedClass=function(){var r=n.props,i=r.day,o=r.highlightDates;if(!o)return!1;var s=Ae(i,"MM.dd.yyyy");return o.get(s)},n.getHolidaysClass=function(){var r,i=n.props,o=i.day,s=i.holidays;if(!s)return[void 0];var a=Ae(o,"MM.dd.yyyy");return s.has(a)?[(r=s.get(a))===null||r===void 0?void 0:r.className]:[void 0]},n.isInRange=function(){var r=n.props,i=r.day,o=r.startDate,s=r.endDate;return!o||!s?!1:Cs(i,o,s)},n.isInSelectingRange=function(){var r,i=n.props,o=i.day,s=i.selectsStart,a=i.selectsEnd,u=i.selectsRange,c=i.selectsDisabledDaysInRange,d=i.startDate,f=i.endDate,p=(r=n.props.selectingDate)!==null&&r!==void 0?r:n.props.preSelection;return!(s||a||u)||!p||!c&&n.isDisabled()?!1:s&&f&&(vi(p,f)||oi(p,f))?Cs(o,p,f):a&&d&&(Vr(p,d)||oi(p,d))||u&&d&&!f&&(Vr(p,d)||oi(p,d))?Cs(o,d,p):!1},n.isSelectingRangeStart=function(){var r;if(!n.isInSelectingRange())return!1;var i=n.props,o=i.day,s=i.startDate,a=i.selectsStart,u=(r=n.props.selectingDate)!==null&&r!==void 0?r:n.props.preSelection;return a?he(o,u):he(o,s)},n.isSelectingRangeEnd=function(){var r;if(!n.isInSelectingRange())return!1;var i=n.props,o=i.day,s=i.endDate,a=i.selectsEnd,u=i.selectsRange,c=(r=n.props.selectingDate)!==null&&r!==void 0?r:n.props.preSelection;return a||u?he(o,c):he(o,s)},n.isRangeStart=function(){var r=n.props,i=r.day,o=r.startDate,s=r.endDate;return!o||!s?!1:he(o,i)},n.isRangeEnd=function(){var r=n.props,i=r.day,o=r.startDate,s=r.endDate;return!o||!s?!1:he(s,i)},n.isWeekend=function(){var r=FC(n.props.day);return r===0||r===6},n.isAfterMonth=function(){return n.props.month!==void 0&&(n.props.month+1)%12===Ct(n.props.day)},n.isBeforeMonth=function(){return n.props.month!==void 0&&(Ct(n.props.day)+1)%12===n.props.month},n.isCurrentDay=function(){return n.isSameDay(Te())},n.isSelected=function(){var r;return n.props.selectsMultiple?(r=n.props.selectedDates)===null||r===void 0?void 0:r.some(function(i){return n.isSameDayOrWeek(i)}):n.isSameDayOrWeek(n.props.selected)},n.getClassNames=function(r){var i=n.props.dayClassName?n.props.dayClassName(r):void 0;return nt("react-datepicker__day",i,"react-datepicker__day--"+SN(n.props.day),{"react-datepicker__day--disabled":n.isDisabled(),"react-datepicker__day--excluded":n.isExcluded(),"react-datepicker__day--selected":n.isSelected(),"react-datepicker__day--keyboard-selected":n.isKeyboardSelected(),"react-datepicker__day--range-start":n.isRangeStart(),"react-datepicker__day--range-end":n.isRangeEnd(),"react-datepicker__day--in-range":n.isInRange(),"react-datepicker__day--in-selecting-range":n.isInSelectingRange(),"react-datepicker__day--selecting-range-start":n.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":n.isSelectingRangeEnd(),"react-datepicker__day--today":n.isCurrentDay(),"react-datepicker__day--weekend":n.isWeekend(),"react-datepicker__day--outside-month":n.isAfterMonth()||n.isBeforeMonth()},n.getHighLightedClass(),n.getHolidaysClass())},n.getAriaLabel=function(){var r=n.props,i=r.day,o=r.ariaLabelPrefixWhenEnabled,s=o===void 0?"Choose":o,a=r.ariaLabelPrefixWhenDisabled,u=a===void 0?"Not available":a,c=n.isDisabled()||n.isExcluded()?u:s;return"".concat(c," ").concat(Ae(i,"PPPP",n.props.locale))},n.getTitle=function(){var r=n.props,i=r.day,o=r.holidays,s=o===void 0?new Map:o,a=r.excludeDates,u=Ae(i,"MM.dd.yyyy"),c=[];return s.has(u)&&c.push.apply(c,s.get(u).holidayNames),n.isExcluded()&&c.push(a==null?void 0:a.filter(function(d){return d instanceof Date?he(d,i):he(d==null?void 0:d.date,i)}).map(function(d){if(!(d instanceof Date))return d==null?void 0:d.message})),c.join(", ")},n.getTabIndex=function(){var r=n.props.selected,i=n.props.preSelection,o=!(n.props.showWeekPicker&&(n.props.showWeekNumber||!n.isStartOfWeek()))&&(n.isKeyboardSelected()||n.isSameDay(r)&&he(i,r))?0:-1;return o},n.handleFocusDay=function(){var r;n.shouldFocusDay()&&((r=n.dayEl.current)===null||r===void 0||r.focus({preventScroll:!0}))},n.renderDayContents=function(){return n.props.monthShowsDuplicateDaysEnd&&n.isAfterMonth()||n.props.monthShowsDuplicateDaysStart&&n.isBeforeMonth()?null:n.props.renderDayContents?n.props.renderDayContents(Ry(n.props.day),n.props.day):Ry(n.props.day)},n.render=function(){return V.createElement("div",{ref:n.dayEl,className:n.getClassNames(n.props.day),onKeyDown:n.handleOnKeyDown,onClick:n.handleClick,onMouseEnter:n.props.usePointerEvent?void 0:n.handleMouseEnter,onPointerEnter:n.props.usePointerEvent?n.handleMouseEnter:void 0,tabIndex:n.getTabIndex(),"aria-label":n.getAriaLabel(),role:"option",title:n.getTitle(),"aria-disabled":n.isDisabled(),"aria-current":n.isCurrentDay()?"date":void 0,"aria-selected":n.isSelected()||n.isInRange()},n.renderDayContents(),n.getTitle()!==""&&V.createElement("span",{className:"overlay"},n.getTitle()))},n}return e.prototype.componentDidMount=function(){this.handleFocusDay()},e.prototype.componentDidUpdate=function(){this.handleFocusDay()},e.prototype.shouldFocusDay=function(){var n=!1;return this.getTabIndex()===0&&this.isSameDay(this.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(n=!0),this.props.inline&&!this.props.shouldFocusDayInline&&(n=!1),this.isDayActiveElement()&&(n=!0),this.isDuplicateDay()&&(n=!1)),n},e.prototype.isDayActiveElement=function(){var n,r,i;return((r=(n=this.props.containerRef)===null||n===void 0?void 0:n.current)===null||r===void 0?void 0:r.contains(document.activeElement))&&((i=document.activeElement)===null||i===void 0?void 0:i.classList.contains("react-datepicker__day"))},e.prototype.isDuplicateDay=function(){return this.props.monthShowsDuplicateDaysEnd&&this.isAfterMonth()||this.props.monthShowsDuplicateDaysStart&&this.isBeforeMonth()},e}(M.Component),$N=function(t){it(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.weekNumberEl=M.createRef(),n.handleClick=function(r){n.props.onClick&&n.props.onClick(r)},n.handleOnKeyDown=function(r){var i,o,s=r.key;s===Y.Space&&(r.preventDefault(),r.key=Y.Enter),(o=(i=n.props).handleOnKeyDown)===null||o===void 0||o.call(i,r)},n.isKeyboardSelected=function(){return!n.props.disabledKeyboardNavigation&&!he(n.props.date,n.props.selected)&&he(n.props.date,n.props.preSelection)},n.getTabIndex=function(){return n.props.showWeekPicker&&n.props.showWeekNumber&&(n.isKeyboardSelected()||he(n.props.date,n.props.selected)&&he(n.props.preSelection,n.props.selected))?0:-1},n.handleFocusWeekNumber=function(r){var i=!1;n.getTabIndex()===0&&!(r!=null&&r.isInputFocused)&&he(n.props.date,n.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(i=!0),n.props.inline&&!n.props.shouldFocusDayInline&&(i=!1),n.props.containerRef&&n.props.containerRef.current&&n.props.containerRef.current.contains(document.activeElement)&&document.activeElement&&document.activeElement.classList.contains("react-datepicker__week-number")&&(i=!0)),i&&n.weekNumberEl.current&&n.weekNumberEl.current.focus({preventScroll:!0})},n}return Object.defineProperty(e,"defaultProps",{get:function(){return{ariaLabelPrefix:"week "}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){this.handleFocusWeekNumber()},e.prototype.componentDidUpdate=function(n){this.handleFocusWeekNumber(n)},e.prototype.render=function(){var n=this.props,r=n.weekNumber,i=n.ariaLabelPrefix,o=i===void 0?e.defaultProps.ariaLabelPrefix:i,s=n.onClick,a={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!s,"react-datepicker__week-number--selected":!!s&&he(this.props.date,this.props.selected),"react-datepicker__week-number--keyboard-selected":this.isKeyboardSelected()};return V.createElement("div",{ref:this.weekNumberEl,className:nt(a),"aria-label":"".concat(o," ").concat(this.props.weekNumber),onClick:this.handleClick,onKeyDown:this.handleOnKeyDown,tabIndex:this.getTabIndex()},r)},e}(M.Component),zN=function(t){it(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.isDisabled=function(r){return Zt(r,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals,includeDateIntervals:n.props.includeDateIntervals,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.handleDayClick=function(r,i){n.props.onDayClick&&n.props.onDayClick(r,i)},n.handleDayMouseEnter=function(r){n.props.onDayMouseEnter&&n.props.onDayMouseEnter(r)},n.handleWeekClick=function(r,i,o){for(var s,a,u,c=new Date(r),d=0;d<7;d++){var f=new Date(r);f.setDate(f.getDate()+d);var p=!n.isDisabled(f);if(p){c=f;break}}typeof n.props.onWeekSelect=="function"&&n.props.onWeekSelect(c,i,o),n.props.showWeekPicker&&n.handleDayClick(c,o),((s=n.props.shouldCloseOnSelect)!==null&&s!==void 0?s:e.defaultProps.shouldCloseOnSelect)&&((u=(a=n.props).setOpen)===null||u===void 0||u.call(a,!1))},n.formatWeekNumber=function(r){return n.props.formatWeekNumber?n.props.formatWeekNumber(r):TN(r)},n.renderDays=function(){var r=n.startOfWeek(),i=[],o=n.formatWeekNumber(r);if(n.props.showWeekNumber){var s=n.props.onWeekSelect||n.props.showWeekPicker?n.handleWeekClick.bind(n,r,o):void 0;i.push(V.createElement($N,pe({key:"W"},e.defaultProps,n.props,{weekNumber:o,date:r,onClick:s})))}return i.concat([0,1,2,3,4,5,6].map(function(a){var u=rr(r,a);return V.createElement(jN,pe({},e.defaultProps,n.props,{ariaLabelPrefixWhenEnabled:n.props.chooseDayAriaLabelPrefix,ariaLabelPrefixWhenDisabled:n.props.disabledDayAriaLabelPrefix,key:u.valueOf(),day:u,onClick:n.handleDayClick.bind(n,u),onMouseEnter:n.handleDayMouseEnter.bind(n,u)}))}))},n.startOfWeek=function(){return Nr(n.props.day,n.props.locale,n.props.calendarStartDay)},n.isKeyboardSelected=function(){return!n.props.disabledKeyboardNavigation&&!he(n.startOfWeek(),n.props.selected)&&he(n.startOfWeek(),n.props.preSelection)},n}return Object.defineProperty(e,"defaultProps",{get:function(){return{shouldCloseOnSelect:!0}},enumerable:!1,configurable:!0}),e.prototype.render=function(){var n={"react-datepicker__week":!0,"react-datepicker__week--selected":he(this.startOfWeek(),this.props.selected),"react-datepicker__week--keyboard-selected":this.isKeyboardSelected()};return V.createElement("div",{className:nt(n)},this.renderDays())},e}(M.Component),gs,YN=6,ao={TWO_COLUMNS:"two_columns",THREE_COLUMNS:"three_columns",FOUR_COLUMNS:"four_columns"},Qd=(gs={},gs[ao.TWO_COLUMNS]={grid:[[0,1],[2,3],[4,5],[6,7],[8,9],[10,11]],verticalNavigationOffset:2},gs[ao.THREE_COLUMNS]={grid:[[0,1,2],[3,4,5],[6,7,8],[9,10,11]],verticalNavigationOffset:3},gs[ao.FOUR_COLUMNS]={grid:[[0,1,2,3],[4,5,6,7],[8,9,10,11]],verticalNavigationOffset:4},gs),kl=1;function Jv(t,e){return t?ao.FOUR_COLUMNS:e?ao.TWO_COLUMNS:ao.THREE_COLUMNS}var WN=function(t){it(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.MONTH_REFS=kn([],Array(12),!0).map(function(){return M.createRef()}),n.QUARTER_REFS=kn([],Array(4),!0).map(function(){return M.createRef()}),n.isDisabled=function(r){return Zt(r,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals,includeDateIntervals:n.props.includeDateIntervals,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.isExcluded=function(r){return hm(r,{excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals})},n.handleDayClick=function(r,i){var o,s;(s=(o=n.props).onDayClick)===null||s===void 0||s.call(o,r,i,n.props.orderInDisplay)},n.handleDayMouseEnter=function(r){var i,o;(o=(i=n.props).onDayMouseEnter)===null||o===void 0||o.call(i,r)},n.handleMouseLeave=function(){var r,i;(i=(r=n.props).onMouseLeave)===null||i===void 0||i.call(r)},n.isRangeStartMonth=function(r){var i=n.props,o=i.day,s=i.startDate,a=i.endDate;return!s||!a?!1:kt(jt(o,r),s)},n.isRangeStartQuarter=function(r){var i=n.props,o=i.day,s=i.startDate,a=i.endDate;return!s||!a?!1:Wu(Ni(o,r),s)},n.isRangeEndMonth=function(r){var i=n.props,o=i.day,s=i.startDate,a=i.endDate;return!s||!a?!1:kt(jt(o,r),a)},n.isRangeEndQuarter=function(r){var i=n.props,o=i.day,s=i.startDate,a=i.endDate;return!s||!a?!1:Wu(Ni(o,r),a)},n.isInSelectingRangeMonth=function(r){var i,o=n.props,s=o.day,a=o.selectsStart,u=o.selectsEnd,c=o.selectsRange,d=o.startDate,f=o.endDate,p=(i=n.props.selectingDate)!==null&&i!==void 0?i:n.props.preSelection;return!(a||u||c)||!p?!1:a&&f?El(p,f,r,s):u&&d||c&&d&&!f?El(d,p,r,s):!1},n.isSelectingMonthRangeStart=function(r){var i;if(!n.isInSelectingRangeMonth(r))return!1;var o=n.props,s=o.day,a=o.startDate,u=o.selectsStart,c=jt(s,r),d=(i=n.props.selectingDate)!==null&&i!==void 0?i:n.props.preSelection;return u?kt(c,d):kt(c,a)},n.isSelectingMonthRangeEnd=function(r){var i;if(!n.isInSelectingRangeMonth(r))return!1;var o=n.props,s=o.day,a=o.endDate,u=o.selectsEnd,c=o.selectsRange,d=jt(s,r),f=(i=n.props.selectingDate)!==null&&i!==void 0?i:n.props.preSelection;return u||c?kt(d,f):kt(d,a)},n.isInSelectingRangeQuarter=function(r){var i,o=n.props,s=o.day,a=o.selectsStart,u=o.selectsEnd,c=o.selectsRange,d=o.startDate,f=o.endDate,p=(i=n.props.selectingDate)!==null&&i!==void 0?i:n.props.preSelection;return!(a||u||c)||!p?!1:a&&f?Dl(p,f,r,s):u&&d||c&&d&&!f?Dl(d,p,r,s):!1},n.isWeekInMonth=function(r){var i=n.props.day,o=rr(r,6);return kt(r,i)||kt(o,i)},n.isCurrentMonth=function(r,i){return ae(r)===ae(Te())&&i===Ct(Te())},n.isCurrentQuarter=function(r,i){return ae(r)===ae(Te())&&i===li(Te())},n.isSelectedMonth=function(r,i,o){return Ct(o)===i&&ae(r)===ae(o)},n.isSelectMonthInList=function(r,i,o){return o.some(function(s){return n.isSelectedMonth(r,i,s)})},n.isSelectedQuarter=function(r,i,o){return li(r)===i&&ae(r)===ae(o)},n.renderWeeks=function(){for(var r=[],i=n.props.fixedHeight,o=0,s=!1,a=Nr(Jn(n.props.day),n.props.locale,n.props.calendarStartDay),u=function(D){return n.props.showWeekPicker?Nr(D,n.props.locale,n.props.calendarStartDay):n.props.preSelection},c=function(D){return n.props.showWeekPicker?Nr(D,n.props.locale,n.props.calendarStartDay):n.props.selected},d=n.props.selected?c(n.props.selected):void 0,f=n.props.preSelection?u(n.props.preSelection):void 0;r.push(V.createElement(zN,pe({},n.props,{ariaLabelPrefix:n.props.weekAriaLabelPrefix,key:o,day:a,month:Ct(n.props.day),onDayClick:n.handleDayClick,onDayMouseEnter:n.handleDayMouseEnter,selected:d,preSelection:f,showWeekNumber:n.props.showWeekNumbers}))),!s;){o++,a=ia(a,1);var p=i&&o>=YN,g=!i&&!n.isWeekInMonth(a);if(p||g)if(n.props.peekNextMonth)s=!0;else break}return r},n.onMonthClick=function(r,i){var o=n.isMonthDisabledForLabelDate(i),s=o.isDisabled,a=o.labelDate;s||n.handleDayClick(Jn(a),r)},n.onMonthMouseEnter=function(r){var i=n.isMonthDisabledForLabelDate(r),o=i.isDisabled,s=i.labelDate;o||n.handleDayMouseEnter(Jn(s))},n.handleMonthNavigation=function(r,i){var o,s,a,u;(s=(o=n.props).setPreSelection)===null||s===void 0||s.call(o,i),(u=(a=n.MONTH_REFS[r])===null||a===void 0?void 0:a.current)===null||u===void 0||u.focus()},n.handleKeyboardNavigation=function(r,i,o){var s,a=n.props,u=a.selected,c=a.preSelection,d=a.setPreSelection,f=a.minDate,p=a.maxDate,g=a.showFourColumnMonthYearPicker,D=a.showTwoColumnMonthYearPicker;if(c){var I=Jv(g,D),k=n.getVerticalOffset(I),v=(s=Qd[I])===null||s===void 0?void 0:s.grid,_=function(T,y,S){var P,x,R=y,C=S;switch(T){case Y.ArrowRight:R=gn(y,kl),C=S===11?0:S+kl;break;case Y.ArrowLeft:R=wo(y,kl),C=S===0?11:S-kl;break;case Y.ArrowUp:R=wo(y,k),C=!((P=v==null?void 0:v[0])===null||P===void 0)&&P.includes(S)?S+12-k:S-k;break;case Y.ArrowDown:R=gn(y,k),C=!((x=v==null?void 0:v[v.length-1])===null||x===void 0)&&x.includes(S)?S-12+k:S+k;break}return{newCalculatedDate:R,newCalculatedMonth:C}},E=function(T,y,S){for(var P=40,x=T,R=!1,C=0,Z=_(x,y,S),ne=Z.newCalculatedDate,X=Z.newCalculatedMonth;!R;){if(C>=P){ne=y,X=S;break}if(f&&ne<f){x=Y.ArrowRight;var te=_(x,ne,X);ne=te.newCalculatedDate,X=te.newCalculatedMonth}if(p&&ne>p){x=Y.ArrowLeft;var te=_(x,ne,X);ne=te.newCalculatedDate,X=te.newCalculatedMonth}if(xN(ne,n.props)){var te=_(x,ne,X);ne=te.newCalculatedDate,X=te.newCalculatedMonth}else R=!0;C++}return{newCalculatedDate:ne,newCalculatedMonth:X}};if(i===Y.Enter){n.isMonthDisabled(o)||(n.onMonthClick(r,o),d==null||d(u));return}var A=E(i,c,o),N=A.newCalculatedDate,O=A.newCalculatedMonth;switch(i){case Y.ArrowRight:case Y.ArrowLeft:case Y.ArrowUp:case Y.ArrowDown:n.handleMonthNavigation(O,N);break}}},n.getVerticalOffset=function(r){var i,o;return(o=(i=Qd[r])===null||i===void 0?void 0:i.verticalNavigationOffset)!==null&&o!==void 0?o:0},n.onMonthKeyDown=function(r,i){var o=n.props,s=o.disabledKeyboardNavigation,a=o.handleOnMonthKeyDown,u=r.key;u!==Y.Tab&&r.preventDefault(),s||n.handleKeyboardNavigation(r,u,i),a&&a(r)},n.onQuarterClick=function(r,i){var o=Ni(n.props.day,i);Tl(o,n.props)||n.handleDayClick(Vv(o),r)},n.onQuarterMouseEnter=function(r){var i=Ni(n.props.day,r);Tl(i,n.props)||n.handleDayMouseEnter(Vv(i))},n.handleQuarterNavigation=function(r,i){var o,s,a,u;n.isDisabled(i)||n.isExcluded(i)||((s=(o=n.props).setPreSelection)===null||s===void 0||s.call(o,i),(u=(a=n.QUARTER_REFS[r-1])===null||a===void 0?void 0:a.current)===null||u===void 0||u.focus())},n.onQuarterKeyDown=function(r,i){var o,s,a=r.key;if(!n.props.disabledKeyboardNavigation)switch(a){case Y.Enter:n.onQuarterClick(r,i),(s=(o=n.props).setPreSelection)===null||s===void 0||s.call(o,n.props.selected);break;case Y.ArrowRight:if(!n.props.preSelection)break;n.handleQuarterNavigation(i===4?1:i+1,Ep(n.props.preSelection,1));break;case Y.ArrowLeft:if(!n.props.preSelection)break;n.handleQuarterNavigation(i===1?4:i-1,Qw(n.props.preSelection,1));break}},n.isMonthDisabledForLabelDate=function(r){var i,o=n.props,s=o.day,a=o.minDate,u=o.maxDate,c=o.excludeDates,d=o.includeDates,f=jt(s,r);return{isDisabled:(i=(a||u||c||d)&&j1(f,n.props))!==null&&i!==void 0?i:!1,labelDate:f}},n.isMonthDisabled=function(r){var i=n.isMonthDisabledForLabelDate(r).isDisabled;return i},n.getMonthClassNames=function(r){var i=n.props,o=i.day,s=i.startDate,a=i.endDate,u=i.preSelection,c=i.monthClassName,d=c?c(jt(o,r)):void 0,f=n.getSelection();return nt("react-datepicker__month-text","react-datepicker__month-".concat(r),d,{"react-datepicker__month-text--disabled":n.isMonthDisabled(r),"react-datepicker__month-text--selected":f?n.isSelectMonthInList(o,r,f):void 0,"react-datepicker__month-text--keyboard-selected":!n.props.disabledKeyboardNavigation&&u&&n.isSelectedMonth(o,r,u)&&!n.isMonthDisabled(r),"react-datepicker__month-text--in-selecting-range":n.isInSelectingRangeMonth(r),"react-datepicker__month-text--in-range":s&&a?El(s,a,r,o):void 0,"react-datepicker__month-text--range-start":n.isRangeStartMonth(r),"react-datepicker__month-text--range-end":n.isRangeEndMonth(r),"react-datepicker__month-text--selecting-range-start":n.isSelectingMonthRangeStart(r),"react-datepicker__month-text--selecting-range-end":n.isSelectingMonthRangeEnd(r),"react-datepicker__month-text--today":n.isCurrentMonth(o,r)})},n.getTabIndex=function(r){if(n.props.preSelection==null)return"-1";var i=Ct(n.props.preSelection),o=n.isMonthDisabledForLabelDate(i).isDisabled,s=r===i&&!(o||n.props.disabledKeyboardNavigation)?"0":"-1";return s},n.getQuarterTabIndex=function(r){if(n.props.preSelection==null)return"-1";var i=li(n.props.preSelection),o=Tl(n.props.day,n.props),s=r===i&&!(o||n.props.disabledKeyboardNavigation)?"0":"-1";return s},n.getAriaLabel=function(r){var i=n.props,o=i.chooseDayAriaLabelPrefix,s=o===void 0?"Choose":o,a=i.disabledDayAriaLabelPrefix,u=a===void 0?"Not available":a,c=i.day,d=i.locale,f=jt(c,r),p=n.isDisabled(f)||n.isExcluded(f)?u:s;return"".concat(p," ").concat(Ae(f,"MMMM yyyy",d))},n.getQuarterClassNames=function(r){var i=n.props,o=i.day,s=i.startDate,a=i.endDate,u=i.selected,c=i.minDate,d=i.maxDate,f=i.excludeDates,p=i.includeDates,g=i.filterDate,D=i.preSelection,I=i.disabledKeyboardNavigation,k=(c||d||f||p||g)&&Tl(Ni(o,r),n.props);return nt("react-datepicker__quarter-text","react-datepicker__quarter-".concat(r),{"react-datepicker__quarter-text--disabled":k,"react-datepicker__quarter-text--selected":u?n.isSelectedQuarter(o,r,u):void 0,"react-datepicker__quarter-text--keyboard-selected":!I&&D&&n.isSelectedQuarter(o,r,D)&&!k,"react-datepicker__quarter-text--in-selecting-range":n.isInSelectingRangeQuarter(r),"react-datepicker__quarter-text--in-range":s&&a?Dl(s,a,r,o):void 0,"react-datepicker__quarter-text--range-start":n.isRangeStartQuarter(r),"react-datepicker__quarter-text--range-end":n.isRangeEndQuarter(r)})},n.getMonthContent=function(r){var i=n.props,o=i.showFullMonthYearPicker,s=i.renderMonthContent,a=i.locale,u=i.day,c=U1(r,a),d=dm(r,a);return s?s(r,c,d,u):o?d:c},n.getQuarterContent=function(r){var i,o=n.props,s=o.renderQuarterContent,a=o.locale,u=RN(r,a);return(i=s==null?void 0:s(r,u))!==null&&i!==void 0?i:u},n.renderMonths=function(){var r,i=n.props,o=i.showTwoColumnMonthYearPicker,s=i.showFourColumnMonthYearPicker,a=i.day,u=i.selected,c=(r=Qd[Jv(s,o)])===null||r===void 0?void 0:r.grid;return c==null?void 0:c.map(function(d,f){return V.createElement("div",{className:"react-datepicker__month-wrapper",key:f},d.map(function(p,g){return V.createElement("div",{ref:n.MONTH_REFS[p],key:g,onClick:function(D){n.onMonthClick(D,p)},onKeyDown:function(D){Y1(D)&&(D.preventDefault(),D.key=Y.Enter),n.onMonthKeyDown(D,p)},onMouseEnter:n.props.usePointerEvent?void 0:function(){return n.onMonthMouseEnter(p)},onPointerEnter:n.props.usePointerEvent?function(){return n.onMonthMouseEnter(p)}:void 0,tabIndex:Number(n.getTabIndex(p)),className:n.getMonthClassNames(p),"aria-disabled":n.isMonthDisabled(p),role:"option","aria-label":n.getAriaLabel(p),"aria-current":n.isCurrentMonth(a,p)?"date":void 0,"aria-selected":u?n.isSelectedMonth(a,p,u):void 0},n.getMonthContent(p))}))})},n.renderQuarters=function(){var r=n.props,i=r.day,o=r.selected,s=[1,2,3,4];return V.createElement("div",{className:"react-datepicker__quarter-wrapper"},s.map(function(a,u){return V.createElement("div",{key:u,ref:n.QUARTER_REFS[u],role:"option",onClick:function(c){n.onQuarterClick(c,a)},onKeyDown:function(c){n.onQuarterKeyDown(c,a)},onMouseEnter:n.props.usePointerEvent?void 0:function(){return n.onQuarterMouseEnter(a)},onPointerEnter:n.props.usePointerEvent?function(){return n.onQuarterMouseEnter(a)}:void 0,className:n.getQuarterClassNames(a),"aria-selected":o?n.isSelectedQuarter(i,a,o):void 0,tabIndex:Number(n.getQuarterTabIndex(a)),"aria-current":n.isCurrentQuarter(i,a)?"date":void 0},n.getQuarterContent(a))}))},n.getClassNames=function(){var r=n.props,i=r.selectingDate,o=r.selectsStart,s=r.selectsEnd,a=r.showMonthYearPicker,u=r.showQuarterYearPicker,c=r.showWeekPicker;return nt("react-datepicker__month",{"react-datepicker__month--selecting-range":i&&(o||s)},{"react-datepicker__monthPicker":a},{"react-datepicker__quarterPicker":u},{"react-datepicker__weekPicker":c})},n}return e.prototype.getSelection=function(){var n=this.props,r=n.selected,i=n.selectedDates,o=n.selectsMultiple;if(o)return i;if(r)return[r]},e.prototype.render=function(){var n=this.props,r=n.showMonthYearPicker,i=n.showQuarterYearPicker,o=n.day,s=n.ariaLabelPrefix,a=s===void 0?"Month ":s,u=a?a.trim()+" ":"";return V.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":"".concat(u).concat(Ae(o,"MMMM, yyyy",this.props.locale)),role:"listbox"},r?this.renderMonths():i?this.renderQuarters():this.renderWeeks())},e}(M.Component),HN=function(t){it(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.isSelectedMonth=function(r){return n.props.month===r},n.renderOptions=function(){return n.props.monthNames.map(function(r,i){return V.createElement("div",{className:n.isSelectedMonth(i)?"react-datepicker__month-option react-datepicker__month-option--selected_month":"react-datepicker__month-option",key:r,onClick:n.onChange.bind(n,i),"aria-selected":n.isSelectedMonth(i)?"true":void 0},n.isSelectedMonth(i)?V.createElement("span",{className:"react-datepicker__month-option--selected"},""):"",r)})},n.onChange=function(r){return n.props.onChange(r)},n.handleClickOutside=function(){return n.props.onCancel()},n}return e.prototype.render=function(){return V.createElement(bc,{className:"react-datepicker__month-dropdown",onClickOutside:this.handleClickOutside},this.renderOptions())},e}(M.Component),QN=function(t){it(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.state={dropdownVisible:!1},n.renderSelectOptions=function(r){return r.map(function(i,o){return V.createElement("option",{key:i,value:o},i)})},n.renderSelectMode=function(r){return V.createElement("select",{value:n.props.month,className:"react-datepicker__month-select",onChange:function(i){return n.onChange(parseInt(i.target.value))}},n.renderSelectOptions(r))},n.renderReadView=function(r,i){return V.createElement("div",{key:"read",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:n.toggleDropdown},V.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}),V.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},i[n.props.month]))},n.renderDropdown=function(r){return V.createElement(HN,pe({key:"dropdown"},n.props,{monthNames:r,onChange:n.onChange,onCancel:n.toggleDropdown}))},n.renderScrollMode=function(r){var i=n.state.dropdownVisible,o=[n.renderReadView(!i,r)];return i&&o.unshift(n.renderDropdown(r)),o},n.onChange=function(r){n.toggleDropdown(),r!==n.props.month&&n.props.onChange(r)},n.toggleDropdown=function(){return n.setState({dropdownVisible:!n.state.dropdownVisible})},n}return e.prototype.render=function(){var n=this,r=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(o){return U1(o,n.props.locale)}:function(o){return dm(o,n.props.locale)}),i;switch(this.props.dropdownMode){case"scroll":i=this.renderScrollMode(r);break;case"select":i=this.renderSelectMode(r);break}return V.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--".concat(this.props.dropdownMode)},i)},e}(M.Component);function qN(t,e){for(var n=[],r=Jn(t),i=Jn(e);!Vr(r,i);)n.push(Te(r)),r=gn(r,1);return n}var KN=function(t){it(e,t);function e(n){var r=t.call(this,n)||this;return r.renderOptions=function(){return r.state.monthYearsList.map(function(i){var o=qh(i),s=En(r.props.date,i)&&kt(r.props.date,i);return V.createElement("div",{className:s?"react-datepicker__month-year-option--selected_month-year":"react-datepicker__month-year-option",key:o,onClick:r.onChange.bind(r,o),"aria-selected":s?"true":void 0},s?V.createElement("span",{className:"react-datepicker__month-year-option--selected"},""):"",Ae(i,r.props.dateFormat,r.props.locale))})},r.onChange=function(i){return r.props.onChange(i)},r.handleClickOutside=function(){r.props.onCancel()},r.state={monthYearsList:qN(r.props.minDate,r.props.maxDate)},r}return e.prototype.render=function(){var n=nt({"react-datepicker__month-year-dropdown":!0,"react-datepicker__month-year-dropdown--scrollable":this.props.scrollableMonthYearDropdown});return V.createElement(bc,{className:n,onClickOutside:this.handleClickOutside},this.renderOptions())},e}(M.Component),GN=function(t){it(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.state={dropdownVisible:!1},n.renderSelectOptions=function(){for(var r=Jn(n.props.minDate),i=Jn(n.props.maxDate),o=[];!Vr(r,i);){var s=qh(r);o.push(V.createElement("option",{key:s,value:s},Ae(r,n.props.dateFormat,n.props.locale))),r=gn(r,1)}return o},n.onSelectChange=function(r){n.onChange(parseInt(r.target.value))},n.renderSelectMode=function(){return V.createElement("select",{value:qh(Jn(n.props.date)),className:"react-datepicker__month-year-select",onChange:n.onSelectChange},n.renderSelectOptions())},n.renderReadView=function(r){var i=Ae(n.props.date,n.props.dateFormat,n.props.locale);return V.createElement("div",{key:"read",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__month-year-read-view",onClick:n.toggleDropdown},V.createElement("span",{className:"react-datepicker__month-year-read-view--down-arrow"}),V.createElement("span",{className:"react-datepicker__month-year-read-view--selected-month-year"},i))},n.renderDropdown=function(){return V.createElement(KN,pe({key:"dropdown"},n.props,{onChange:n.onChange,onCancel:n.toggleDropdown}))},n.renderScrollMode=function(){var r=n.state.dropdownVisible,i=[n.renderReadView(!r)];return r&&i.unshift(n.renderDropdown()),i},n.onChange=function(r){n.toggleDropdown();var i=Te(r);En(n.props.date,i)&&kt(n.props.date,i)||n.props.onChange(i)},n.toggleDropdown=function(){return n.setState({dropdownVisible:!n.state.dropdownVisible})},n}return e.prototype.render=function(){var n;switch(this.props.dropdownMode){case"scroll":n=this.renderScrollMode();break;case"select":n=this.renderSelectMode();break}return V.createElement("div",{className:"react-datepicker__month-year-dropdown-container react-datepicker__month-year-dropdown-container--".concat(this.props.dropdownMode)},n)},e}(M.Component),XN=function(t){it(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.state={height:null},n.scrollToTheSelectedTime=function(){requestAnimationFrame(function(){var r,i,o;n.list&&(n.list.scrollTop=(o=n.centerLi&&e.calcCenterPosition(n.props.monthRef?n.props.monthRef.clientHeight-((i=(r=n.header)===null||r===void 0?void 0:r.clientHeight)!==null&&i!==void 0?i:0):n.list.clientHeight,n.centerLi))!==null&&o!==void 0?o:0)})},n.handleClick=function(r){var i,o;(n.props.minTime||n.props.maxTime)&&$v(r,n.props)||(n.props.excludeTimes||n.props.includeTimes||n.props.filterTime)&&jv(r,n.props)||(o=(i=n.props).onChange)===null||o===void 0||o.call(i,r)},n.isSelectedTime=function(r){return n.props.selected&&BN(n.props.selected,r)},n.isDisabledTime=function(r){return(n.props.minTime||n.props.maxTime)&&$v(r,n.props)||(n.props.excludeTimes||n.props.includeTimes||n.props.filterTime)&&jv(r,n.props)},n.liClasses=function(r){var i,o=["react-datepicker__time-list-item",n.props.timeClassName?n.props.timeClassName(r):void 0];return n.isSelectedTime(r)&&o.push("react-datepicker__time-list-item--selected"),n.isDisabledTime(r)&&o.push("react-datepicker__time-list-item--disabled"),n.props.injectTimes&&(Pn(r)*3600+Rn(r)*60+Xn(r))%(((i=n.props.intervals)!==null&&i!==void 0?i:e.defaultProps.intervals)*60)!==0&&o.push("react-datepicker__time-list-item--injected"),o.join(" ")},n.handleOnKeyDown=function(r,i){var o,s;r.key===Y.Space&&(r.preventDefault(),r.key=Y.Enter),(r.key===Y.ArrowUp||r.key===Y.ArrowLeft)&&r.target instanceof HTMLElement&&r.target.previousSibling&&(r.preventDefault(),r.target.previousSibling instanceof HTMLElement&&r.target.previousSibling.focus()),(r.key===Y.ArrowDown||r.key===Y.ArrowRight)&&r.target instanceof HTMLElement&&r.target.nextSibling&&(r.preventDefault(),r.target.nextSibling instanceof HTMLElement&&r.target.nextSibling.focus()),r.key===Y.Enter&&n.handleClick(i),(s=(o=n.props).handleOnKeyDown)===null||s===void 0||s.call(o,r)},n.renderTimes=function(){for(var r,i=[],o=typeof n.props.format=="string"?n.props.format:"p",s=(r=n.props.intervals)!==null&&r!==void 0?r:e.defaultProps.intervals,a=n.props.selected||n.props.openToDate||Te(),u=ql(a),c=n.props.injectTimes&&n.props.injectTimes.sort(function(k,v){return k.getTime()-v.getTime()}),d=60*FN(a),f=d/s,p=0;p<f;p++){var g=Wh(u,p*s);if(i.push(g),c){var D=VN(u,g,p,s,c);i=i.concat(D)}}var I=i.reduce(function(k,v){return v.getTime()<=a.getTime()?v:k},i[0]);return i.map(function(k){return V.createElement("li",{key:k.valueOf(),onClick:n.handleClick.bind(n,k),className:n.liClasses(k),ref:function(v){k===I&&(n.centerLi=v)},onKeyDown:function(v){n.handleOnKeyDown(v,k)},tabIndex:k===I?0:-1,role:"option","aria-selected":n.isSelectedTime(k)?"true":void 0,"aria-disabled":n.isDisabledTime(k)?"true":void 0},Ae(k,o,n.props.locale))})},n.renderTimeCaption=function(){return n.props.showTimeCaption===!1?V.createElement(V.Fragment,null):V.createElement("div",{className:"react-datepicker__header react-datepicker__header--time ".concat(n.props.showTimeSelectOnly?"react-datepicker__header--time--only":""),ref:function(r){n.header=r}},V.createElement("div",{className:"react-datepicker-time__header"},n.props.timeCaption))},n}return Object.defineProperty(e,"defaultProps",{get:function(){return{intervals:30,todayButton:null,timeCaption:"Time",showTimeCaption:!0}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){this.scrollToTheSelectedTime(),this.props.monthRef&&this.header&&this.setState({height:this.props.monthRef.clientHeight-this.header.clientHeight})},e.prototype.render=function(){var n=this,r,i=this.state.height;return V.createElement("div",{className:"react-datepicker__time-container ".concat(((r=this.props.todayButton)!==null&&r!==void 0?r:e.defaultProps.todayButton)?"react-datepicker__time-container--with-today-button":"")},this.renderTimeCaption(),V.createElement("div",{className:"react-datepicker__time"},V.createElement("div",{className:"react-datepicker__time-box"},V.createElement("ul",{className:"react-datepicker__time-list",ref:function(o){n.list=o},style:i?{height:i}:{},role:"listbox","aria-label":this.props.timeCaption},this.renderTimes()))))},e.calcCenterPosition=function(n,r){return r.offsetTop-(n/2-r.clientHeight/2)},e}(M.Component),Zv=3,JN=function(t){it(e,t);function e(n){var r=t.call(this,n)||this;return r.YEAR_REFS=kn([],Array(r.props.yearItemNumber),!0).map(function(){return M.createRef()}),r.isDisabled=function(i){return Zt(i,{minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,includeDates:r.props.includeDates,filterDate:r.props.filterDate})},r.isExcluded=function(i){return hm(i,{excludeDates:r.props.excludeDates})},r.selectingDate=function(){var i;return(i=r.props.selectingDate)!==null&&i!==void 0?i:r.props.preSelection},r.updateFocusOnPaginate=function(i){var o=function(){var s,a;(a=(s=r.YEAR_REFS[i])===null||s===void 0?void 0:s.current)===null||a===void 0||a.focus()};window.requestAnimationFrame(o)},r.handleYearClick=function(i,o){r.props.onDayClick&&r.props.onDayClick(i,o)},r.handleYearNavigation=function(i,o){var s,a,u,c,d=r.props,f=d.date,p=d.yearItemNumber;if(!(f===void 0||p===void 0)){var g=wr(f,p).startPeriod;r.isDisabled(o)||r.isExcluded(o)||((a=(s=r.props).setPreSelection)===null||a===void 0||a.call(s,o),i-g<0?r.updateFocusOnPaginate(p-(g-i)):i-g>=p?r.updateFocusOnPaginate(Math.abs(p-(i-g))):(c=(u=r.YEAR_REFS[i-g])===null||u===void 0?void 0:u.current)===null||c===void 0||c.focus())}},r.isSameDay=function(i,o){return he(i,o)},r.isCurrentYear=function(i){return i===ae(Te())},r.isRangeStart=function(i){return r.props.startDate&&r.props.endDate&&En(wn(Te(),i),r.props.startDate)},r.isRangeEnd=function(i){return r.props.startDate&&r.props.endDate&&En(wn(Te(),i),r.props.endDate)},r.isInRange=function(i){return Sl(i,r.props.startDate,r.props.endDate)},r.isInSelectingRange=function(i){var o=r.props,s=o.selectsStart,a=o.selectsEnd,u=o.selectsRange,c=o.startDate,d=o.endDate;return!(s||a||u)||!r.selectingDate()?!1:s&&d?Sl(i,r.selectingDate(),d):a&&c||u&&c&&!d?Sl(i,c,r.selectingDate()):!1},r.isSelectingRangeStart=function(i){var o;if(!r.isInSelectingRange(i))return!1;var s=r.props,a=s.startDate,u=s.selectsStart,c=wn(Te(),i);return u?En(c,(o=r.selectingDate())!==null&&o!==void 0?o:null):En(c,a??null)},r.isSelectingRangeEnd=function(i){var o;if(!r.isInSelectingRange(i))return!1;var s=r.props,a=s.endDate,u=s.selectsEnd,c=s.selectsRange,d=wn(Te(),i);return u||c?En(d,(o=r.selectingDate())!==null&&o!==void 0?o:null):En(d,a??null)},r.isKeyboardSelected=function(i){if(!(r.props.date===void 0||r.props.selected==null||r.props.preSelection==null)){var o=r.props,s=o.minDate,a=o.maxDate,u=o.excludeDates,c=o.includeDates,d=o.filterDate,f=ks(wn(r.props.date,i)),p=(s||a||u||c||d)&&Kl(i,r.props);return!r.props.disabledKeyboardNavigation&&!r.props.inline&&!he(f,ks(r.props.selected))&&he(f,ks(r.props.preSelection))&&!p}},r.onYearClick=function(i,o){var s=r.props.date;s!==void 0&&r.handleYearClick(ks(wn(s,o)),i)},r.onYearKeyDown=function(i,o){var s,a,u=i.key,c=r.props,d=c.date,f=c.yearItemNumber,p=c.handleOnKeyDown;if(u!==Y.Tab&&i.preventDefault(),!r.props.disabledKeyboardNavigation)switch(u){case Y.Enter:if(r.props.selected==null)break;r.onYearClick(i,o),(a=(s=r.props).setPreSelection)===null||a===void 0||a.call(s,r.props.selected);break;case Y.ArrowRight:if(r.props.preSelection==null)break;r.handleYearNavigation(o+1,Kn(r.props.preSelection,1));break;case Y.ArrowLeft:if(r.props.preSelection==null)break;r.handleYearNavigation(o-1,Eo(r.props.preSelection,1));break;case Y.ArrowUp:{if(d===void 0||f===void 0||r.props.preSelection==null)break;var g=wr(d,f).startPeriod,D=Zv,I=o-D;if(I<g){var k=f%D;o>=g&&o<g+k?D=k:D+=k,I=o-D}r.handleYearNavigation(I,Eo(r.props.preSelection,D));break}case Y.ArrowDown:{if(d===void 0||f===void 0||r.props.preSelection==null)break;var v=wr(d,f).endPeriod,D=Zv,I=o+D;if(I>v){var k=f%D;o<=v&&o>v-k?D=k:D+=k,I=o+D}r.handleYearNavigation(I,Kn(r.props.preSelection,D));break}}p&&p(i)},r.getYearClassNames=function(i){var o=r.props,s=o.date,a=o.minDate,u=o.maxDate,c=o.selected,d=o.excludeDates,f=o.includeDates,p=o.filterDate,g=o.yearClassName;return nt("react-datepicker__year-text","react-datepicker__year-".concat(i),s?g==null?void 0:g(wn(s,i)):void 0,{"react-datepicker__year-text--selected":c?i===ae(c):void 0,"react-datepicker__year-text--disabled":(a||u||d||f||p)&&Kl(i,r.props),"react-datepicker__year-text--keyboard-selected":r.isKeyboardSelected(i),"react-datepicker__year-text--range-start":r.isRangeStart(i),"react-datepicker__year-text--range-end":r.isRangeEnd(i),"react-datepicker__year-text--in-range":r.isInRange(i),"react-datepicker__year-text--in-selecting-range":r.isInSelectingRange(i),"react-datepicker__year-text--selecting-range-start":r.isSelectingRangeStart(i),"react-datepicker__year-text--selecting-range-end":r.isSelectingRangeEnd(i),"react-datepicker__year-text--today":r.isCurrentYear(i)})},r.getYearTabIndex=function(i){if(r.props.disabledKeyboardNavigation||r.props.preSelection==null)return"-1";var o=ae(r.props.preSelection),s=Kl(i,r.props);return i===o&&!s?"0":"-1"},r.getYearContainerClassNames=function(){var i=r.props,o=i.selectingDate,s=i.selectsStart,a=i.selectsEnd,u=i.selectsRange;return nt("react-datepicker__year",{"react-datepicker__year--selecting-range":o&&(s||a||u)})},r.getYearContent=function(i){return r.props.renderYearContent?r.props.renderYearContent(i):i},r}return e.prototype.render=function(){var n=this,r=[],i=this.props,o=i.date,s=i.yearItemNumber,a=i.onYearMouseEnter,u=i.onYearMouseLeave;if(o===void 0)return null;for(var c=wr(o,s),d=c.startPeriod,f=c.endPeriod,p=function(I){r.push(V.createElement("div",{ref:g.YEAR_REFS[I-d],onClick:function(k){n.onYearClick(k,I)},onKeyDown:function(k){Y1(k)&&(k.preventDefault(),k.key=Y.Enter),n.onYearKeyDown(k,I)},tabIndex:Number(g.getYearTabIndex(I)),className:g.getYearClassNames(I),onMouseEnter:g.props.usePointerEvent?void 0:function(k){return a(k,I)},onPointerEnter:g.props.usePointerEvent?function(k){return a(k,I)}:void 0,onMouseLeave:g.props.usePointerEvent?void 0:function(k){return u(k,I)},onPointerLeave:g.props.usePointerEvent?function(k){return u(k,I)}:void 0,key:I,"aria-current":g.isCurrentYear(I)?"date":void 0},g.getYearContent(I)))},g=this,D=d;D<=f;D++)p(D);return V.createElement("div",{className:this.getYearContainerClassNames()},V.createElement("div",{className:"react-datepicker__year-wrapper",onMouseLeave:this.props.usePointerEvent?void 0:this.props.clearSelectingDate,onPointerLeave:this.props.usePointerEvent?this.props.clearSelectingDate:void 0},r))},e}(M.Component);function ZN(t,e,n,r){for(var i=[],o=0;o<2*e+1;o++){var s=t+e-o,a=!0;n&&(a=ae(n)<=s),r&&a&&(a=ae(r)>=s),a&&i.push(s)}return i}var e2=function(t){it(e,t);function e(n){var r=t.call(this,n)||this;r.renderOptions=function(){var a=r.props.year,u=r.state.yearsList.map(function(f){return V.createElement("div",{className:a===f?"react-datepicker__year-option react-datepicker__year-option--selected_year":"react-datepicker__year-option",key:f,onClick:r.onChange.bind(r,f),"aria-selected":a===f?"true":void 0},a===f?V.createElement("span",{className:"react-datepicker__year-option--selected"},""):"",f)}),c=r.props.minDate?ae(r.props.minDate):null,d=r.props.maxDate?ae(r.props.maxDate):null;return(!d||!r.state.yearsList.find(function(f){return f===d}))&&u.unshift(V.createElement("div",{className:"react-datepicker__year-option",key:"upcoming",onClick:r.incrementYears},V.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),(!c||!r.state.yearsList.find(function(f){return f===c}))&&u.push(V.createElement("div",{className:"react-datepicker__year-option",key:"previous",onClick:r.decrementYears},V.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),u},r.onChange=function(a){r.props.onChange(a)},r.handleClickOutside=function(){r.props.onCancel()},r.shiftYears=function(a){var u=r.state.yearsList.map(function(c){return c+a});r.setState({yearsList:u})},r.incrementYears=function(){return r.shiftYears(1)},r.decrementYears=function(){return r.shiftYears(-1)};var i=n.yearDropdownItemNumber,o=n.scrollableYearDropdown,s=i||(o?10:5);return r.state={yearsList:ZN(r.props.year,s,r.props.minDate,r.props.maxDate)},r.dropdownRef=M.createRef(),r}return e.prototype.componentDidMount=function(){var n=this.dropdownRef.current;if(n){var r=n.children?Array.from(n.children):null,i=r?r.find(function(o){return o.ariaSelected}):null;n.scrollTop=i&&i instanceof HTMLElement?i.offsetTop+(i.clientHeight-n.clientHeight)/2:(n.scrollHeight-n.clientHeight)/2}},e.prototype.render=function(){var n=nt({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return V.createElement(bc,{className:n,containerRef:this.dropdownRef,onClickOutside:this.handleClickOutside},this.renderOptions())},e}(M.Component),t2=function(t){it(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.state={dropdownVisible:!1},n.renderSelectOptions=function(){for(var r=n.props.minDate?ae(n.props.minDate):1900,i=n.props.maxDate?ae(n.props.maxDate):2100,o=[],s=r;s<=i;s++)o.push(V.createElement("option",{key:s,value:s},s));return o},n.onSelectChange=function(r){n.onChange(parseInt(r.target.value))},n.renderSelectMode=function(){return V.createElement("select",{value:n.props.year,className:"react-datepicker__year-select",onChange:n.onSelectChange},n.renderSelectOptions())},n.renderReadView=function(r){return V.createElement("div",{key:"read",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:function(i){return n.toggleDropdown(i)}},V.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),V.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},n.props.year))},n.renderDropdown=function(){return V.createElement(e2,pe({key:"dropdown"},n.props,{onChange:n.onChange,onCancel:n.toggleDropdown}))},n.renderScrollMode=function(){var r=n.state.dropdownVisible,i=[n.renderReadView(!r)];return r&&i.unshift(n.renderDropdown()),i},n.onChange=function(r){n.toggleDropdown(),r!==n.props.year&&n.props.onChange(r)},n.toggleDropdown=function(r){n.setState({dropdownVisible:!n.state.dropdownVisible},function(){n.props.adjustDateOnChange&&n.handleYearChange(n.props.date,r)})},n.handleYearChange=function(r,i){var o;(o=n.onSelect)===null||o===void 0||o.call(n,r,i),n.setOpen()},n.onSelect=function(r,i){var o,s;(s=(o=n.props).onSelect)===null||s===void 0||s.call(o,r,i)},n.setOpen=function(){var r,i;(i=(r=n.props).setOpen)===null||i===void 0||i.call(r,!0)},n}return e.prototype.render=function(){var n;switch(this.props.dropdownMode){case"scroll":n=this.renderScrollMode();break;case"select":n=this.renderSelectMode();break}return V.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--".concat(this.props.dropdownMode)},n)},e}(M.Component),n2=["react-datepicker__year-select","react-datepicker__month-select","react-datepicker__month-year-select"],r2=function(t){var e=(t.className||"").split(/\s+/);return n2.some(function(n){return e.indexOf(n)>=0})},i2=function(t){it(e,t);function e(n){var r=t.call(this,n)||this;return r.monthContainer=void 0,r.handleClickOutside=function(i){r.props.onClickOutside(i)},r.setClickOutsideRef=function(){return r.containerRef.current},r.handleDropdownFocus=function(i){var o,s;r2(i.target)&&((s=(o=r.props).onDropdownFocus)===null||s===void 0||s.call(o,i))},r.getDateInView=function(){var i=r.props,o=i.preSelection,s=i.selected,a=i.openToDate,u=$1(r.props),c=z1(r.props),d=Te(),f=a||s||o;return f||(u&&vi(d,u)?u:c&&Vr(d,c)?c:d)},r.increaseMonth=function(){r.setState(function(i){var o=i.date;return{date:gn(o,1)}},function(){return r.handleMonthChange(r.state.date)})},r.decreaseMonth=function(){r.setState(function(i){var o=i.date;return{date:wo(o,1)}},function(){return r.handleMonthChange(r.state.date)})},r.handleDayClick=function(i,o,s){r.props.onSelect(i,o,s),r.props.setPreSelection&&r.props.setPreSelection(i)},r.handleDayMouseEnter=function(i){r.setState({selectingDate:i}),r.props.onDayMouseEnter&&r.props.onDayMouseEnter(i)},r.handleMonthMouseLeave=function(){r.setState({selectingDate:void 0}),r.props.onMonthMouseLeave&&r.props.onMonthMouseLeave()},r.handleYearMouseEnter=function(i,o){r.setState({selectingDate:wn(Te(),o)}),r.props.onYearMouseEnter&&r.props.onYearMouseEnter(i,o)},r.handleYearMouseLeave=function(i,o){r.props.onYearMouseLeave&&r.props.onYearMouseLeave(i,o)},r.handleYearChange=function(i){var o,s,a,u;(s=(o=r.props).onYearChange)===null||s===void 0||s.call(o,i),r.setState({isRenderAriaLiveMessage:!0}),r.props.adjustDateOnChange&&(r.props.onSelect(i),(u=(a=r.props).setOpen)===null||u===void 0||u.call(a,!0)),r.props.setPreSelection&&r.props.setPreSelection(i)},r.getEnabledPreSelectionDateForMonth=function(i){if(!Zt(i,r.props))return i;for(var o=Jn(i),s=kN(i),a=Yk(s,o),u=null,c=0;c<=a;c++){var d=rr(o,c);if(!Zt(d,r.props)){u=d;break}}return u},r.handleMonthChange=function(i){var o,s,a,u=(o=r.getEnabledPreSelectionDateForMonth(i))!==null&&o!==void 0?o:i;r.handleCustomMonthChange(u),r.props.adjustDateOnChange&&(r.props.onSelect(u),(a=(s=r.props).setOpen)===null||a===void 0||a.call(s,!0)),r.props.setPreSelection&&r.props.setPreSelection(u)},r.handleCustomMonthChange=function(i){var o,s;(s=(o=r.props).onMonthChange)===null||s===void 0||s.call(o,i),r.setState({isRenderAriaLiveMessage:!0})},r.handleMonthYearChange=function(i){r.handleYearChange(i),r.handleMonthChange(i)},r.changeYear=function(i){r.setState(function(o){var s=o.date;return{date:wn(s,Number(i))}},function(){return r.handleYearChange(r.state.date)})},r.changeMonth=function(i){r.setState(function(o){var s=o.date;return{date:jt(s,Number(i))}},function(){return r.handleMonthChange(r.state.date)})},r.changeMonthYear=function(i){r.setState(function(o){var s=o.date;return{date:wn(jt(s,Ct(i)),ae(i))}},function(){return r.handleMonthYearChange(r.state.date)})},r.header=function(i){i===void 0&&(i=r.state.date);var o=Nr(i,r.props.locale,r.props.calendarStartDay),s=[];return r.props.showWeekNumbers&&s.push(V.createElement("div",{key:"W",className:"react-datepicker__day-name"},r.props.weekLabel||"#")),s.concat([0,1,2,3,4,5,6].map(function(a){var u=rr(o,a),c=r.formatWeekday(u,r.props.locale),d=r.props.weekDayClassName?r.props.weekDayClassName(u):void 0;return V.createElement("div",{key:a,"aria-label":Ae(u,"EEEE",r.props.locale),className:nt("react-datepicker__day-name",d)},c)}))},r.formatWeekday=function(i,o){return r.props.formatWeekDay?CN(i,r.props.formatWeekDay,o):r.props.useWeekdaysShort?PN(i,o):IN(i,o)},r.decreaseYear=function(){r.setState(function(i){var o,s=i.date;return{date:Eo(s,r.props.showYearPicker?(o=r.props.yearItemNumber)!==null&&o!==void 0?o:e.defaultProps.yearItemNumber:1)}},function(){return r.handleYearChange(r.state.date)})},r.clearSelectingDate=function(){r.setState({selectingDate:void 0})},r.renderPreviousButton=function(){var i;if(!r.props.renderCustomHeader){var o;switch(!0){case r.props.showMonthYearPicker:o=Wv(r.state.date,r.props);break;case r.props.showYearPicker:o=MN(r.state.date,r.props);break;case r.props.showQuarterYearPicker:o=AN(r.state.date,r.props);break;default:o=zv(r.state.date,r.props);break}if(!(!((i=r.props.forceShowMonthNavigation)!==null&&i!==void 0?i:e.defaultProps.forceShowMonthNavigation)&&!r.props.showDisabledMonthNavigation&&o||r.props.showTimeSelectOnly)){var s=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--previous"],a=["react-datepicker__navigation","react-datepicker__navigation--previous"],u=r.decreaseMonth;(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker)&&(u=r.decreaseYear),o&&r.props.showDisabledMonthNavigation&&(a.push("react-datepicker__navigation--previous--disabled"),u=void 0);var c=r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker,d=r.props,f=d.previousMonthButtonLabel,p=f===void 0?e.defaultProps.previousMonthButtonLabel:f,g=d.previousYearButtonLabel,D=g===void 0?e.defaultProps.previousYearButtonLabel:g,I=r.props,k=I.previousMonthAriaLabel,v=k===void 0?typeof p=="string"?p:"Previous Month":k,_=I.previousYearAriaLabel,E=_===void 0?typeof D=="string"?D:"Previous Year":_;return V.createElement("button",{type:"button",className:a.join(" "),onClick:u,onKeyDown:r.props.handleOnKeyDown,"aria-label":c?E:v},V.createElement("span",{className:s.join(" ")},c?D:p))}}},r.increaseYear=function(){r.setState(function(i){var o,s=i.date;return{date:Kn(s,r.props.showYearPicker?(o=r.props.yearItemNumber)!==null&&o!==void 0?o:e.defaultProps.yearItemNumber:1)}},function(){return r.handleYearChange(r.state.date)})},r.renderNextButton=function(){var i;if(!r.props.renderCustomHeader){var o;switch(!0){case r.props.showMonthYearPicker:o=Hv(r.state.date,r.props);break;case r.props.showYearPicker:o=NN(r.state.date,r.props);break;case r.props.showQuarterYearPicker:o=bN(r.state.date,r.props);break;default:o=Yv(r.state.date,r.props);break}if(!(!((i=r.props.forceShowMonthNavigation)!==null&&i!==void 0?i:e.defaultProps.forceShowMonthNavigation)&&!r.props.showDisabledMonthNavigation&&o||r.props.showTimeSelectOnly)){var s=["react-datepicker__navigation","react-datepicker__navigation--next"],a=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--next"];r.props.showTimeSelect&&s.push("react-datepicker__navigation--next--with-time"),r.props.todayButton&&s.push("react-datepicker__navigation--next--with-today-button");var u=r.increaseMonth;(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker)&&(u=r.increaseYear),o&&r.props.showDisabledMonthNavigation&&(s.push("react-datepicker__navigation--next--disabled"),u=void 0);var c=r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker,d=r.props,f=d.nextMonthButtonLabel,p=f===void 0?e.defaultProps.nextMonthButtonLabel:f,g=d.nextYearButtonLabel,D=g===void 0?e.defaultProps.nextYearButtonLabel:g,I=r.props,k=I.nextMonthAriaLabel,v=k===void 0?typeof p=="string"?p:"Next Month":k,_=I.nextYearAriaLabel,E=_===void 0?typeof D=="string"?D:"Next Year":_;return V.createElement("button",{type:"button",className:s.join(" "),onClick:u,onKeyDown:r.props.handleOnKeyDown,"aria-label":c?E:v},V.createElement("span",{className:a.join(" ")},c?D:p))}}},r.renderCurrentMonth=function(i){i===void 0&&(i=r.state.date);var o=["react-datepicker__current-month"];return r.props.showYearDropdown&&o.push("react-datepicker__current-month--hasYearDropdown"),r.props.showMonthDropdown&&o.push("react-datepicker__current-month--hasMonthDropdown"),r.props.showMonthYearDropdown&&o.push("react-datepicker__current-month--hasMonthYearDropdown"),V.createElement("h2",{className:o.join(" ")},Ae(i,r.props.dateFormat,r.props.locale))},r.renderYearDropdown=function(i){if(i===void 0&&(i=!1),!(!r.props.showYearDropdown||i))return V.createElement(t2,pe({},e.defaultProps,r.props,{date:r.state.date,onChange:r.changeYear,year:ae(r.state.date)}))},r.renderMonthDropdown=function(i){if(i===void 0&&(i=!1),!(!r.props.showMonthDropdown||i))return V.createElement(QN,pe({},e.defaultProps,r.props,{month:Ct(r.state.date),onChange:r.changeMonth}))},r.renderMonthYearDropdown=function(i){if(i===void 0&&(i=!1),!(!r.props.showMonthYearDropdown||i))return V.createElement(GN,pe({},e.defaultProps,r.props,{date:r.state.date,onChange:r.changeMonthYear}))},r.handleTodayButtonClick=function(i){r.props.onSelect(Fv(),i),r.props.setPreSelection&&r.props.setPreSelection(Fv())},r.renderTodayButton=function(){if(!(!r.props.todayButton||r.props.showTimeSelectOnly))return V.createElement("div",{className:"react-datepicker__today-button",onClick:r.handleTodayButtonClick},r.props.todayButton)},r.renderDefaultHeader=function(i){var o=i.monthDate,s=i.i;return V.createElement("div",{className:"react-datepicker__header ".concat(r.props.showTimeSelect?"react-datepicker__header--has-time-select":"")},r.renderCurrentMonth(o),V.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--".concat(r.props.dropdownMode),onFocus:r.handleDropdownFocus},r.renderMonthDropdown(s!==0),r.renderMonthYearDropdown(s!==0),r.renderYearDropdown(s!==0)),V.createElement("div",{className:"react-datepicker__day-names"},r.header(o)))},r.renderCustomHeader=function(i){var o,s,a=i.monthDate,u=i.i;if(r.props.showTimeSelect&&!r.state.monthContainer||r.props.showTimeSelectOnly)return null;var c=zv(r.state.date,r.props),d=Yv(r.state.date,r.props),f=Wv(r.state.date,r.props),p=Hv(r.state.date,r.props),g=!r.props.showMonthYearPicker&&!r.props.showQuarterYearPicker&&!r.props.showYearPicker;return V.createElement("div",{className:"react-datepicker__header react-datepicker__header--custom",onFocus:r.props.onDropdownFocus},(s=(o=r.props).renderCustomHeader)===null||s===void 0?void 0:s.call(o,pe(pe({},r.state),{customHeaderCount:u,monthDate:a,changeMonth:r.changeMonth,changeYear:r.changeYear,decreaseMonth:r.decreaseMonth,increaseMonth:r.increaseMonth,decreaseYear:r.decreaseYear,increaseYear:r.increaseYear,prevMonthButtonDisabled:c,nextMonthButtonDisabled:d,prevYearButtonDisabled:f,nextYearButtonDisabled:p})),g&&V.createElement("div",{className:"react-datepicker__day-names"},r.header(a)))},r.renderYearHeader=function(i){var o=i.monthDate,s=r.props,a=s.showYearPicker,u=s.yearItemNumber,c=u===void 0?e.defaultProps.yearItemNumber:u,d=wr(o,c),f=d.startPeriod,p=d.endPeriod;return V.createElement("div",{className:"react-datepicker__header react-datepicker-year-header"},a?"".concat(f," - ").concat(p):ae(o))},r.renderHeader=function(i){var o=i.monthDate,s=i.i,a=s===void 0?0:s,u={monthDate:o,i:a};switch(!0){case r.props.renderCustomHeader!==void 0:return r.renderCustomHeader(u);case(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker):return r.renderYearHeader(u);default:return r.renderDefaultHeader(u)}},r.renderMonths=function(){var i,o;if(!(r.props.showTimeSelectOnly||r.props.showYearPicker)){for(var s=[],a=(i=r.props.monthsShown)!==null&&i!==void 0?i:e.defaultProps.monthsShown,u=r.props.showPreviousMonths?a-1:0,c=r.props.showMonthYearPicker||r.props.showQuarterYearPicker?Kn(r.state.date,u):wo(r.state.date,u),d=(o=r.props.monthSelectedIn)!==null&&o!==void 0?o:u,f=0;f<a;++f){var p=f-d+u,g=r.props.showMonthYearPicker||r.props.showQuarterYearPicker?Kn(c,p):gn(c,p),D="month-".concat(f),I=f<a-1,k=f>0;s.push(V.createElement("div",{key:D,ref:function(v){r.monthContainer=v??void 0},className:"react-datepicker__month-container"},r.renderHeader({monthDate:g,i:f}),V.createElement(WN,pe({},e.defaultProps,r.props,{ariaLabelPrefix:r.props.monthAriaLabelPrefix,day:g,onDayClick:r.handleDayClick,handleOnKeyDown:r.props.handleOnDayKeyDown,handleOnMonthKeyDown:r.props.handleOnKeyDown,onDayMouseEnter:r.handleDayMouseEnter,onMouseLeave:r.handleMonthMouseLeave,orderInDisplay:f,selectingDate:r.state.selectingDate,monthShowsDuplicateDaysEnd:I,monthShowsDuplicateDaysStart:k}))))}return s}},r.renderYears=function(){if(!r.props.showTimeSelectOnly&&r.props.showYearPicker)return V.createElement("div",{className:"react-datepicker__year--container"},r.renderHeader({monthDate:r.state.date}),V.createElement(JN,pe({},e.defaultProps,r.props,{selectingDate:r.state.selectingDate,date:r.state.date,onDayClick:r.handleDayClick,clearSelectingDate:r.clearSelectingDate,onYearMouseEnter:r.handleYearMouseEnter,onYearMouseLeave:r.handleYearMouseLeave})))},r.renderTimeSection=function(){if(r.props.showTimeSelect&&(r.state.monthContainer||r.props.showTimeSelectOnly))return V.createElement(XN,pe({},e.defaultProps,r.props,{onChange:r.props.onTimeChange,format:r.props.timeFormat,intervals:r.props.timeIntervals,monthRef:r.state.monthContainer}))},r.renderInputTimeSection=function(){var i=r.props.selected?new Date(r.props.selected):void 0,o=i&&Wn(i)&&!!r.props.selected,s=o?"".concat(qv(i.getHours()),":").concat(qv(i.getMinutes())):"";if(r.props.showTimeInput)return V.createElement(UN,pe({},e.defaultProps,r.props,{date:i,timeString:s,onChange:r.props.onTimeChange}))},r.renderAriaLiveRegion=function(){var i,o=wr(r.state.date,(i=r.props.yearItemNumber)!==null&&i!==void 0?i:e.defaultProps.yearItemNumber),s=o.startPeriod,a=o.endPeriod,u;return r.props.showYearPicker?u="".concat(s," - ").concat(a):r.props.showMonthYearPicker||r.props.showQuarterYearPicker?u=ae(r.state.date):u="".concat(dm(Ct(r.state.date),r.props.locale)," ").concat(ae(r.state.date)),V.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},r.state.isRenderAriaLiveMessage&&u)},r.renderChildren=function(){if(r.props.children)return V.createElement("div",{className:"react-datepicker__children-container"},r.props.children)},r.containerRef=M.createRef(),r.state={date:r.getDateInView(),selectingDate:void 0,monthContainer:void 0,isRenderAriaLiveMessage:!1},r}return Object.defineProperty(e,"defaultProps",{get:function(){return{monthsShown:1,forceShowMonthNavigation:!1,timeCaption:"Time",previousYearButtonLabel:"Previous Year",nextYearButtonLabel:"Next Year",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next Month",yearItemNumber:Pa}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){var n=this;this.props.showTimeSelect&&(this.assignMonthContainer=function(){n.setState({monthContainer:n.monthContainer})}())},e.prototype.componentDidUpdate=function(n){var r=this;if(this.props.preSelection&&(!he(this.props.preSelection,n.preSelection)||this.props.monthSelectedIn!==n.monthSelectedIn)){var i=!kt(this.state.date,this.props.preSelection);this.setState({date:this.props.preSelection},function(){return i&&r.handleCustomMonthChange(r.state.date)})}else this.props.openToDate&&!he(this.props.openToDate,n.openToDate)&&this.setState({date:this.props.openToDate})},e.prototype.render=function(){var n=this.props.container||yN;return V.createElement(bc,{onClickOutside:this.handleClickOutside,style:{display:"contents"},containerRef:this.containerRef,ignoreClass:this.props.outsideClickIgnoreClass},V.createElement(n,{className:nt("react-datepicker",this.props.className,{"react-datepicker--time-only":this.props.showTimeSelectOnly}),showTime:this.props.showTimeSelect||this.props.showTimeInput,showTimeSelectOnly:this.props.showTimeSelectOnly},this.renderAriaLiveRegion(),this.renderPreviousButton(),this.renderNextButton(),this.renderMonths(),this.renderYears(),this.renderTodayButton(),this.renderTimeSection(),this.renderInputTimeSection(),this.renderChildren()))},e}(M.Component),o2=function(t){var e=t.icon,n=t.className,r=n===void 0?"":n,i=t.onClick,o="react-datepicker__calendar-icon";return typeof e=="string"?V.createElement("i",{className:"".concat(o," ").concat(e," ").concat(r),"aria-hidden":"true",onClick:i}):V.isValidElement(e)?V.cloneElement(e,{className:"".concat(e.props.className||""," ").concat(o," ").concat(r),onClick:function(s){typeof e.props.onClick=="function"&&e.props.onClick(s),typeof i=="function"&&i(s)}}):V.createElement("svg",{className:"".concat(o," ").concat(r),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",onClick:i},V.createElement("path",{d:"M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z"}))},W1=function(t){it(e,t);function e(n){var r=t.call(this,n)||this;return r.portalRoot=null,r.el=document.createElement("div"),r}return e.prototype.componentDidMount=function(){this.portalRoot=(this.props.portalHost||document).getElementById(this.props.portalId),this.portalRoot||(this.portalRoot=document.createElement("div"),this.portalRoot.setAttribute("id",this.props.portalId),(this.props.portalHost||document.body).appendChild(this.portalRoot)),this.portalRoot.appendChild(this.el)},e.prototype.componentWillUnmount=function(){this.portalRoot&&this.portalRoot.removeChild(this.el)},e.prototype.render=function(){return dk.createPortal(this.props.children,this.el)},e}(M.Component),s2="[tabindex], a, button, input, select, textarea",a2=function(t){return(t instanceof HTMLAnchorElement||!t.disabled)&&t.tabIndex!==-1},H1=function(t){it(e,t);function e(n){var r=t.call(this,n)||this;return r.getTabChildren=function(){var i;return Array.prototype.slice.call((i=r.tabLoopRef.current)===null||i===void 0?void 0:i.querySelectorAll(s2),1,-1).filter(a2)},r.handleFocusStart=function(){var i=r.getTabChildren();i&&i.length>1&&i[i.length-1].focus()},r.handleFocusEnd=function(){var i=r.getTabChildren();i&&i.length>1&&i[0].focus()},r.tabLoopRef=M.createRef(),r}return e.prototype.render=function(){var n;return((n=this.props.enableTabLoop)!==null&&n!==void 0?n:e.defaultProps.enableTabLoop)?V.createElement("div",{className:"react-datepicker__tab-loop",ref:this.tabLoopRef},V.createElement("div",{className:"react-datepicker__tab-loop__start",tabIndex:0,onFocus:this.handleFocusStart}),this.props.children,V.createElement("div",{className:"react-datepicker__tab-loop__end",tabIndex:0,onFocus:this.handleFocusEnd})):this.props.children},e.defaultProps={enableTabLoop:!0},e}(M.Component);function l2(t){var e=function(n){var r,i=typeof n.hidePopper=="boolean"?n.hidePopper:!0,o=M.useRef(null),s=gN(pe({open:!i,whileElementsMounted:qM,placement:n.popperPlacement,middleware:kn([tN({padding:15}),eN(10),nN({element:o})],(r=n.popperModifiers)!==null&&r!==void 0?r:[],!0)},n.popperProps)),a=pe(pe({},n),{hidePopper:i,popperProps:pe(pe({},s),{arrowRef:o})});return V.createElement(t,pe({},a))};return e}var u2=function(t){it(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e,"defaultProps",{get:function(){return{hidePopper:!0}},enumerable:!1,configurable:!0}),e.prototype.render=function(){var n=this.props,r=n.className,i=n.wrapperClassName,o=n.hidePopper,s=o===void 0?e.defaultProps.hidePopper:o,a=n.popperComponent,u=n.targetComponent,c=n.enableTabLoop,d=n.popperOnKeyDown,f=n.portalId,p=n.portalHost,g=n.popperProps,D=n.showArrow,I=void 0;if(!s){var k=nt("react-datepicker-popper",r);I=V.createElement(H1,{enableTabLoop:c},V.createElement("div",{ref:g.refs.setFloating,style:g.floatingStyles,className:k,"data-placement":g.placement,onKeyDown:d},a,D&&V.createElement(uN,{ref:g.arrowRef,context:g.context,fill:"currentColor",strokeWidth:1,height:8,width:16,style:{transform:"translateY(-1px)"},className:"react-datepicker__triangle"})))}this.props.popperContainer&&(I=M.createElement(this.props.popperContainer,{},I)),f&&!s&&(I=V.createElement(W1,{portalId:f,portalHost:p},I));var v=nt("react-datepicker-wrapper",i);return V.createElement(V.Fragment,null,V.createElement("div",{ref:g.refs.setReference,className:v},u),I)},e}(M.Component),c2=l2(u2),e_="react-datepicker-ignore-onclickoutside";function d2(t,e){return t&&e?Ct(t)!==Ct(e)||ae(t)!==ae(e):t!==e}var qd="Date input not valid.",h2=function(t){it(e,t);function e(n){var r=t.call(this,n)||this;return r.calendar=null,r.input=null,r.getPreSelection=function(){return r.props.openToDate?r.props.openToDate:r.props.selectsEnd&&r.props.startDate?r.props.startDate:r.props.selectsStart&&r.props.endDate?r.props.endDate:Te()},r.modifyHolidays=function(){var i;return(i=r.props.holidays)===null||i===void 0?void 0:i.reduce(function(o,s){var a=new Date(s.date);return Wn(a)?kn(kn([],o,!0),[pe(pe({},s),{date:a})],!1):o},[])},r.calcInitialState=function(){var i,o=r.getPreSelection(),s=$1(r.props),a=z1(r.props),u=s&&vi(o,ql(s))?s:a&&Vr(o,Bv(a))?a:o;return{open:r.props.startOpen||!1,preventFocus:!1,inputValue:null,preSelection:(i=r.props.selectsRange?r.props.startDate:r.props.selected)!==null&&i!==void 0?i:u,highlightDates:Qv(r.props.highlightDates),focused:!1,shouldFocusDayInline:!1,isRenderAriaLiveMessage:!1,wasHidden:!1}},r.resetHiddenStatus=function(){r.setState(pe(pe({},r.state),{wasHidden:!1}))},r.setHiddenStatus=function(){r.setState(pe(pe({},r.state),{wasHidden:!0}))},r.setHiddenStateOnVisibilityHidden=function(){document.visibilityState==="hidden"&&r.setHiddenStatus()},r.clearPreventFocusTimeout=function(){r.preventFocusTimeout&&clearTimeout(r.preventFocusTimeout)},r.setFocus=function(){r.input&&r.input.focus&&r.input.focus({preventScroll:!0})},r.setBlur=function(){r.input&&r.input.blur&&r.input.blur(),r.cancelFocusInput()},r.setOpen=function(i,o){o===void 0&&(o=!1),r.setState({open:i,preSelection:i&&r.state.open?r.state.preSelection:r.calcInitialState().preSelection,lastPreSelectChange:Kd},function(){i||r.setState(function(s){return{focused:o?s.focused:!1}},function(){!o&&r.setBlur(),r.setState({inputValue:null})})})},r.inputOk=function(){return Gn(r.state.preSelection)},r.isCalendarOpen=function(){return r.props.open===void 0?r.state.open&&!r.props.disabled&&!r.props.readOnly:r.props.open},r.handleFocus=function(i){var o,s,a=r.state.wasHidden,u=a?r.state.open:!0;a&&r.resetHiddenStatus(),!r.state.preventFocus&&u&&((s=(o=r.props).onFocus)===null||s===void 0||s.call(o,i),!r.props.preventOpenOnFocus&&!r.props.readOnly&&r.setOpen(!0)),r.setState({focused:!0})},r.sendFocusBackToInput=function(){r.preventFocusTimeout&&r.clearPreventFocusTimeout(),r.setState({preventFocus:!0},function(){r.preventFocusTimeout=setTimeout(function(){r.setFocus(),r.setState({preventFocus:!1})})})},r.cancelFocusInput=function(){clearTimeout(r.inputFocusTimeout),r.inputFocusTimeout=void 0},r.deferFocusInput=function(){r.cancelFocusInput(),r.inputFocusTimeout=setTimeout(function(){return r.setFocus()},1)},r.handleDropdownFocus=function(){r.cancelFocusInput()},r.handleBlur=function(i){var o,s;(!r.state.open||r.props.withPortal||r.props.showTimeInput)&&((s=(o=r.props).onBlur)===null||s===void 0||s.call(o,i)),r.setState({focused:!1})},r.handleCalendarClickOutside=function(i){var o,s;r.props.inline||r.setOpen(!1),(s=(o=r.props).onClickOutside)===null||s===void 0||s.call(o,i),r.props.withPortal&&i.preventDefault()},r.handleChange=function(){for(var i,o,s=[],a=0;a<arguments.length;a++)s[a]=arguments[a];var u=s[0];if(!(r.props.onChangeRaw&&(r.props.onChangeRaw.apply(r,s),!u||typeof u.isDefaultPrevented!="function"||u.isDefaultPrevented()))){r.setState({inputValue:(u==null?void 0:u.target)instanceof HTMLInputElement?u.target.value:null,lastPreSelectChange:f2});var c=r.props,d=c.dateFormat,f=d===void 0?e.defaultProps.dateFormat:d,p=c.strictParsing,g=p===void 0?e.defaultProps.strictParsing:p,D=c.selectsRange,I=c.startDate,k=c.endDate,v=(u==null?void 0:u.target)instanceof HTMLInputElement?u.target.value:"";if(D){var _=v.split("-",2).map(function(P){return P.trim()}),E=_[0],A=_[1],N=Wd(E??"",f,r.props.locale,g),O=Wd(A??"",f,r.props.locale,g),T=(I==null?void 0:I.getTime())!==(N==null?void 0:N.getTime()),y=(k==null?void 0:k.getTime())!==(O==null?void 0:O.getTime());if(!T&&!y||N&&Zt(N,r.props)||O&&Zt(O,r.props))return;(o=(i=r.props).onChange)===null||o===void 0||o.call(i,[N,O],u)}else{var S=Wd(v,f,r.props.locale,g,r.props.minDate);r.props.showTimeSelectOnly&&r.props.selected&&S&&!he(S,r.props.selected)&&(S=rP(r.props.selected,{hours:Pn(S),minutes:Rn(S),seconds:Xn(S)})),(S||!v)&&r.setSelected(S,u,!0)}}},r.handleSelect=function(i,o,s){if(r.props.shouldCloseOnSelect&&!r.props.showTimeSelect&&r.sendFocusBackToInput(),r.props.onChangeRaw&&r.props.onChangeRaw(o),r.setSelected(i,o,!1,s),r.props.showDateSelect&&r.setState({isRenderAriaLiveMessage:!0}),!r.props.shouldCloseOnSelect||r.props.showTimeSelect)r.setPreSelection(i);else if(!r.props.inline){r.props.selectsRange||r.setOpen(!1);var a=r.props,u=a.startDate,c=a.endDate;u&&!c&&(r.props.swapRange||!Xv(i,u))&&r.setOpen(!1)}},r.setSelected=function(i,o,s,a){var u,c,d=i;if(r.props.showYearPicker){if(d!==null&&Kl(ae(d),r.props))return}else if(r.props.showMonthYearPicker){if(d!==null&&j1(d,r.props))return}else if(d!==null&&Zt(d,r.props))return;var f=r.props,p=f.onChange,g=f.selectsRange,D=f.startDate,I=f.endDate,k=f.selectsMultiple,v=f.selectedDates,_=f.minTime,E=f.swapRange;if(!oi(r.props.selected,d)||r.props.allowSameDay||g||k)if(d!==null&&(r.props.selected&&(!s||!r.props.showTimeSelect&&!r.props.showTimeSelectOnly&&!r.props.showTimeInput)&&(d=Hd(d,{hour:Pn(r.props.selected),minute:Rn(r.props.selected),second:Xn(r.props.selected)})),!s&&(r.props.showTimeSelect||r.props.showTimeSelectOnly)&&_&&(d=Hd(d,{hour:_.getHours(),minute:_.getMinutes(),second:_.getSeconds()})),r.props.inline||r.setState({preSelection:d}),r.props.focusSelectedMonth||r.setState({monthSelectedIn:a})),g){var A=!D&&!I,N=D&&!I,O=D&&I;A?p==null||p([d,null],o):N&&(d===null?p==null||p([null,null],o):Xv(d,D)?E?p==null||p([d,D],o):p==null||p([d,null],o):p==null||p([D,d],o)),O&&(p==null||p([d,null],o))}else if(k){if(d!==null)if(!(v!=null&&v.length))p==null||p([d],o);else{var T=v.some(function(S){return he(S,d)});if(T){var y=v.filter(function(S){return!he(S,d)});p==null||p(y,o)}else p==null||p(kn(kn([],v,!0),[d],!1),o)}}else p==null||p(d,o);s||((c=(u=r.props).onSelect)===null||c===void 0||c.call(u,d,o),r.setState({inputValue:null}))},r.setPreSelection=function(i){var o=Gn(r.props.minDate),s=Gn(r.props.maxDate),a=!0;if(i){var u=ql(i);if(o&&s)a=Cs(i,r.props.minDate,r.props.maxDate);else if(o){var c=ql(r.props.minDate);a=Vr(i,c)||oi(u,c)}else if(s){var d=Bv(r.props.maxDate);a=vi(i,d)||oi(u,d)}}a&&r.setState({preSelection:i})},r.toggleCalendar=function(){r.setOpen(!r.state.open)},r.handleTimeChange=function(i){var o,s;if(!(r.props.selectsRange||r.props.selectsMultiple)){var a=r.props.selected?r.props.selected:r.getPreSelection(),u=r.props.selected?i:Hd(a,{hour:Pn(i),minute:Rn(i)});r.setState({preSelection:u}),(s=(o=r.props).onChange)===null||s===void 0||s.call(o,u),r.props.shouldCloseOnSelect&&!r.props.showTimeInput&&(r.sendFocusBackToInput(),r.setOpen(!1)),r.props.showTimeInput&&r.setOpen(!0),(r.props.showTimeSelectOnly||r.props.showTimeSelect)&&r.setState({isRenderAriaLiveMessage:!0}),r.setState({inputValue:null})}},r.onInputClick=function(){var i,o;!r.props.disabled&&!r.props.readOnly&&r.setOpen(!0),(o=(i=r.props).onInputClick)===null||o===void 0||o.call(i)},r.onInputKeyDown=function(i){var o,s,a,u,c,d;(s=(o=r.props).onKeyDown)===null||s===void 0||s.call(o,i);var f=i.key;if(!r.state.open&&!r.props.inline&&!r.props.preventOpenOnFocus){(f===Y.ArrowDown||f===Y.ArrowUp||f===Y.Enter)&&((a=r.onInputClick)===null||a===void 0||a.call(r));return}if(r.state.open){if(f===Y.ArrowDown||f===Y.ArrowUp){i.preventDefault();var p=r.props.showTimeSelectOnly?".react-datepicker__time-list-item[tabindex='0']":r.props.showWeekPicker&&r.props.showWeekNumbers?'.react-datepicker__week-number[tabindex="0"]':r.props.showFullMonthYearPicker||r.props.showMonthYearPicker?'.react-datepicker__month-text[tabindex="0"]':'.react-datepicker__day[tabindex="0"]',g=((u=r.calendar)===null||u===void 0?void 0:u.containerRef.current)instanceof Element&&r.calendar.containerRef.current.querySelector(p);g instanceof HTMLElement&&g.focus({preventScroll:!0});return}var D=Te(r.state.preSelection);f===Y.Enter?(i.preventDefault(),r.inputOk()&&r.state.lastPreSelectChange===Kd?(r.handleSelect(D,i),!r.props.shouldCloseOnSelect&&r.setPreSelection(D)):r.setOpen(!1)):f===Y.Escape?(i.preventDefault(),r.sendFocusBackToInput(),r.setOpen(!1)):f===Y.Tab&&r.setOpen(!1),r.inputOk()||(d=(c=r.props).onInputError)===null||d===void 0||d.call(c,{code:1,msg:qd})}},r.onPortalKeyDown=function(i){var o=i.key;o===Y.Escape&&(i.preventDefault(),r.setState({preventFocus:!0},function(){r.setOpen(!1),setTimeout(function(){r.setFocus(),r.setState({preventFocus:!1})})}))},r.onDayKeyDown=function(i){var o,s,a,u,c,d,f=r.props,p=f.minDate,g=f.maxDate,D=f.disabledKeyboardNavigation,I=f.showWeekPicker,k=f.shouldCloseOnSelect,v=f.locale,_=f.calendarStartDay,E=f.adjustDateOnChange,A=f.inline;if((s=(o=r.props).onKeyDown)===null||s===void 0||s.call(o,i),!D){var N=i.key,O=i.shiftKey,T=Te(r.state.preSelection),y=function(ne,X){var te=X;switch(ne){case Y.ArrowRight:te=I?ia(X,1):rr(X,1);break;case Y.ArrowLeft:te=I?xy(X,1):UI(X,1);break;case Y.ArrowUp:te=xy(X,1);break;case Y.ArrowDown:te=ia(X,1);break;case Y.PageUp:te=O?Eo(X,1):wo(X,1);break;case Y.PageDown:te=O?Kn(X,1):gn(X,1);break;case Y.Home:te=Nr(X,v,_);break;case Y.End:te=DN(X);break}return te},S=function(ne,X){for(var te=40,F=ne,Q=!1,J=0,se=y(ne,X);!Q;){if(J>=te){se=X;break}p&&se<p&&(F=Y.ArrowRight,se=Zt(p,r.props)?y(F,se):p),g&&se>g&&(F=Y.ArrowLeft,se=Zt(g,r.props)?y(F,se):g),Zt(se,r.props)?((F===Y.PageUp||F===Y.Home)&&(F=Y.ArrowRight),(F===Y.PageDown||F===Y.End)&&(F=Y.ArrowLeft),se=y(F,se)):Q=!0,J++}return se};if(N===Y.Enter){i.preventDefault(),r.handleSelect(T,i),!k&&r.setPreSelection(T);return}else if(N===Y.Escape){i.preventDefault(),r.setOpen(!1),r.inputOk()||(u=(a=r.props).onInputError)===null||u===void 0||u.call(a,{code:1,msg:qd});return}var P=null;switch(N){case Y.ArrowLeft:case Y.ArrowRight:case Y.ArrowUp:case Y.ArrowDown:case Y.PageUp:case Y.PageDown:case Y.Home:case Y.End:P=S(N,T);break}if(!P){(d=(c=r.props).onInputError)===null||d===void 0||d.call(c,{code:1,msg:qd});return}if(i.preventDefault(),r.setState({lastPreSelectChange:Kd}),E&&r.setSelected(P),r.setPreSelection(P),A){var x=Ct(T),R=Ct(P),C=ae(T),Z=ae(P);x!==R||C!==Z?r.setState({shouldFocusDayInline:!0}):r.setState({shouldFocusDayInline:!1})}}},r.onPopperKeyDown=function(i){var o=i.key;o===Y.Escape&&(i.preventDefault(),r.sendFocusBackToInput())},r.onClearClick=function(i){i&&i.preventDefault&&i.preventDefault(),r.sendFocusBackToInput();var o=r.props,s=o.selectsRange,a=o.onChange;s?a==null||a([null,null],i):a==null||a(null,i),r.setState({inputValue:null})},r.clear=function(){r.onClearClick()},r.onScroll=function(i){typeof r.props.closeOnScroll=="boolean"&&r.props.closeOnScroll?(i.target===document||i.target===document.documentElement||i.target===document.body)&&r.setOpen(!1):typeof r.props.closeOnScroll=="function"&&r.props.closeOnScroll(i)&&r.setOpen(!1)},r.renderCalendar=function(){var i,o;return!r.props.inline&&!r.isCalendarOpen()?null:V.createElement(i2,pe({showMonthYearDropdown:void 0,ref:function(s){r.calendar=s}},r.props,r.state,{setOpen:r.setOpen,dateFormat:(i=r.props.dateFormatCalendar)!==null&&i!==void 0?i:e.defaultProps.dateFormatCalendar,onSelect:r.handleSelect,onClickOutside:r.handleCalendarClickOutside,holidays:LN(r.modifyHolidays()),outsideClickIgnoreClass:e_,onDropdownFocus:r.handleDropdownFocus,onTimeChange:r.handleTimeChange,className:r.props.calendarClassName,container:r.props.calendarContainer,handleOnKeyDown:r.props.onKeyDown,handleOnDayKeyDown:r.onDayKeyDown,setPreSelection:r.setPreSelection,dropdownMode:(o=r.props.dropdownMode)!==null&&o!==void 0?o:e.defaultProps.dropdownMode}),r.props.children)},r.renderAriaLiveRegion=function(){var i=r.props,o=i.dateFormat,s=o===void 0?e.defaultProps.dateFormat:o,a=i.locale,u=r.props.showTimeInput||r.props.showTimeSelect,c=u?"PPPPp":"PPPP",d;return r.props.selectsRange?d="Selected start date: ".concat(Gt(r.props.startDate,{dateFormat:c,locale:a}),". ").concat(r.props.endDate?"End date: "+Gt(r.props.endDate,{dateFormat:c,locale:a}):""):r.props.showTimeSelectOnly?d="Selected time: ".concat(Gt(r.props.selected,{dateFormat:s,locale:a})):r.props.showYearPicker?d="Selected year: ".concat(Gt(r.props.selected,{dateFormat:"yyyy",locale:a})):r.props.showMonthYearPicker?d="Selected month: ".concat(Gt(r.props.selected,{dateFormat:"MMMM yyyy",locale:a})):r.props.showQuarterYearPicker?d="Selected quarter: ".concat(Gt(r.props.selected,{dateFormat:"yyyy, QQQ",locale:a})):d="Selected date: ".concat(Gt(r.props.selected,{dateFormat:c,locale:a})),V.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},d)},r.renderDateInput=function(){var i,o,s,a=nt(r.props.className,(i={},i[e_]=r.state.open,i)),u=r.props.customInput||V.createElement("input",{type:"text"}),c=r.props.customInputRef||"ref",d=r.props,f=d.dateFormat,p=f===void 0?e.defaultProps.dateFormat:f,g=d.locale,D=typeof r.props.value=="string"?r.props.value:typeof r.state.inputValue=="string"?r.state.inputValue:r.props.selectsRange?wN(r.props.startDate,r.props.endDate,{dateFormat:p,locale:g}):r.props.selectsMultiple?EN((s=r.props.selectedDates)!==null&&s!==void 0?s:[],{dateFormat:p,locale:g}):Gt(r.props.selected,{dateFormat:p,locale:g});return M.cloneElement(u,(o={},o[c]=function(I){r.input=I},o.value=D,o.onBlur=r.handleBlur,o.onChange=r.handleChange,o.onClick=r.onInputClick,o.onFocus=r.handleFocus,o.onKeyDown=r.onInputKeyDown,o.id=r.props.id,o.name=r.props.name,o.form=r.props.form,o.autoFocus=r.props.autoFocus,o.placeholder=r.props.placeholderText,o.disabled=r.props.disabled,o.autoComplete=r.props.autoComplete,o.className=nt(u.props.className,a),o.title=r.props.title,o.readOnly=r.props.readOnly,o.required=r.props.required,o.tabIndex=r.props.tabIndex,o["aria-describedby"]=r.props.ariaDescribedBy,o["aria-invalid"]=r.props.ariaInvalid,o["aria-labelledby"]=r.props.ariaLabelledBy,o["aria-required"]=r.props.ariaRequired,o))},r.renderClearButton=function(){var i=r.props,o=i.isClearable,s=i.disabled,a=i.selected,u=i.startDate,c=i.endDate,d=i.clearButtonTitle,f=i.clearButtonClassName,p=f===void 0?"":f,g=i.ariaLabelClose,D=g===void 0?"Close":g,I=i.selectedDates;return o&&(a!=null||u!=null||c!=null||I!=null&&I.length)?V.createElement("button",{type:"button",className:nt("react-datepicker__close-icon",p,{"react-datepicker__close-icon--disabled":s}),disabled:s,"aria-label":D,onClick:r.onClearClick,title:d,tabIndex:-1}):null},r.state=r.calcInitialState(),r.preventFocusTimeout=void 0,r}return Object.defineProperty(e,"defaultProps",{get:function(){return{allowSameDay:!1,dateFormat:"MM/dd/yyyy",dateFormatCalendar:"LLLL yyyy",disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",preventOpenOnFocus:!1,monthsShown:1,readOnly:!1,withPortal:!1,selectsDisabledDaysInRange:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,showTimeInput:!1,showPreviousMonths:!1,showMonthYearPicker:!1,showFullMonthYearPicker:!1,showTwoColumnMonthYearPicker:!1,showFourColumnMonthYearPicker:!1,showYearPicker:!1,showQuarterYearPicker:!1,showWeekPicker:!1,strictParsing:!1,swapRange:!1,timeIntervals:30,timeCaption:"Time",previousMonthAriaLabel:"Previous Month",previousMonthButtonLabel:"Previous Month",nextMonthAriaLabel:"Next Month",nextMonthButtonLabel:"Next Month",previousYearAriaLabel:"Previous Year",previousYearButtonLabel:"Previous Year",nextYearAriaLabel:"Next Year",nextYearButtonLabel:"Next Year",timeInputLabel:"Time",enableTabLoop:!0,yearItemNumber:Pa,focusSelectedMonth:!1,showPopperArrow:!0,excludeScrollbar:!0,customTimeInput:null,calendarStartDay:void 0,toggleCalendarOnIconClick:!1,usePointerEvent:!1}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){window.addEventListener("scroll",this.onScroll,!0),document.addEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},e.prototype.componentDidUpdate=function(n,r){var i,o,s,a;n.inline&&d2(n.selected,this.props.selected)&&this.setPreSelection(this.props.selected),this.state.monthSelectedIn!==void 0&&n.monthsShown!==this.props.monthsShown&&this.setState({monthSelectedIn:0}),n.highlightDates!==this.props.highlightDates&&this.setState({highlightDates:Qv(this.props.highlightDates)}),!r.focused&&!oi(n.selected,this.props.selected)&&this.setState({inputValue:null}),r.open!==this.state.open&&(r.open===!1&&this.state.open===!0&&((o=(i=this.props).onCalendarOpen)===null||o===void 0||o.call(i)),r.open===!0&&this.state.open===!1&&((a=(s=this.props).onCalendarClose)===null||a===void 0||a.call(s)))},e.prototype.componentWillUnmount=function(){this.clearPreventFocusTimeout(),window.removeEventListener("scroll",this.onScroll,!0),document.removeEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},e.prototype.renderInputContainer=function(){var n=this.props,r=n.showIcon,i=n.icon,o=n.calendarIconClassname,s=n.calendarIconClassName,a=n.toggleCalendarOnIconClick,u=this.state.open;return o&&console.warn("calendarIconClassname props is deprecated. should use calendarIconClassName props."),V.createElement("div",{className:"react-datepicker__input-container".concat(r?" react-datepicker__view-calendar-icon":"")},r&&V.createElement(o2,pe({icon:i,className:nt(s,!s&&o,u&&"react-datepicker-ignore-onclickoutside")},a?{onClick:this.toggleCalendar}:null)),this.state.isRenderAriaLiveMessage&&this.renderAriaLiveRegion(),this.renderDateInput(),this.renderClearButton())},e.prototype.render=function(){var n=this.renderCalendar();if(this.props.inline)return n;if(this.props.withPortal){var r=this.state.open?V.createElement(H1,{enableTabLoop:this.props.enableTabLoop},V.createElement("div",{className:"react-datepicker__portal",tabIndex:-1,onKeyDown:this.onPortalKeyDown},n)):null;return this.state.open&&this.props.portalId&&(r=V.createElement(W1,pe({portalId:this.props.portalId},this.props),r)),V.createElement("div",null,this.renderInputContainer(),r)}return V.createElement(c2,pe({},this.props,{className:this.props.popperClassName,hidePopper:!this.isCalendarOpen(),targetComponent:this.renderInputContainer(),popperComponent:n,popperOnKeyDown:this.onPopperKeyDown,showArrow:this.props.showPopperArrow}))},e}(M.Component),f2="input",Kd="navigate";function p2(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Q1=p2,m2=typeof qa=="object"&&qa&&qa.Object===Object&&qa,g2=m2,y2=g2,v2=typeof self=="object"&&self&&self.Object===Object&&self,_2=y2||v2||Function("return this")(),q1=_2,w2=q1,E2=function(){return w2.Date.now()},T2=E2,S2=/\s/;function D2(t){for(var e=t.length;e--&&S2.test(t.charAt(e)););return e}var k2=D2,C2=k2,I2=/^\s+/;function P2(t){return t&&t.slice(0,C2(t)+1).replace(I2,"")}var R2=P2,x2=q1,A2=x2.Symbol,K1=A2,t_=K1,G1=Object.prototype,b2=G1.hasOwnProperty,M2=G1.toString,ys=t_?t_.toStringTag:void 0;function N2(t){var e=b2.call(t,ys),n=t[ys];try{t[ys]=void 0;var r=!0}catch{}var i=M2.call(t);return r&&(e?t[ys]=n:delete t[ys]),i}var O2=N2,L2=Object.prototype,V2=L2.toString;function F2(t){return V2.call(t)}var B2=F2,n_=K1,U2=O2,j2=B2,$2="[object Null]",z2="[object Undefined]",r_=n_?n_.toStringTag:void 0;function Y2(t){return t==null?t===void 0?z2:$2:r_&&r_ in Object(t)?U2(t):j2(t)}var W2=Y2;function H2(t){return t!=null&&typeof t=="object"}var Q2=H2,q2=W2,K2=Q2,G2="[object Symbol]";function X2(t){return typeof t=="symbol"||K2(t)&&q2(t)==G2}var J2=X2,Z2=R2,i_=Q1,eO=J2,o_=NaN,tO=/^[-+]0x[0-9a-f]+$/i,nO=/^0b[01]+$/i,rO=/^0o[0-7]+$/i,iO=parseInt;function oO(t){if(typeof t=="number")return t;if(eO(t))return o_;if(i_(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=i_(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=Z2(t);var n=nO.test(t);return n||rO.test(t)?iO(t.slice(2),n?2:8):tO.test(t)?o_:+t}var sO=oO,aO=Q1,Gd=T2,s_=sO,lO="Expected a function",uO=Math.max,cO=Math.min;function dO(t,e,n){var r,i,o,s,a,u,c=0,d=!1,f=!1,p=!0;if(typeof t!="function")throw new TypeError(lO);e=s_(e)||0,aO(n)&&(d=!!n.leading,f="maxWait"in n,o=f?uO(s_(n.maxWait)||0,e):o,p="trailing"in n?!!n.trailing:p);function g(O){var T=r,y=i;return r=i=void 0,c=O,s=t.apply(y,T),s}function D(O){return c=O,a=setTimeout(v,e),d?g(O):s}function I(O){var T=O-u,y=O-c,S=e-T;return f?cO(S,o-y):S}function k(O){var T=O-u,y=O-c;return u===void 0||T>=e||T<0||f&&y>=o}function v(){var O=Gd();if(k(O))return _(O);a=setTimeout(v,I(O))}function _(O){return a=void 0,p&&r?g(O):(r=i=void 0,s)}function E(){a!==void 0&&clearTimeout(a),c=0,r=u=i=a=void 0}function A(){return a===void 0?s:_(Gd())}function N(){var O=Gd(),T=k(O);if(r=arguments,i=this,u=O,T){if(a===void 0)return D(u);if(f)return clearTimeout(a),a=setTimeout(v,e),g(u)}return a===void 0&&(a=setTimeout(v,e)),s}return N.cancel=E,N.flush=A,N}var hO=dO;const fO=Df(hO),a_=["Lead Singer","Vocalist","Guitarist","Bassist","Drummer","Pianist"],pO=["Offering","Doxology","Scripture Reading","Usher"],mO=["PPT","Audio/Video"],gO=["162nd Chinese","162nd English","137th Chinese"],yO=({isVisible:t,onClose:e,onSubmit:n})=>{var _;const[r,i]=M.useState({name:"",role:[],service_group:[],unavailable_dates:[]}),[o,s]=M.useState(null),[a,u]=M.useState(!1),[c,d]=M.useState(a_),[f,p]=M.useState("praise"),g=E=>{i(A=>({...A,role:A.role.includes(E)?A.role.filter(N=>N!==E):[...A.role,E]}))},D=E=>{i(A=>({...A,service_group:A.service_group.includes(E)?A.service_group.filter(N=>N!==E):[...A.service_group,E]})),console.log(r.service_group)},I=E=>{if(E){const A=E.toISOString().split("T")[0];i(N=>({...N,unavailable_dates:[...N.unavailable_dates||[],A]})),s(null)}},k=async E=>{var A;E.preventDefault();try{for(let N=0;N<r.service_group.length;N++){let O="";r.service_group[N]==="162nd Chinese"?O="162nd":r.service_group[N]==="162nd English"?O="162nd En":O="137th",await Ao.addMember({name:r.name,role:r.role,service_group:r.service_group,unavailable_dates:(A=r.unavailable_dates)==null?void 0:A.map(T=>ro(T,"yyyy-MM-dd"))},O)}n(),i({name:"",role:[],service_group:[],unavailable_dates:[]}),e()}catch(N){console.error("Error adding member:",N)}},v=M.useCallback(fO(async E=>{if(E.trim()){const A=await Ao.checkIfMemberExists(E,"162nd");u(A)}else u(!1)},500),[]);return t?U.jsx("div",{className:Ne.overlay,onClick:e,children:U.jsxs("div",{className:Ne.addMemberForm,onClick:E=>E.stopPropagation(),children:[U.jsx("h1",{children:"Add Member"}),U.jsxs("form",{onSubmit:k,children:[U.jsxs("div",{className:Ne.formGroup,children:[U.jsx("label",{children:"Name"}),U.jsx("input",{type:"text",value:r.name,onChange:E=>{const A=E.target.value;i({...r,name:A}),v(A)},className:`${Ne.input} ${a?Ne.error:""}`,placeholder:"Enter name",required:!0}),a&&U.jsx("p",{className:Ne.errorText,children:"Member already exists"})]}),U.jsx("div",{className:Ne.formGroup,children:U.jsxs("div",{className:Ne.sliderContainer,children:[U.jsx("input",{type:"radio",id:"praiseTeam",name:"team",value:"praise",checked:f==="praise",onChange:()=>{p("praise"),d(a_)}}),U.jsx("label",{htmlFor:"praiseTeam",children:"Praise Team"}),U.jsx("input",{type:"radio",id:"audioVideo",name:"team",value:"audio",checked:f==="audio",onChange:()=>{p("audio"),d(mO)}}),U.jsx("label",{htmlFor:"audioVideo",children:"Audio/Video"}),U.jsx("input",{type:"radio",id:"general",name:"team",value:"general",checked:f==="general",onChange:()=>{p("general"),d(pO)}}),U.jsx("label",{htmlFor:"general",children:"General"})]})}),U.jsxs("div",{className:Ne.formGroup,children:[U.jsx("label",{children:"Roles"}),U.jsxs("div",{className:Ne.rolesContainer,children:[" ",U.jsx("div",{className:Ne.checkboxGroup,children:c.map(E=>U.jsxs("label",{className:Ne.checkbox,children:[U.jsx("input",{type:"checkbox",checked:r.role.includes(E),onChange:()=>g(E)}),E]},E))})]})]}),U.jsxs("div",{className:Ne.formGroup,children:[U.jsx("label",{children:"Service Groups"}),U.jsx("div",{className:Ne.checkboxGroup,children:gO.map(E=>U.jsxs("label",{className:Ne.checkbox,children:[U.jsx("input",{type:"checkbox",checked:r.service_group.includes(E),onChange:()=>D(E)}),E]},E))})]}),U.jsxs("div",{className:Ne.formGroup,children:[U.jsx("label",{children:"Unavailable Dates"}),U.jsx("div",{className:Ne.datePickerContainer,children:U.jsx(h2,{selected:o,onChange:I,dateFormat:"yyyy-MM-dd",placeholderText:"Select dates",className:Ne.datePicker})}),U.jsx("div",{className:Ne.datesList,children:(_=r.unavailable_dates)==null?void 0:_.map((E,A)=>U.jsxs("div",{className:Ne.dateTag,children:[E,U.jsx("button",{type:"button",onClick:()=>i(N=>{var O;return{...N,unavailable_dates:(O=N.unavailable_dates)==null?void 0:O.filter(T=>T!==E)}}),children:""})]},A))})]}),U.jsxs("div",{className:Ne.formActions,children:[U.jsx("button",{type:"button",onClick:e,className:Ne.cancelButton,children:"Cancel"}),U.jsx("button",{type:"submit",className:Ne.submitButton,disabled:a,children:"Add Member"})]})]})]})}):null},vO="_floatingEdit_1hkww_1",_O="_fadeIn_1hkww_1",wO="_header_1hkww_20",EO="_closeButton_1hkww_35",TO="_content_1hkww_50",SO="_memberRow_1hkww_56",DO="_memberSelect_1hkww_72",kO="_footer_1hkww_89",CO="_cancelButton_1hkww_98",IO="_saveButton_1hkww_99",PO="_overlay_1hkww_126",Bt={floatingEdit:vO,fadeIn:_O,header:wO,closeButton:EO,content:TO,memberRow:SO,memberSelect:DO,footer:kO,cancelButton:CO,saveButton:IO,overlay:PO},l_=[{role:"Lead Singer",name:""},{role:"Vocalist",name:""},{role:"Vocalist 2",name:""},{role:"Guitarist",name:""},{role:"Bassist",name:""},{role:"Drummer",name:""},{role:"Pianist",name:""}],RO=[{role:"PPT",name:""},{role:"Audio/Video",name:""}],xO=[{role:"Offering",name:""},{role:"Usher",name:""},{role:"Doxology",name:""},{role:"Scripture Reading",name:""}],AO=({show:t,onClose:e,church:n,department:r,monthData:i})=>{const[o,s]=M.useState([]),[a,u]=M.useState({}),[c,d]=M.useState([]),[f,p]=M.useState(l_);M.useEffect(()=>{(async()=>{const v=await Ao.getAllMembers(n);s(v)})()},[]),M.useEffect(()=>{p(r==="audio_video"?RO:r==="general"?xO:l_)},[r]),M.useEffect(()=>{const k={};i.members.forEach(v=>{k[v.role]=v.name}),u(k)},[i]);const g=k=>{const v=k==="Vocalist 2"?"Vocalist":k;return o.filter(_=>_.role.some(A=>A.toLowerCase()===v.toLowerCase()))},D=async()=>{try{await Ao.updateSchedule(n,r,{date:i.date,members:Object.entries(a).map(([k,v])=>({role:k,name:v})),updatedAt:new Date().toISOString()}),e()}catch(k){console.error("Error saving schedule:",k)}},I=(k,v)=>{if(!v){d([]),u(A=>({...A,[k]:v}));return}const _=[],E=Object.entries(a).find(([A,N])=>N===v&&A!==k);E&&_.push({type:"SAME_PERSON",message:`${v} is already assigned as ${E[0]}`,severity:"ERROR"}),d(_),u(A=>({...A,[k]:v}))};return t?U.jsxs(U.Fragment,{children:[U.jsx("div",{className:Bt.overlay,onClick:e}),U.jsxs("div",{className:Bt.floatingEdit,children:[U.jsxs("div",{className:Bt.header,children:[U.jsx("h2",{children:i.date}),U.jsx("button",{onClick:e,className:Bt.closeButton,children:""})]}),U.jsx("div",{className:Bt.content,children:f.map(k=>U.jsxs("div",{className:Bt.memberRow,children:[U.jsx("h4",{children:k.role}),U.jsxs("select",{className:Bt.memberSelect,value:a[k.role]||"",onChange:v=>I(k.role,v.target.value),children:[U.jsx("option",{value:"",children:"Select member"}),g(k.role).map(v=>U.jsx("option",{value:v.name,children:v.name},v.name))]})]},k.role))}),c.length>0&&U.jsx("div",{className:Bt.conflictWarnings,children:c.map((k,v)=>U.jsxs("div",{className:`${Bt.conflictMessage} ${Bt[k.severity.toLowerCase()]}`,children:[" ",k.message]},v))}),U.jsxs("div",{className:Bt.footer,children:[U.jsx("button",{onClick:e,className:Bt.cancelButton,children:"Cancel"}),U.jsx("button",{className:Bt.saveButton,disabled:c.some(k=>k.severity==="ERROR"),onClick:D,children:"Save Changes"})]})]})]}):null};class lo{static async initClient(){if(this.isInitialized)return!0;try{return await new Promise((e,n)=>{const r=document.createElement("script");r.src="https://accounts.google.com/gsi/client",r.async=!0,r.defer=!0,r.onload=()=>e(),r.onerror=i=>n(i),document.head.appendChild(r)}),await new Promise((e,n)=>{const r=document.createElement("script");r.src="https://apis.google.com/js/api.js",r.async=!0,r.defer=!0,r.onload=()=>e(),r.onerror=i=>n(i),document.head.appendChild(r)}),await new Promise(e=>{window.gapi.load("client",e)}),await window.gapi.client.init({apiKey:"AIzaSyDJyD_suVvf2ysOil4GVKJQY6Kq9r3Ix0U",discoveryDocs:["https://www.googleapis.com/discovery/v1/apis/calendar/v3/rest"]}),this.tokenClient=window.google.accounts.oauth2.initTokenClient({client_id:"677039349773-oc656m927adcn2s64tg5mlslh5n65e9n.apps.googleusercontent.com",scope:"https://www.googleapis.com/auth/calendar.events",callback:()=>{},ux_mode:"popup",access_type:"offline"}),this.isInitialized=!0,!0}catch(e){throw e}}static async getAccessToken(){return this.hasValidToken?Promise.resolve():new Promise((e,n)=>{if(!this.tokenClient){n(new Error("Token client not initialized"));return}try{this.tokenClient.callback=r=>{if(r.error!==void 0){n(r);return}console.log("Access token obtained"),this.hasValidToken=!0,e(r)},this.tokenClient.requestAccessToken()}catch(r){console.error("Error getting access token:",r),n(r)}})}static async addEventToCalendar(e){try{this.isInitialized||await this.initClient(),this.hasValidToken||await this.getAccessToken();const n={summary:e.summary,description:e.description,start:{dateTime:e.start.toISOString(),timeZone:Intl.DateTimeFormat().resolvedOptions().timeZone},end:{dateTime:e.end.toISOString(),timeZone:Intl.DateTimeFormat().resolvedOptions().timeZone},reminders:e.reminders||{useDefault:!0}},r=await window.gapi.client.calendar.events.insert({calendarId:"primary",resource:n});if(console.log("Calendar API response:",r),r.status===200)return r.result;throw this.hasValidToken=!1,new Error(`Failed to create event. Status: ${r.status}`)}catch(n){throw console.error("Error creating calendar event:",n),this.hasValidToken=!1,n}}}H(lo,"isInitialized",!1),H(lo,"tokenClient",null),H(lo,"hasValidToken",!1);function Xd(t){return t.split(" ").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" ")}const bO=({month:t,schedules:e,onCardClick:n})=>{const r=e[t]||{members:[]};return U.jsxs("div",{className:Pe.card,onClick:()=>n(t),children:[U.jsx("div",{className:Pe.cardDate,children:t}),U.jsx("div",{className:Pe.memberList,children:r.members.map((i,o)=>{if(i.name){if(i.role==="Vocalist"){const s=r.members.find(a=>a.role==="Vocalist 2"&&a.name);return U.jsxs("div",{className:Pe.memberItem,children:[U.jsxs("span",{className:Pe.role,children:[i.role,":"]}),U.jsx("span",{children:Xd(i.name)}),s&&U.jsxs("span",{children:[" ","& ",Xd(s.name)]})]},o)}return i.role==="Vocalist 2"?null:U.jsxs("div",{className:Pe.memberItem,children:[U.jsxs("span",{className:Pe.role,children:[i.role,":"]}),U.jsx("span",{children:Xd(i.name)})]},o)}return null})})]})};function MO(t,e=new Date().getFullYear()){const n=new Date(`${t} 1, ${e}`),r=Sp(n),i=Tp(n);return Wk({start:r,end:i},{weekStartsOn:0}).filter(s=>ro(s,"M")===ro(r,"M")).map(s=>ro(s,"MMMM d"))}const u_=[["January","February","March"],["April","May","June"],["July","August","September"],["October","November","December"]];function NO(){const[t,e]=M.useState("162nd"),[n,r]=M.useState("praise_team"),[i,o]=M.useState(E()),[s,a]=M.useState(!1),[u,c]=M.useState(()=>sessionStorage.getItem("unlocked")==="true"),[d,f]=M.useState(!1),[p,g]=M.useState(!1),[D,I]=M.useState(""),k=u_[i],[v,_]=M.useState([]);M.useEffect(()=>{sessionStorage.setItem("unlocked",JSON.stringify(u))},[u]),M.useEffect(()=>{(async()=>{try{const Z=(await Ao.getAllMembers(t)).map(ne=>ne.name);_(Z)}catch(C){console.error("Error fetching members:",C)}})()},[t,n]);function E(){const R=new Date().getMonth();return Math.floor(R/3)}const A=()=>{const[R,C]=M.useState(""),Z=()=>{R==="123"?(c(!0),sessionStorage.setItem("unlocked","true"),f(!1)):alert("Incorrect password")};return U.jsx("div",{className:Pe.overlay,onClick:()=>f(!1),children:U.jsxs("div",{className:Pe.unlockForm,onClick:ne=>ne.stopPropagation(),children:[U.jsx("h1",{children:"Unlock Editing Mode"}),U.jsx("input",{type:"password",placeholder:"Enter password",value:R,onChange:ne=>C(ne.target.value),onKeyPress:ne=>ne.key==="Enter"&&Z(),autoFocus:!0}),U.jsxs("div",{className:Pe.buttonContainer,children:[U.jsx("button",{className:Pe.cancelButton,onClick:()=>f(!1),children:"Cancel"}),U.jsx("button",{className:Pe.unlockButton,onClick:Z,children:"Unlock"})]})]})})},[N,O]=M.useState({}),[,T]=M.useState(!0),y=async()=>{try{u&&c(!0);const C=(await Ao.getSchedules(t,n)).reduce((Z,ne)=>({...Z,[ne.id]:ne}),{});O(C)}catch(R){console.error("Error fetching schedules:",R)}finally{T(!1)}};M.useEffect(()=>{y()},[t,n]);const[S,P]=M.useState(""),x=async()=>{var R,C;if(!S){alert("Please select a member first");return}try{await lo.initClient();const Z=Object.entries(N).filter(([ne,X])=>{const te=X.members.some(F=>F.name.toString().toLowerCase()===S.toLowerCase());return console.log("Checking schedule:",X.date,"Has member:",te),te});if(Z.length===0){console.log("No events found for member:",S),alert("No scheduled events found for the selected member.");return}for(const[ne,X]of Z){console.log("Processing schedule:",ne,"Details:",X);const te=(R=X.date)==null?void 0:R.match(/\((.*?)\)/);if(!te){console.log("No date match found for schedule:",X);continue}const F=te[1],Q=new Date(`${F}, ${new Date().getFullYear()}`);console.log("Creating event for date:",Q);const J=(C=X.members.find(se=>se.name.toString().toLowerCase()===S.toLowerCase()))==null?void 0:C.role;if(console.log("Member role:",J,"for date:",F),J){const se=new Date(Q);se.setHours(10,0,0);const ve=new Date(Q);ve.setHours(12,0,0);const Me={summary:`Church Service - ${J}`,description:`Serving as ${J} at church`,start:se,end:ve,reminders:{useDefault:!1,overrides:[{method:"email",minutes:7*24*60},{method:"popup",minutes:7*24*60},{method:"email",minutes:2*24*60},{method:"popup",minutes:2*24*60}]}};await lo.addEventToCalendar(Me)}else console.log("No role found for member on date:",F)}alert("Events have been added to your calendar!")}catch(Z){console.error("Error adding events to calendar:",Z),alert("Failed to add events to calendar. Please try again.")}};return U.jsxs(U.Fragment,{children:[U.jsxs("div",{className:Pe.container,children:[U.jsxs("div",{className:Pe.header,children:[U.jsxs("select",{className:Pe.filterSelect,onChange:R=>{e(String(R.target.value))},children:[U.jsx("option",{value:"162nd",children:" 162nd Chinese"}),U.jsx("option",{value:"162nd En",children:" 162nd English"}),U.jsx("option",{value:"137th",children:"137th Church"})]}),U.jsxs("select",{className:Pe.filterSelect,onChange:R=>{r(String(R.target.value)),console.log(n)},children:[U.jsx("option",{value:"praise_team",children:"Praise Team "}),U.jsx("option",{value:"audio_video",children:" Audio/Video "}),U.jsx("option",{value:"general",children:" General "})]}),U.jsx("select",{className:Pe.monthSelector,value:i,onChange:R=>o(Number(R.target.value)),children:u_.map((R,C)=>U.jsxs("option",{value:C,children:[R[0],"  ",R[2]]},C))}),U.jsx("button",{className:Pe.unlockButton,onClick:()=>{u?c(!1):f(!0)},children:u?" Lock":" Unlock"}),U.jsx("button",{className:Pe.addButton,onClick:()=>a(!s),disabled:!u,children:"+ Add New"})]}),U.jsx("div",{className:Pe.mainContent,children:k.map(R=>U.jsxs("div",{className:Pe.monthSection,children:[U.jsx("h2",{children:R}),U.jsx("div",{className:Pe.cardGrid,children:MO(R).map((C,Z)=>U.jsx(bO,{month:`${Z+1}${OO(Z+1)} Sunday (${C})`,schedules:N,onCardClick:ne=>{I(ne),g(u)}},C))})]},R))}),U.jsxs("div",{className:Pe.footer,children:[U.jsxs("select",{className:Pe.userSelect,value:S,onChange:R=>P(R.target.value),children:[U.jsx("option",{value:"",children:"Select member"}),v.map(R=>U.jsx("option",{value:R.toString(),children:R},R.toString()))]}),U.jsx("button",{className:Pe.calendarButton,onClick:x,children:" Add to Calendar"})]})]}),d&&U.jsx(A,{}),U.jsx(yO,{isVisible:s,onClose:()=>a(!1),onSubmit:()=>Promise.resolve()}),p&&U.jsx(AO,{show:p,onClose:()=>{g(!1),y()},church:t,department:n,monthData:N[D]||{date:D,members:[]}})]})}function OO(t){if(t>3&&t<21)return"th";switch(t%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}}/**
 * @remix-run/router v1.21.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Hu(){return Hu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hu.apply(this,arguments)}var Er;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Er||(Er={}));const c_="popstate";function LO(t){t===void 0&&(t={});function e(r,i){let{pathname:o,search:s,hash:a}=r.location;return Ef("",{pathname:o,search:s,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:J1(i)}return FO(e,n,null,t)}function Vt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function X1(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function VO(){return Math.random().toString(36).substr(2,8)}function d_(t,e){return{usr:t.state,key:t.key,idx:e}}function Ef(t,e,n,r){return n===void 0&&(n=null),Hu({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Mc(e):e,{state:n,key:e&&e.key||r||VO()})}function J1(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Mc(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function FO(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,a=Er.Pop,u=null,c=d();c==null&&(c=0,s.replaceState(Hu({},s.state,{idx:c}),""));function d(){return(s.state||{idx:null}).idx}function f(){a=Er.Pop;let k=d(),v=k==null?null:k-c;c=k,u&&u({action:a,location:I.location,delta:v})}function p(k,v){a=Er.Push;let _=Ef(I.location,k,v);c=d()+1;let E=d_(_,c),A=I.createHref(_);try{s.pushState(E,"",A)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;i.location.assign(A)}o&&u&&u({action:a,location:I.location,delta:1})}function g(k,v){a=Er.Replace;let _=Ef(I.location,k,v);c=d();let E=d_(_,c),A=I.createHref(_);s.replaceState(E,"",A),o&&u&&u({action:a,location:I.location,delta:0})}function D(k){let v=i.location.origin!=="null"?i.location.origin:i.location.href,_=typeof k=="string"?k:J1(k);return _=_.replace(/ $/,"%20"),Vt(v,"No window.location.(origin|href) available to create URL for href: "+_),new URL(_,v)}let I={get action(){return a},get location(){return t(i,s)},listen(k){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(c_,f),u=k,()=>{i.removeEventListener(c_,f),u=null}},createHref(k){return e(i,k)},createURL:D,encodeLocation(k){let v=D(k);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:p,replace:g,go(k){return s.go(k)}};return I}var h_;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(h_||(h_={}));function BO(t,e,n){return n===void 0&&(n="/"),UO(t,e,n,!1)}function UO(t,e,n,r){let i=typeof e=="string"?Mc(e):e,o=tT(i.pathname||"/",n);if(o==null)return null;let s=Z1(t);jO(s);let a=null;for(let u=0;a==null&&u<s.length;++u){let c=JO(o);a=GO(s[u],c,r)}return a}function Z1(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,s,a)=>{let u={relativePath:a===void 0?o.path||"":a,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};u.relativePath.startsWith("/")&&(Vt(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let c=uo([r,u.relativePath]),d=n.concat(u);o.children&&o.children.length>0&&(Vt(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),Z1(o.children,e,d,c)),!(o.path==null&&!o.index)&&e.push({path:c,score:qO(c,o.index),routesMeta:d})};return t.forEach((o,s)=>{var a;if(o.path===""||!((a=o.path)!=null&&a.includes("?")))i(o,s);else for(let u of eT(o.path))i(o,s,u)}),e}function eT(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let s=eT(r.join("/")),a=[];return a.push(...s.map(u=>u===""?o:[o,u].join("/"))),i&&a.push(...s),a.map(u=>t.startsWith("/")&&u===""?"/":u)}function jO(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:KO(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const $O=/^:[\w-]+$/,zO=3,YO=2,WO=1,HO=10,QO=-2,f_=t=>t==="*";function qO(t,e){let n=t.split("/"),r=n.length;return n.some(f_)&&(r+=QO),e&&(r+=YO),n.filter(i=>!f_(i)).reduce((i,o)=>i+($O.test(o)?zO:o===""?WO:HO),r)}function KO(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function GO(t,e,n){let{routesMeta:r}=t,i={},o="/",s=[];for(let a=0;a<r.length;++a){let u=r[a],c=a===r.length-1,d=o==="/"?e:e.slice(o.length)||"/",f=p_({path:u.relativePath,caseSensitive:u.caseSensitive,end:c},d),p=u.route;if(!f&&c&&n&&!r[r.length-1].route.index&&(f=p_({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},d)),!f)return null;Object.assign(i,f.params),s.push({params:i,pathname:uo([o,f.pathname]),pathnameBase:ZO(uo([o,f.pathnameBase])),route:p}),f.pathnameBase!=="/"&&(o=uo([o,f.pathnameBase]))}return s}function p_(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=XO(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,d,f)=>{let{paramName:p,isOptional:g}=d;if(p==="*"){let I=a[f]||"";s=o.slice(0,o.length-I.length).replace(/(.)\/+$/,"$1")}const D=a[f];return g&&!D?c[p]=void 0:c[p]=(D||"").replace(/%2F/g,"/"),c},{}),pathname:o,pathnameBase:s,pattern:t}}function XO(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),X1(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,a,u)=>(r.push({paramName:a,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function JO(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return X1(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function tT(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}const uo=t=>t.join("/").replace(/\/\/+/g,"/"),ZO=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/");function eL(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const nT=["post","put","patch","delete"];new Set(nT);const tL=["get",...nT];new Set(tL);/**
 * React Router v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Qu(){return Qu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Qu.apply(this,arguments)}const nL=M.createContext(null),rL=M.createContext(null),rT=M.createContext(null),Nc=M.createContext(null),Oc=M.createContext({outlet:null,matches:[],isDataRoute:!1}),iT=M.createContext(null);function fm(){return M.useContext(Nc)!=null}function iL(){return fm()||Vt(!1),M.useContext(Nc).location}function oL(t,e){return sL(t,e)}function sL(t,e,n,r){fm()||Vt(!1);let{navigator:i}=M.useContext(rT),{matches:o}=M.useContext(Oc),s=o[o.length-1],a=s?s.params:{};s&&s.pathname;let u=s?s.pathnameBase:"/";s&&s.route;let c=iL(),d;if(e){var f;let k=typeof e=="string"?Mc(e):e;u==="/"||(f=k.pathname)!=null&&f.startsWith(u)||Vt(!1),d=k}else d=c;let p=d.pathname||"/",g=p;if(u!=="/"){let k=u.replace(/^\//,"").split("/");g="/"+p.replace(/^\//,"").split("/").slice(k.length).join("/")}let D=BO(t,{pathname:g}),I=dL(D&&D.map(k=>Object.assign({},k,{params:Object.assign({},a,k.params),pathname:uo([u,i.encodeLocation?i.encodeLocation(k.pathname).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?u:uo([u,i.encodeLocation?i.encodeLocation(k.pathnameBase).pathname:k.pathnameBase])})),o,n,r);return e&&I?M.createElement(Nc.Provider,{value:{location:Qu({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Er.Pop}},I):I}function aL(){let t=mL(),e=eL(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return M.createElement(M.Fragment,null,M.createElement("h2",null,"Unexpected Application Error!"),M.createElement("h3",{style:{fontStyle:"italic"}},e),n?M.createElement("pre",{style:i},n):null,null)}const lL=M.createElement(aL,null);class uL extends M.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?M.createElement(Oc.Provider,{value:this.props.routeContext},M.createElement(iT.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function cL(t){let{routeContext:e,match:n,children:r}=t,i=M.useContext(nL);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),M.createElement(Oc.Provider,{value:e},r)}function dL(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var o;if(!n)return null;if(n.errors)t=n.matches;else if((o=r)!=null&&o.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let d=s.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);d>=0||Vt(!1),s=s.slice(0,Math.min(s.length,d+1))}let u=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<s.length;d++){let f=s[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=d),f.route.id){let{loaderData:p,errors:g}=n,D=f.route.loader&&p[f.route.id]===void 0&&(!g||g[f.route.id]===void 0);if(f.route.lazy||D){u=!0,c>=0?s=s.slice(0,c+1):s=[s[0]];break}}}return s.reduceRight((d,f,p)=>{let g,D=!1,I=null,k=null;n&&(g=a&&f.route.id?a[f.route.id]:void 0,I=f.route.errorElement||lL,u&&(c<0&&p===0?(D=!0,k=null):c===p&&(D=!0,k=f.route.hydrateFallbackElement||null)));let v=e.concat(s.slice(0,p+1)),_=()=>{let E;return g?E=I:D?E=k:f.route.Component?E=M.createElement(f.route.Component,null):f.route.element?E=f.route.element:E=d,M.createElement(cL,{match:f,routeContext:{outlet:d,matches:v,isDataRoute:n!=null},children:E})};return n&&(f.route.ErrorBoundary||f.route.errorElement||p===0)?M.createElement(uL,{location:n.location,revalidation:n.revalidation,component:I,error:g,children:_(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):_()},null)}var Tf=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Tf||{});function hL(t){let e=M.useContext(rL);return e||Vt(!1),e}function fL(t){let e=M.useContext(Oc);return e||Vt(!1),e}function pL(t){let e=fL(),n=e.matches[e.matches.length-1];return n.route.id||Vt(!1),n.route.id}function mL(){var t;let e=M.useContext(iT),n=hL(Tf.UseRouteError),r=pL(Tf.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}const m_={};function gL(t,e){m_[e]||(m_[e]=!0,console.warn(e))}const g_=(t,e,n)=>gL(t," React Router Future Flag Warning: "+e+". "+("You can use the `"+t+"` future flag to opt-in early. ")+("For more information, see "+n+"."));function yL(t,e){t!=null&&t.v7_startTransition||g_("v7_startTransition","React Router will begin wrapping state updates in `React.startTransition` in v7","https://reactrouter.com/v6/upgrading/future#v7_starttransition"),!(t!=null&&t.v7_relativeSplatPath)&&!e&&g_("v7_relativeSplatPath","Relative route resolution within Splat routes is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath")}function oT(t){Vt(!1)}function vL(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Er.Pop,navigator:o,static:s=!1,future:a}=t;fm()&&Vt(!1);let u=e.replace(/^\/*/,"/"),c=M.useMemo(()=>({basename:u,navigator:o,static:s,future:Qu({v7_relativeSplatPath:!1},a)}),[u,a,o,s]);typeof r=="string"&&(r=Mc(r));let{pathname:d="/",search:f="",hash:p="",state:g=null,key:D="default"}=r,I=M.useMemo(()=>{let k=tT(d,u);return k==null?null:{location:{pathname:k,search:f,hash:p,state:g,key:D},navigationType:i}},[u,d,f,p,g,D,i]);return I==null?null:M.createElement(rT.Provider,{value:c},M.createElement(Nc.Provider,{children:n,value:I}))}function _L(t){let{children:e,location:n}=t;return oL(Sf(e),n)}new Promise(()=>{});function Sf(t,e){e===void 0&&(e=[]);let n=[];return M.Children.forEach(t,(r,i)=>{if(!M.isValidElement(r))return;let o=[...e,i];if(r.type===M.Fragment){n.push.apply(n,Sf(r.props.children,o));return}r.type!==oT&&Vt(!1),!r.props.index||!r.props.children||Vt(!1);let s={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=Sf(r.props.children,o)),n.push(s)}),n}/**
 * React Router DOM v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const wL="6";try{window.__reactRouterVersion=wL}catch{}const EL="startTransition",y_=x_[EL];function TL(t){let{basename:e,children:n,future:r,window:i}=t,o=M.useRef();o.current==null&&(o.current=LO({window:i,v5Compat:!0}));let s=o.current,[a,u]=M.useState({action:s.action,location:s.location}),{v7_startTransition:c}=r||{},d=M.useCallback(f=>{c&&y_?y_(()=>u(f)):u(f)},[u,c]);return M.useLayoutEffect(()=>s.listen(d),[s,d]),M.useEffect(()=>yL(r),[r]),M.createElement(vL,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:s,future:r})}var v_;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(v_||(v_={}));var __;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(__||(__={}));function SL(){const[t,e]=M.useState(!1);return M.useEffect(()=>{const n=async()=>{try{await lo.initClient(),e(!0)}catch(r){console.error("Failed to initialize Google API:",r),setTimeout(()=>{t||n()},2e3)}};return t||n(),()=>{}},[t]),U.jsx(TL,{children:U.jsx(_L,{children:U.jsx(oT,{path:"/",element:U.jsx(NO,{})})})})}Jd.createRoot(document.getElementById("root")).render(U.jsx(V.StrictMode,{children:U.jsx(SL,{})}));
